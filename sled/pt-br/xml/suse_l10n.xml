<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
    type="text/xml"
    title="Profiling step"
?>
<!DOCTYPE sect1
[
   <!ENTITY % entities SYSTEM "entity-decl.ent">
   %entities;
]>


<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<section xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1" xml:base="suse_l10n.xml" xml:id="sec-suse-l10n">
 <title>Configurações de idioma e específicas de país</title><indexterm> <primary>sistema</primary> <secondary>localizando</secondary> </indexterm> <indexterm> <primary>I18N</primary> </indexterm> <indexterm> <primary>L10N</primary> </indexterm> <indexterm> <primary>internacionalização</primary> </indexterm> <indexterm> <primary>localização</primary> </indexterm>

 <para>
  O sistema é, em uma extensão bastante ampla, internacionalizado e pode ser modificado de acordo com as necessidades locais. A internacionalização (<emphasis>I18N</emphasis>) permite localizações específicas (<emphasis>L10N</emphasis>). As abreviações I18N e L10N são derivadas das primeiras e últimas letras das palavras e, no meio, está o número de letras omitidas.
 </para>

 <para>
  As configurações são feitas com variáveis <systemitem>LC_</systemitem> definidas no arquivo <filename>/etc/sysconfig/language</filename>. Elas referem-se não somente ao <emphasis>suporte ao idioma nativo</emphasis>, mas também às categorias <emphasis>Mensagens</emphasis> (Idioma), <emphasis>Conjunto de Caracteres</emphasis>, <emphasis>Ordem de Classificação</emphasis>, <emphasis>Hora e Data</emphasis>, <emphasis>Números</emphasis> e <emphasis>Moeda</emphasis>. Cada uma dessas categorias pode ser definida diretamente com sua própria variável ou indiretamente com uma variável master no arquivo <filename>language</filename> (consulte a página de manual <command>local</command>). <indexterm><primary>arquivos de configuração</primary><secondary>idioma</secondary> </indexterm>
 </para>

 <variablelist>
  <varlistentry>
   <term><systemitem>RC_LC_MESSAGES</systemitem>, <systemitem>RC_LC_CTYPE</systemitem>, <systemitem>RC_LC_COLLATE</systemitem>, <systemitem>RC_LC_TIME</systemitem>, <systemitem>RC_LC_NUMERIC</systemitem>, <systemitem>RC_LC_MONETARY</systemitem><indexterm><primary>variáveis</primary><secondary>ambiente</secondary></indexterm>
   </term>
   <listitem>
    <para>
     Essas variáveis são passadas para o shell sem o prefixo <systemitem>RC_</systemitem> e representam as categorias listadas. Os perfis shell de referência estão listados abaixo. A configuração atual pode ser exibida com o comando <command>locale</command>.
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term><systemitem>RC_LC_ALL</systemitem>
   </term>
   <listitem>
    <para>
     Essa variável, se definida, sobregrava os valores das variáveis já mencionadas.
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term><systemitem>RC_LANG</systemitem>
   </term>
   <listitem>
    <para>
     Se nenhuma das variáveis anteriores for definida, esse é o fallback. Por padrão, apenas <systemitem>RC_LANG</systemitem> está definida. Isso facilita o processo para que os usuários informem seus próprios valores.
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term><systemitem>ROOT_USES_LANG</systemitem>
   </term>
   <listitem>
    <para>
     Uma variável <literal>yes</literal> ou <literal>no</literal>. Se for definida como <literal>no</literal>, <systemitem class="username">root</systemitem> sempre funcionará no ambiente POSIX.
    </para>
   </listitem>
  </varlistentry>
 </variablelist>

 <para>
  As variáveis podem ser definidas com o editor sysconfig do YaST (consulte a <xref linkend="sec-boot-sysconfig-edit"/>). O valor dessa variável contém o código do idioma, código do país, codificação e modificador. Os componentes individuais são conectados por caracteres especiais:
 </para>

<screen>
  LANG=&lt;language&gt;[[_&lt;COUNTRY&gt;].&lt;Encoding&gt;[@&lt;Modifier&gt;]]
</screen>

 <section>
  <title>Alguns exemplos</title>
  <para>
   Você deve sempre definir os códigos do idioma e do país juntos. As configurações do idioma seguem o padrão ISO 639 disponível em <link xlink:href="http://www.evertype.com/standards/iso639/iso639-en.html"/> e <link xlink:href="http://www.loc.gov/standards/iso639-2/"/>. Os códigos de país estão listados em ISO 3166, consulte <link xlink:href="http://en.wikipedia.org/wiki/ISO_3166"/>.


  </para>
  <para>
   Só faz sentido definir valores para os quais os arquivos de descrição utilizáveis podem ser encontrados em <filename>/usr/lib/locale</filename>. Arquivos de descrição adicionais podem ser criados de arquivos em <filename>/usr/share/i18n</filename> utilizando o comando <command>localedef</command>. Os arquivos de descrição fazem parte do pacote <systemitem>glibc-i18ndata. </systemitem> Um arquivo de descrição para <literal>en_US.UTF-8</literal> (para inglês e Estados Unidos) pode ser criado com:
  </para>

  
<screen>
localedef -i en_US -f UTF-8 en_US.UTF-8
</screen>
  <variablelist>
   <varlistentry>
    <term>
<systemitem>LANG=en_US.UTF-8</systemitem>
    </term>
    <listitem>
     <para>
      Essa é a configuração padrão se Inglês americano for selecionado durante a instalação. Se você tiver selecionado outro idioma, ele será habilitado, mas ainda terá o UTF-8 como codificação de caractere.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
<systemitem>LANG=en_US.ISO-8859-1</systemitem><indexterm><primary>codificação</primary><secondary>ISO-8859-1 </secondary></indexterm>
    </term>
    <listitem>
     <para>
      Define o idioma como inglês, o país como Estados Unidos e o conjunto de caracteres como <literal>ISO-8859-1</literal>. Essa definição de caractere não suporta o sinal de Euro, mas às vezes pode ser útil para programas que não foram atualizados para suportar <literal>UTF-8</literal>. A string que define o conjunto de caracteres (<literal>ISO-8859-1</literal> nesse caso) é então avaliada por programas como o Emacs.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term><systemitem>LANG=en_IE@euro</systemitem>
    </term>
    <listitem>
     <para>
      O exemplo acima inclui explicitamente o sinal de Euro em uma configuração de idioma. Essa configuração está basicamente obsoleta agora, pois o UTF-8 também cobre o símbolo do Euro. Será útil apenas se um aplicativo suportar ISO-8859-15 e não UTF-8.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   Nas versões anteriores, era necessário executar <command>SuSEconfig</command> após fazer qualquer mudança em <filename>/etc/sysconfig/language</filename>. O SuSEconfig então gravava as mudanças em <filename>/etc/SuSEconfig/profile</filename> e <filename>/etc/SuSEconfig/csh.login</filename>. No login, esses arquivos eram lidos por <filename>/etc/profile</filename> (para Bash) ou por <filename>/etc/csh.login</filename> (para tcsh) .
  </para>
  <para>
   Nas versões recentes, <filename>/etc/SuSEconfig/profile</filename> foi substituído por <filename>/etc/profile.d/lang.sh</filename>, e <filename>/etc/SuSEconfig/csh.login</filename> por <filename>/etc/profile.de/lang.csh</filename>. Porém, se eles existirem, ambos arquivos legados ainda serão lidos no login.
  </para>
  <para>
   A cadeia do processo agora é a seguinte:
  </para>
  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     Para Bash: <filename>/etc/profile</filename> lê <filename>/etc/profile.d/lang.sh</filename> que, por sua vez, analisa <filename>/etc/sysconfig/language</filename>.
    </para>
   </listitem>
   <listitem>
    <para>
     Para tcsh: No login, <filename>/etc/csh.login</filename> lê <filename>/etc/profile.d/lang.csh</filename> que, por sua vez, analisa <filename>/etc/sysconfig/language</filename>.
    </para>
   </listitem>
  </itemizedlist>
  <para>
   Isso garante que nenhuma mudança em <filename>/etc/sysconfig/language</filename> fique disponível no próximo login para o respectivo shell, sem precisar executar o SuSEconfig primeiro.<indexterm> <primary>arquivos de configuração</primary> <secondary>idioma</secondary> </indexterm><indexterm> <primary>arquivos de configuração</primary> <secondary>perfil</secondary> </indexterm> <indexterm> <primary>arquivos de configuração</primary> <secondary>/etc/profile.d/lang.sh</secondary> </indexterm>
  </para>
  <para>
   Os usuários anular os padrões do sistema editando o seu <filename>~/.bashrc</filename> da maneira adequada. Por exemplo, se você não quiser usar o <literal>en_US</literal> para mensagens de programa em todo o sistema, inclua <systemitem>LC_MESSAGES=es_ES</systemitem> para que as mensagens sejam exibidas em espanhol.
  </para>
 </section>

 <section xml:id="sec-suse-l10n-dot-i18n">
  <title>Configurações locais em <filename>~/.i18n</filename></title>
  <para>
   Se não estiver satisfeito com os padrões do sistema local, mude as configurações em <filename>~/.i18n</filename> de acordo com a sintaxe de script Bash. As entradas em <filename>~/.i18n</filename> substituem os padrões do sistema de <filename>/etc/sysconfig/language</filename>. Use os mesmos nomes de variáveis, mas sem os prefixos de namespace <literal>RC_</literal>. Por exemplo, use <literal>LANG</literal> em vez de <literal>RC_LANG</literal>:
  </para>
<screen>LANG=cs_CZ.UTF-8
LC_COLLATE=C
</screen>
 </section>

 <section xml:id="sec-suse-l10n-fallback">
  <title>Configurações de suporte de idioma</title>
  <para>
   Arquivos na categoria <emphasis>Mensagens</emphasis> são, via de regra, armazenados somente no diretório do idioma correspondente (como <filename>en</filename>) para ter um fallback. Se você definir <systemitem>LANG</systemitem> para <literal>en_US</literal> e o arquivo de mensagem em <filename>/usr/share/locale/en_US/LC_MESSAGES</filename> não existir, ele voltará para <filename>/usr/share/locale/en/LC_MESSAGES</filename>.
  </para>
  <para>
   Uma cadeia de fallback também pode ser definida, por exemplo, para bretão para francês ou galego para espanhol para português:
  </para>
  <para>
   <systemitem>LANGUAGE="br_FR:fr_FR"</systemitem>
  </para>
  <para>
   <systemitem>LANGUAGE="gl_ES:es_ES:pt_PT"</systemitem>
  </para>
  <para>
   Se desejar, use as variantes norueguesas Nynorsk e Bokmål (com fallback adicional para <literal>no</literal>):
  </para>
  <para>
   <systemitem>LANG="nn_NO"</systemitem>
  </para>
  <para>
   <systemitem>LANGUAGE="nn_NO:nb_NO:no"</systemitem>
  </para>
  <para>
   ou
  </para>
  <para>
   <systemitem>LANG="nb_NO"</systemitem>
  </para>
  <para>
   <systemitem>LANGUAGE="nb_NO:nn_NO:no"</systemitem>
  </para>
  <para>
   Observe que em norueguês, <systemitem>LC_TIME</systemitem> também é tratado de maneira diferente.
  </para>
  

  <para>
   Um problema que pode surgir é um separador usado para delimitar grupos de dígitos não ser reconhecido corretamente. Isso acontece se <systemitem>LANG</systemitem> for definido para um código de idioma com somente duas letras, como <literal>de</literal>, mas o arquivo de definição que o glibc utiliza estiver localizado em <filename>/usr/share/lib/de_DE/LC_NUMERIC</filename>. Por isso, <systemitem>LC_NUMERIC</systemitem> deve ser definido como <literal>de_DE</literal> para tornar a definição de separador visível para o sistema.
  </para>
 </section>

 <section xml:id="sec-suse-l10n-info">
  <title>Para obter mais informações</title>
  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     <emphasis>The GNU C Library Reference Manual</emphasis>, Capítulo <quote>Locales and Internationalization</quote>. Ele está incluído em <systemitem>glibc-info</systemitem>. <phrase os="sles;sled">O pacote está disponível no SUSE Linux Enterprise Software Development Kit (SDK). O SDK é um produto complementar do SUSE Linux Enterprise e está disponível para download pelo site <link xlink:href="http://download.suse.com/"/>.</phrase>
    </para>
   </listitem>
   <listitem>
    <para>
     Markus Kuhn, <emphasis>UTF-8 and Unicode FAQ for Unix/Linux</emphasis>, atualmente em <link xlink:href="http://www.cl.cam.ac.uk/~mgk25/unicode.html"/>.
    </para>
   </listitem>
   <listitem>
    <para>
     <emphasis>Unicode-Howto</emphasis> por Bruno Haible, disponível em <link xlink:href="http://tldp.org/HOWTO/Unicode-HOWTO-1.html"/>.
    </para>
   </listitem>
  </itemizedlist>
 </section>
</section>
