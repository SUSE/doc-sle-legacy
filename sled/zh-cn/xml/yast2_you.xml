<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN"
"novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="yast2_you.xml" id="cha-onlineupdate-you">
 <title>YaST 联机更新</title><indexterm><primary>更新</primary><secondary>联机</secondary></indexterm><indexterm><primary>YaST</primary><secondary>联机更新</secondary></indexterm>
 <para>
  <phrase os="sles;sled">Novell</phrase> 会一直为您的产品提供软件安全性更新。默认情况下，用更新小程序来保持您的系统是最新的。有关更新小程序的更多信息请参考<xref linkend="sec-updater"/>。本章介绍用于更新软件包的备用工具：YaST 联机更新。
 </para>
 <para>
  更新软件储存库提供了 <phrase role="productname"><phrase os="sled">SUSE® Linux Enterprise Desktop</phrase></phrase> 的最新增补程序。<phrase os="sles;sled;">如果安装时已注册您的产品，则更新储存库已配置。如果您尚未注册 <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase>，可通过运行 YaST 中的<menuchoice> <guimenu>软件</guimenu> <guimenu>联机更新配置</guimenu> </menuchoice>来执行此操作，也可启动<menuchoice> <guimenu>高级</guimenu> <guimenu>注册以获得支持和更新储存库</guimenu> </menuchoice>。</phrase>或者，可以从信任的源中手动添加更新储存库。要添加或去除储存库，请使用 YaST 中的<menuchoice><guimenu>软件</guimenu> <guimenu>软件储存库</guimenu></menuchoice>来启动储存库管理器。请在<xref linkend="sec-y2-sw-instsource"/>中了解更多有关储存库管理器的内容。
 </para>
 <note os="sles;sled">
  <title>访问更新编目时出错</title>
  <para>
   
   如果您不能访问更新编目，可能是由于订阅已过期。通常，<phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> 会附带一年或三年的订阅，在此期间您可以访问更新编目。订阅结束后，将拒绝您访问更新编目。
  </para>
  <para>
   如果对更新编目的访问遭到拒绝，您将看到一条警告消息，建议您访问 Novell Customer Center 并检查您的订阅。可在 <ulink url="http://www.novell.com/center/"/> 访问 Novell Customer Center。
  </para>
 </note>
 <para>
  
   提供了不同相关级别的更新：
 </para>
 <variablelist>
  <varlistentry>
   <term>安全性更新</term>
   <listitem>
    <para>
     修复严重的安全性危害，请务必安装。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>推荐更新</term>
   <listitem>
    <para>
     修复可能危及计算机安全的问题。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>可选更新</term>
   <listitem>
    <para>
     修复非安全性相关的问题或提供增强功能。
    </para>
   </listitem>
  </varlistentry>
 </variablelist>
 <sect1 id="sec-onlineupdate-you-overview">
  <title>联机更新对话框 </title>

  <para>
   YaST 的<guimenu>联机更新</guimenu>对话框以两种工具箱风格提供：GTK（用于 GNOME）和 Qt（用于 KDE）。这两种界面在外观上有区别，但基本功能相同。以下部分简单介绍了每种界面。要打开对话框，请启动 YaST，并选择<menuchoice> <guimenu>软件</guimenu> <guimenu>联机更新</guimenu> </menuchoice>。也可以从命令行输入 <command>yast2 online_update</command> 来启动该对话框。
  </para>

  <sect2 id="sec-onlineupdate-you-overview-qt">
   <title>KDE 界面 (Qt)</title>
   <para>
    <guimenu>联机更新</guimenu>窗口由四部分组成。
   </para>
   <figure>
    <title>YaST 联机更新 — Qt 界面</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast2_you.png" width="75%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast2_you.png" width="75%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    左侧的<guimenu>摘要</guimenu>部分列出了 <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> 可用的增补程序。增补程序按安全相关性（<literal>安全性</literal>、<literal>推荐</literal>和<literal>可选</literal>）排序。您可以从<guimenu>显示增补程序类别</guimenu>中选择以下某个选项来更改<guimenu>摘要</guimenu>部分的视图：
   </para>
   <variablelist>
    <varlistentry>
     <term><guimenu>必需的增补程序</guimenu>（默认视图）</term>
     <listitem>
      <para>
       当前未安装的适用于系统上已安装的包的增补程序。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>不必需的增补程序</guimenu>
     </term>
     <listitem>
      <para>
       适用于系统上未安装的包的增补程序，或要求已满足的增补程序（因为已从另一源对相关包进行了更新）。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>所有增补程序</guimenu>
     </term>
     <listitem>
      <para>
       <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> 的所有可用增补程序。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    <guimenu>摘要</guimenu>部分的每个列表项都由符号和增补程序名称组成。如需了解可能符号及其含义的概述，请按 <keycombo> <keycap function="shift"/> <keycap>F1</keycap> </keycombo>。<literal>安全性</literal>和<literal>建议</literal>增补程序需要的操作是自动预设置的。这些操作有<guimenu>自动安装</guimenu>、<guimenu>自动更新</guimenu>和<guimenu>自动删除</guimenu>。
   </para>
   <para>
    如果从非更新储存库的某个储存库安装最新包，此安装可能满足此包的某个增补程序的要求。在这种情况下，在增补程序摘要前会显示一个复选标记。该增补程序将显示在列表中，直到将其标记用于安装。这实际上不会安装增补程序（因为该包已经是最新的），而是将该增补程序标记为已安装。
   </para>
   <para>
    在<guimenu>摘要</guimenu>部分选择一个项，可在对话框左下角的<guimenu>增补程序描述</guimenu>中查看简短描述。右上部分列出所选增补程序中包含的包（一个增补程序可以由多个包组成）。单击右上部分中的项可以查看有关增补程序中包含的各个包的细节。
   </para>
  </sect2>

  <sect2 id="sec-onlineupdate-you-overview-gtk">
   <title>GNOME 界面 (GTK)</title>
   <para>
    <guimenu>联机更新</guimenu>窗口由四个主要部分组成。
   </para>
   <figure>
    <title>YaST 联机更新 — GTK 界面</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast2_you_gtk.png" width="75%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast2_you_gtk.png" width="75%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    右上部分列出 <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> 可用（或已安装）的增补程序。要根据安全相关性过滤增补程序，请单击窗口右上部分相应的<guimenu>优先级</guimenu>项：<literal>安全性</literal>、<literal>推荐</literal>、<literal>可选</literal>或<literal>所有增补程序</literal>。
   </para>
   <para>
    如果所有可用的增补程序都已安装，右上部分的<guimenu>包列表</guimenu>将不显示任何项。左下部分的框显示可用增补程序和已安装增补程序的数目，并且允许您切换到<guimenu>可用</guimenu>或<guimenu>已安装</guimenu>增补程序对应的视图。
   </para>
   <para>
    在<guimenu>包列表</guimenu>部分选择一个项，可在对话框右下角查看增补程序描述和更多细节。由于一个增补程序可以由多个包组成，单击右下部分的<guimenu>适用于</guimenu>项可以查看相应增补程序中包含哪些包。
   </para>
   <para>
    单击某个增补程序项将在窗口底部打开有关此增补程序详细信息的那一行。您可以在此处查看详细的增补程序描述以及可用的版本。您还可以选择<guimenu>安装</guimenu>可选增补程序（安全性和推荐增补程序已预先选定加以安装）。
   </para>
  </sect2>
 </sect1>
 <sect1 id="sec-onlineupdate-you-install">
  <title>安装增补程序</title>

  <para>
   在 YaST“联机更新”对话框中，您可以一次性安装所有可用的增补程序，也可以手动选择要应用到系统的增补程序。还可以还原已应用于系统的增补程序。
  </para>

  <para>
   默认情况下，您的系统当前可用的所有新增补程序（<literal>可选</literal>增补程序除外）都已标记为可安装。一旦您单击<guimenu>接受</guimenu>或<guimenu>应用</guimenu>，将自动应用它们。
  </para>

  <procedure>
   <title>使用 YaST 联机更新应用增补程序</title>
   <step performance="required">
    <para>
     启动 YaST 并选择<menuchoice><guimenu>软件</guimenu> <guimenu>联机更新</guimenu></menuchoice>。
    </para>
   </step>
   <step performance="required">
    <para>
     要自动应用您的系统当前可用的所有新增补程序（<literal>可选</literal>增补程序除外），请单击<guimenu>应用</guimenu>或<guimenu>接受</guimenu>以开始安装预先选择的增补程序。
    </para>
   </step>
   <step performance="required">
    <para>
     先修改要应用的增补程序选择：
    </para>
    <substeps performance="required">
     <step performance="required">
      <para>
       使用 GTK 和 Qt 界面分别提供的过滤器和视图。有关细节，请参见<xref linkend="sec-onlineupdate-you-overview-qt"/> 和<xref linkend="sec-onlineupdate-you-overview-gtk"/>。
      </para>
     </step>
     <step performance="required">
      <para>
       按照您的需要和喜好激活或停用相应复选框 (GNOME) 或右键单击增补程序并从环境菜单选择相应操作 (KDE)，来选择或取消选择增补程序。
      </para>
      <important>
       <title>始终应用安全性更新</title>
       <para>
        除非很有必要，否则请不要取消选择任何<literal>安全性</literal>相关的增补程序。因为这些增补程序可修复严重的安全性危害，防止系统遭受攻击。
       </para>
      </important>
     </step>
     <step performance="required">
      <para>
       多数增补程序包含几个包的更新。如果要更改单个包的操作，请右键单击包视图中的包，并选择一项操作 (KDE)。
      </para>
     </step>
     <step performance="required">
      <para>
       要确认您的选择并应用所选增补程序，请单击<guimenu>应用</guimenu>或<guimenu>接受</guimenu>以继续。
      </para>
     </step>
    </substeps>
   </step>
   <step performance="required">
    <para>
     安装完成后，单击<guimenu>完成</guimenu>退出 YaST <guimenu>联机更新</guimenu>。您的系统现在已是最新的了。
    </para>
   </step>
  </procedure>

  <tip>
   <title>禁用增量 RPM</title>
   <para>
    
    默认情况下，更新会作为增量 RPM 下载。由于从增量 RPM 重构建 RPM 包的任务需要消耗内存和处理器资源，出于性能考虑，某些设置或硬件配置可能要求您禁用增量 RPM。
   </para>
   <para>
    要禁用增量 RPM，请编辑文件 <filename>/etc/zypp/zypp.conf</filename>，将 <literal>download.use_deltarpm</literal> 设置为 <option>false</option>。
   </para>
  </tip>
 </sect1>
 <sect1 id="sec-onlineupdate-you-automatically">
  <title>自动联机更新</title>

  <para>
   YaST 还提供设置每日、每周或每月自动更新的选项。要使用相应模块，需要先安装 <systemitem class="resource">yast2-online-update-configuration</systemitem> 包。
  </para>

  <procedure>
   <title>配置自动联机更新</title>
   <step performance="required">
    <para>
     安装后，启动 YaST 并选择<menuchoice><guimenu>软件</guimenu> <guimenu>联机更新配置</guimenu></menuchoice>。
    </para>
    <para>
     也可以从命令行输入 <command>yast2 online_update_configuration</command> 来启动该模块。
    </para>
   </step>
   <step performance="required">
    <para>
     激活<guimenu>自动联机更新</guimenu>。
    </para>
   </step>
   <step performance="required">
    <para>
     选择是<guimenu>每日</guimenu>、<guimenu>每周</guimenu>还是<guimenu>每月</guimenu>更新。
    </para>
    <para>
     某些增补程序（如需要许可协议的内核更新或包）需要用户交互，这可能会导致自动更新过程停止。
    </para>
   </step>
   <step performance="required">
    <para>
     如果希望更新过程完全自动执行，请选择是否要<guimenu>跳过交互式增补程序</guimenu>。
    </para>
    <important>
     <title>跳过增补程序</title>
     <para>
      如果选择跳过任何需要交互的包，请时常运行手动<guimenu>联机更新</guimenu>以同样安装这些增补程序。否则可能会错过重要的增补程序。
     </para>
    </important>
   </step>
   <step performance="required">
    <para>
     要自动接受任何许可协议，请激活<guimenu>同意许可证</guimenu>。
    </para>
   </step>
   <step performance="required">
    <para>
     要自动安装更新包推荐的所有软件包，请激活<guimenu>包含推荐的软件包</guimenu>。
    </para>
   </step>
   <step performance="required">
    <para>
     要按照类别（例如安全性或推荐）过滤增补程序，请激活<guimenu>按类别过滤</guimenu>，并从列表中添加适当的增补程序类别。只会安装选中类别的增补程序，而将跳过其他类别的增补程序。
    </para>
   </step>
   <step performance="required">
    <para>
     单击<guimenu>确定</guimenu>确认您的配置。
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
