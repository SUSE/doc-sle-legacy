<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN"
"novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="gnome_beagle.xml" id="cha.gnome.beagle">
 <title>用 Beagle 搜索</title>
 <para>
  Beagle 是一款搜索工具，它会对您的个人信息空间（通常是用户主目录）建立索引，以执行搜索请求。借助 Beagle，您可以查找文档、电子邮件及附件、Web 历史记录、IM/IRC 交谈、通讯录联系人、约会时间、记事、源代码、图像、音乐（和视频）文件、存档（及其内容）以及应用程序。
 </para>
 <sect1 id="sec.gnome.beagle.use">
  <title>使用 Beagle</title>

  <para>
   要使用 Beagle，请单击<menuchoice> <guimenu>计算机</guimenu> </menuchoice>，在<guimenu>搜索</guimenu>字段中输入搜索术语，然后按 <keycap>Enter</keycap>。结果将显示在“桌面搜索”对话框中。
  </para>

  <para>
   您也可以通过依次单击<menuchoice> <guimenu>计算机</guimenu> <guimenu>更多应用程序</guimenu> <guimenu>系统</guimenu> <guimenu>搜索</guimenu> </menuchoice>访问“桌面搜索”或使用 <command>beagle-search</command> 从终端启动它。
  </para>

  <note>
   <title>启用搜索服务</title>
   <para>
    必须启用搜索服务才能使用 Beagle。如 Beagle 已禁用，您将看到<guimenu>搜索服务未运行</guimenu>页而非搜索结果。通过选中<guimenu>在登录时自动启动服务</guimenu>并单击<guimenu>启动搜索服务</guimenu>可永久启用此服务。
   </para>
  </note>

  <figure pgwide="0">
   <title>桌面搜索对话框</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="beagle_search.png" width="80%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="beagle_search.png" width="80%" format="png"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   您可以使用结果列表打开文件、通过电子邮件转发文件、将其移至废物桶或显示在文件管理器中。只需右键单击结果列表中的某一项，并选择所需选项即可。对于结果列表中的某个项目，选项是否可用取决于其文件类型。在列表中选择某个文件，将会显示该文件的预览和信息，如标题、路径和文件上次访问或修改的时间。
  </para>

  <figure pgwide="0">
   <title>文件选定时的桌面搜索对话框</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="beagle_display.png" width="80%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="beagle_display.png" width="80%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   使用<guimenu>查找范围</guimenu>下拉列表将搜索范围限制为特定类型的源（例如，应用程序、文件、图片、电子邮件、网页或联系人)。通过<guimenu>视图</guimenu>菜单可以根据名称、相关性或文件上次修改日期对结果列表中的项目进行排序。
  </para>
 </sect1>
 <sect1 id="sec.gnome.beagle.tipps">
  <title>搜索提示</title>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     在搜索项目中既可用大写字母也可用小写字母。搜索不区分大小写。
    </para>
   </listitem>
   <listitem>
    <para>
     要搜索可选术语，请使用 <literal>OR</literal>（例如，<literal>apples OR oranges</literal>）。
    </para>
    <important>
     <para>
      使用 <literal>OR</literal> 来表示可选搜索术语时，OR 必须大写。
     </para>
    </important>
   </listitem>
   <listitem>
    <para>
     要排除搜索术语，请在要排除的术语前面使用减号 (<literal>-</literal>)（例如，<literal>apples -oranges</literal> 将查找包含 apples 但不含 oranges 的结果）。
    </para>
   </listitem>
   <listitem>
    <para>
     搜索时会使用搜索术语的 root 形式（例如，搜索 <literal>driving</literal> 就会匹配 <literal>drive</literal>、<literal>drives</literal> 和 <literal>driven</literal>）。
    </para>
   </listitem>
   <listitem>
    <para>
     要搜索准确的单词或短语，请在该单词或短语两边加上引号 (<literal>""</literal>)。
    </para>
   </listitem>
   <listitem>
    <para>
     常用单词（如 "a"、"the" 和 "is"）会被忽略。
    </para>
   </listitem>
  </itemizedlist>
 </sect1>
 <sect1 id="sec.gnome.beagle.property_search">
  <title>执行属性搜索</title>

  <para>
   默认情况下，Beagle 搜索工具搜索在文档文本和元数据里的项目。要搜索特定属性中的单词，可使用 <command><replaceable>属性:</replaceable><replaceable>查询</replaceable></command>。例如，<literal>作者:john</literal> 在作者属性里搜索有 “john” 的文件。
  </para>

  <table frame="topbot" rowsep="0" pgwide="0">
   <title>支持的属性关键字</title>
   <tgroup cols="3">
    <colspec colnum="1" colname="1" colwidth="22*"/>
    <colspec colnum="2" colname="2" colwidth="21*"/>
    <colspec colnum="3" colname="3" colwidth="57*"/>
    <thead>
     <row>
      <entry colname="1">
       <para>
        关键字
       </para>
      </entry>
      <entry colname="2">
       <para>
        应用于
       </para>
      </entry>
      <entry colname="3">
       <para>
        属性
       </para>
      </entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry colname="1">
       <para>
        album
       </para>
      </entry>
      <entry colname="2">
       <para>
        音乐文件
       </para>
      </entry>
      <entry colname="3">
       <para>
        唱片名称
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        artist
       </para>
      </entry>
      <entry colname="2">
       <para>
        音乐文件
       </para>
      </entry>
      <entry colname="3">
       <para>
        艺术家名称
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        author
       </para>
      </entry>
      <entry colname="2">
       <para>
        文档
       </para>
      </entry>
      <entry colname="3">
       <para>
        文档的作者（与文档的创建者相同）
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        creator
       </para>
      </entry>
      <entry colname="2">
       <para>
        文档
       </para>
      </entry>
      <entry colname="3">
       <para>
        文档创建者，已映射至 dc:creator（例如 PDF 文件的创建者）
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        电子邮件
       </para>
      </entry>
      <entry colname="2">
       <para>
        通讯录
       </para>
      </entry>
      <entry colname="3">
       <para>
        电子邮件地址
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        emblem
       </para>
      </entry>
      <entry colname="2">
       <para>
        文件
       </para>
      </entry>
      <entry colname="3">
       <para>
        在 Nautilus 中使用的标志
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        extension 或 ext
       </para>
      </entry>
      <entry colname="2">
       <para>
        文件
       </para>
      </entry>
      <entry colname="3">
       <para>
        文件扩展名（例如，扩展名：jpeg 或 ext：mp3）。用 extension: 或 ext: 在无扩展名的文件中搜索。
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        genre
       </para>
      </entry>
      <entry colname="2">
       <para>
        音乐文件
       </para>
      </entry>
      <entry colname="3">
       <para>
        音乐风格
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        imagecomment
       </para>
      </entry>
      <entry colname="2">
       <para>
        图像文件
       </para>
      </entry>
      <entry colname="3">
       <para>
        有 IPTC 标题或 Exif 注释的图像中的注释和描述。
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        imagemodel
       </para>
      </entry>
      <entry colname="2">
       <para>
        JPEG 图像
       </para>
      </entry>
      <entry colname="3">
       <para>
        相机型号（例如 EOS2D）
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        imagetag
       </para>
      </entry>
      <entry colname="2">
       <para>
        图像文件
       </para>
      </entry>
      <entry colname="3">
       <para>
        F-Spot 和 DigiKam 图像标记，以及 IPTC 关键字
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        inarchive
       </para>
      </entry>
      <entry colname="2">
       <para>
        文件
       </para>
      </entry>
      <entry colname="3">
       <para>
        对于存档内的文件，请使用 <literal>inarchive:true</literal>。
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        inattachment
       </para>
      </entry>
      <entry colname="2">
       <para>
        文件
       </para>
      </entry>
      <entry colname="3">
       <para>
        对于电子邮件附件，请使用 <literal>inattachment:true</literal>。
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        mailfrom
       </para>
      </entry>
      <entry colname="2">
       <para>
        电子邮件
       </para>
      </entry>
      <entry colname="3">
       <para>
        寄件人姓名
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        mailfromaddr
       </para>
      </entry>
      <entry colname="2">
       <para>
        电子邮件
       </para>
      </entry>
      <entry colname="3">
       <para>
        寄件人的电子邮件地址
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        mailinglist
       </para>
      </entry>
      <entry colname="2">
       <para>
        电子邮件
       </para>
      </entry>
      <entry colname="3">
       <para>
        邮件列表的 ID（例如 dashboard-hackers.gnome.org）
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        mailto
       </para>
      </entry>
      <entry colname="2">
       <para>
        电子邮件
       </para>
      </entry>
      <entry colname="3">
       <para>
        收件人名称
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        mailtoaddr
       </para>
      </entry>
      <entry colname="2">
       <para>
        电子邮件
       </para>
      </entry>
      <entry colname="3">
       <para>
        收件人的电子邮件地址
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        speakingto
       </para>
      </entry>
      <entry colname="2">
       <para>
        交谈
       </para>
      </entry>
      <entry colname="3">
       <para>
        扬声器
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        title
       </para>
      </entry>
      <entry colname="2">
       <para>
        文档
       </para>
      </entry>
      <entry colname="3">
       <para>
        文档标题，已映射至 dc:title（例如 HTML 文件的标题标签）
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>

  <para>
   在<xref linkend="sec.gnome.beagle.tipps" xrefstyle="SectTitleOnPage"/>中，属性搜索遵守如下规则。您可以把属性搜索作为选择查询或排除查询，字段也可用来<replaceable>查询</replaceable>。例如，下一行将搜索所有 PDF 或 HTML 文档，这些文档中必须包含“apple”，它的作者属性必须有“john”，而且标题中不能带有“oranges”：
  </para>

  <para>
   <literal>apple ext:pdf OR ext:html author:john -title:oranges</literal>
  </para>
 </sect1>
 <sect1 id="sec.gnome.beagle.prefs">
  <title>设置搜索自选设置</title>

  <para>
   使用“搜索自选设置”对话框设置 Beagle 的搜索自选设置。
  </para>

  <procedure>
   <step performance="required">
    <para>
     依次单击<menuchoice> <guimenu>计算机</guimenu> <guimenu>控制中心</guimenu> <guimenu>系统</guimenu> <guimenu>搜索设置</guimenu> </menuchoice>。
    </para>
    <para>
     您也可以在“桌面搜索”对话框中单击<menuchoice><guimenu>搜索</guimenu><guimenu>自选设置</guimenu></menuchoice>。
    </para>
    <informalfigure pgwide="0">
     <mediaobject>
      <textobject role="description"><phrase>“搜索自选设置”对话框</phrase> </textobject> <imageobject role="fo"> <imagedata fileref="beagle_preferences.png" width="69%" format="PNG"/> </imageobject> <imageobject role="html"> <imagedata fileref="beagle_preferences.png" width="69%" format="PNG"/> </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step performance="required">
    <para>
     从以下选项中选择：
    </para>
    <formalpara>
     <title>自动启动搜索和索引服务：</title>
     <para>
      如果您希望登录至会话时自动启动搜索守护程序，请选择此选项。如果要使用 Beagle 的搜索功能，则守护程序必须正在运行中。
     </para>
    </formalpara>
    <formalpara>
     <title>电池供电时建立数据索引：</title>
     <para>
      如果希望在计算机靠电池供电时建立数据索引，请选择该选项。如果您在笔记本上使用 <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase>，希望在用电池供电时停止建立索引，可以禁用此选项。
     </para>
    </formalpara>
    <formalpara>
     <title>当屏幕保护程序处于运行状态时，调用更多资源以建立索引：</title>
     <para>
      如果屏幕保护程序正在运行中，系统会认为您当前没有主动使用计算机，因此会调用更多资源以建立索引。如果计算机耗用的是电池电能，则不会应用此选项。
     </para>
    </formalpara>
    <formalpara>
     <title>用户停止键入后自动开始搜索：</title>
     <para>
      如果希望 Beagle 在“桌面搜索”窗口的<guimenu>查找</guimenu>字段中停止输入文本后即可开始搜索，请选择该选项。该选项对主菜单中的<guimenu>搜索</guimenu>字段没有影响。
     </para>
    </formalpara>
    <formalpara>
     <title>按以下键显示搜索窗口：</title>
     <para>
      通过指定 Ctrl 键、Alt 键和其他功能键的任意组合，选择会显示“桌面搜索”窗口的击键。F12 是默认的击键。
     </para>
    </formalpara>
   </step>
   <step performance="required">
    <para>
     单击<guimenu>确定</guimenu>。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 id="sec.gnome.beagle.indexing">
  <title>对其他目录建立索引</title>

  <para>
   默认 Beagle 只对您的主目录建立索引。如果不想对主目录建立索引，请取消选中“搜索自选设置”对话框的<guimenu>建立索引</guimenu>选项卡上的<guimenu>对我的用户主目录建立索引</guimenu>选项。如果希望对其他文件夹建立索引，请遵循以下步骤：
  </para>

  <procedure>
   <step performance="required">
    <para>
     依次单击<menuchoice> <guimenu>计算机</guimenu> <guimenu>更多应用程序</guimenu> <guimenu>系统</guimenu> <guimenu>搜索设置</guimenu> </menuchoice>。
    </para>
    <para>
     您也可以在“桌面搜索”对话框中单击<menuchoice><guimenu>搜索</guimenu><guimenu>自选设置</guimenu></menuchoice>。
    </para>
   </step>
   <step performance="required">
    <para>
     单击<guimenu>索引</guimenu>选项卡。
    </para>
    <informalfigure pgwide="0">
     <mediaobject>
      <textobject role="description"><phrase>Beagle 建立索引自选设置</phrase> </textobject> <imageobject role="fo"> <imagedata fileref="beagle_indexing.png" width="69%" format="PNG"/> </imageobject> <imageobject role="html"> <imagedata fileref="beagle_indexing.png" width="69%" format="PNG"/> </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step performance="required">
    <para>
     在对话框的<guimenu>常规</guimenu>部分单击<guimenu>添加</guimenu>。
    </para>
   </step>
   <step performance="required">
    <para>
     选择要建立索引的目录，然后单击<guimenu>打开</guimenu>。
    </para>
    <para>
     确保您对要添加的目录至少具有读许可权限。
    </para>
   </step>
   <step performance="required">
    <para>
     如果您想从已建立索引的目录列表删除某目录，请在列表中选择它，然后单击<guimenu>删除</guimenu>。
    </para>
   </step>
   <step performance="required">
    <para>
     单击<guimenu>确定</guimenu>。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 id="sec.gnome.beagle.indexing_exclude">
  <title>防止对文件和目录建立索引</title>

  <para>
   用“搜索自选设置”对话框以指定不需要建立索引的资源。这些资源包括目录、模式、邮件文件夹或对象的类型。
  </para>

  <procedure>
   <step performance="required">
    <para>
     依次单击<menuchoice> <guimenu>计算机</guimenu> <guimenu>更多应用程序</guimenu> <guimenu>系统</guimenu> <guimenu>搜索设置</guimenu> </menuchoice>。
    </para>
   </step>
   <step performance="required">
    <para>
     单击<guimenu>索引</guimenu>选项卡。
    </para>
   </step>
   <step performance="required">
    <para>
     在<guimenu>私密</guimenu>部分单击<guimenu>添加</guimenu>。
    </para>
   </step>
   <step performance="required">
    <para>
     选择要从索引中排除的资源，然后指定该资源的路径或文件名模式。
    </para>
   </step>
   <step performance="required">
    <para>
     单击<guimenu>确定</guimenu>两次。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1>
  <title>选择要建立索引的数据源</title>

  <para>
   Beagle 可以对各种数据源、来自不同应用程序的数据（例如，Evolution 邮件、备忘和任务、Pidgin 交谈、Tomboy 记事或 Nautilus 元数据）、文件、应用程序、文档、手册页和其他内容建立索引。要选择应使用 Beagle 建立索引的数据源，请执行以下步骤：
  </para>

  <procedure>
   <step performance="required">
    <para>
     依次单击<menuchoice> <guimenu>计算机</guimenu> <guimenu>更多应用程序</guimenu> <guimenu>系统</guimenu> <guimenu>搜索设置</guimenu> </menuchoice>。
    </para>
   </step>
   <step performance="required">
    <para>
     单击<guimenu>数据源</guimenu>选项卡。
    </para>
   </step>
   <step performance="required">
    <para>
     检查这些数据源是否是要建立索引的。
    </para>
   </step>
   <step performance="required">
    <para>
     单击<guimenu>确定</guimenu>。
    </para>
   </step>
   <step performance="required">
    <para>
     通过按 <keycombo> <keycap function="alt"/> <keycap>F2</keycap> </keycombo>、输入
    </para>
<screen>beagled --replace</screen>
    <para>
     并按 <keycap function="enter"/> 重启动搜索服务以激活更改。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1>
  <title>禁用 Beagle</title>

  <para>
   在低端计算机上，Beagle 可能会占用大量资源。要禁用 Beagle，请依次单击<menuchoice> <guimenu>计算机</guimenu> <guimenu>控制中心</guimenu> <guimenu>系统</guimenu> <guimenu>搜索设置</guimenu> <guimenu>正在搜索</guimenu></menuchoice>，然后取消选中<guimenu>自动启动搜索和索引服务</guimenu>选项。
  </para>

  <para>
   您也可以通过编辑 <filename>/etc/beagle/crawl-rules/</filename> 目录中的配置文件来禁用 Beagle。要禁用 Beagle，请在目录的所有 <filename>crawl-*</filename> 文件中将选项 <literal>CRAWL_ENABLED</literal> 都设置为<literal>否</literal>。
  </para>
 </sect1>
</chapter>
