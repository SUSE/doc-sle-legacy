<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
    type="text/xml"
    title="Profiling step"
?>
<!DOCTYPE sect1
[
   <!ENTITY % entities SYSTEM "entity-decl.ent">
   %entities;
]>


<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<section xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1" xml:base="suse_sw_packages.xml" xml:id="sec-suse-packages">
 <title>Informationen zu speziellen Softwarepaketen</title>

 <para>
  Die Programme <systemitem class="resource">bash</systemitem>, <systemitem class="resource">cron</systemitem>, <systemitem class="resource">logrotate</systemitem>, <systemitem class="resource">locate</systemitem>, <systemitem class="resource">ulimit</systemitem> und <systemitem class="resource">free</systemitem> spielen für Systemadministratoren und viele Benutzer eine wichtige Rolle. man-Seiten und info-Seiten sind hilfreiche Informationsquellen zu Befehlen, sind jedoch nicht immer verfügbar. GNU Emacs ist ein beliebter konfigurierbarer Texteditor.
 </para>

 <section xml:id="sec-suse-packages-bash">
  <title>Das Paket bash und /etc/profile</title><indexterm> <primary>Bash</primary> <secondary>Profil</secondary> </indexterm> <indexterm> <primary>Konfigurationsdateien</primary> <secondary>Profil </secondary> </indexterm>
  <para>
   Bash ist die Standard-System-Shell. Wenn sie als Anmelde-Shell verwendet wird, werden mehrere Initialisierungsdateien gelesen. Bash verarbeitet die entsprechenden Informationen in der Reihenfolge dieser Liste:
  </para>
<?dbfo-need height="10em"?>


  <orderedlist spacing="normal">
   <listitem>
    <para>
     <filename>/etc/profile</filename>
    </para>
   </listitem>
   <listitem>
    <para>
     <filename>~/.profile</filename>
    </para>
   </listitem>
   <listitem>
    <para>
     <filename>/etc/bash.bashrc</filename>
    </para>
   </listitem>
   <listitem>
    <para>
     <filename>~/.bashrc</filename>
    </para>
   </listitem>
  </orderedlist><indexterm> <primary>Bash</primary> <secondary>.bashrc</secondary> </indexterm> <indexterm> <primary>Bash</primary> <secondary>.profile</secondary> </indexterm> <indexterm> <primary>Konfigurationsdateien</primary> <secondary>.bashrc</secondary> </indexterm> <indexterm> <primary>Konfigurationsdateien</primary> <secondary>.profile</secondary> </indexterm>
  <para>
   Nehmen Sie benutzerdefinierte Einstellungen in <filename>~/.profile</filename> oder <filename>~/.bashrc</filename> vor. Um die richtige Verarbeitung der Dateien zu gewährleisten, müssen die Grundeinstellungen aus <filename>/etc/skel/.profile</filename> oder <filename>/etc/skel/.bashrc</filename> in das Home-Verzeichnis des Benutzers kopiert werden. Es empfiehlt sich, die Einstellungen aus <filename>/etc/skel</filename> nach einer Aktualisierung zu kopieren. Führen Sie die folgenden Shell-Befehle aus, um den Verlust persönlicher Einstellungen zu vermeiden:
  </para>
<screen>mv ~/.bashrc ~/.bashrc.old
cp /etc/skel/.bashrc ~/.bashrc
mv ~/.profile ~/.profile.old
cp /etc/skel/.profile ~/.profile</screen>
  <para>
   Kopieren Sie anschließend die persönlichen Einstellungen erneut aus den <literal>*.old</literal>-Dateien.

  </para>
 </section>

 <section xml:id="sec-suse-packages-cron">

  <title>Das cron-Paket</title><indexterm> <primary>cron</primary> </indexterm> <indexterm> <primary>Konfigurationsdateien</primary> <secondary>crontab</secondary> </indexterm>
  <para>
   Wenn Sie Kommandos regelmäßig und automatisch zu bestimmten Zeiten im Hintergrund ausführen möchten, verwenden Sie dazu am besten das Tool cron. cron wird durch speziell formatierte Zeittabellen gesteuert. Einige sind bereits im Lieferumfang des Systems enthalten, bei Bedarf können Benutzer jedoch auch eigene Tabellen erstellen.
  </para>
  <para>
   Die cron-Tabellen befinden sich im Verzeichnis <filename>/var/spool/cron/tabs</filename>. <filename>/etc/crontab</filename> dient als systemübergreifende cron-Tabelle. Geben Sie den Benutzernamen zur Ausführung des Befehls unmittelbar nach der Zeittabelle und noch vor dem Befehl ein. In <xref linkend="ex-suse-packages-cron"/>, wird <systemitem class="username">root</systemitem> eingegeben. Die paketspezifischen Tabellen in <filename>/etc/cron.d</filename> weisen alle dasselbe Format auf. Informationen hierzu finden Sie auf der man-Seite zu <command>cron</command> (<command>man cron</command>).
  </para>
  <example xml:id="ex-suse-packages-cron">
   <title>Eintrag in /etc/crontab</title>
<screen>1-59/5 * * * *   root   test -x /usr/sbin/atrun &amp;&amp; /usr/sbin/atrun</screen>
  </example>
  <para>
   Sie können <filename>/etc/crontab</filename> nicht bearbeiten, indem Sie den Befehl <command>crontab -e</command> bearbeiten. Die Datei muss direkt in einem Editor geladen, geändert und dann gespeichert werden.
  </para>
  <para>
   Einige Pakte installieren Shell-Skripten in die Verzeichnisse <filename>/etc/cron.hourly</filename>, <filename>/etc/cron.daily</filename>, <filename>/etc/cron.weekly</filename> und <filename>/etc/cron.monthly</filename>, deren Ausführung durch <filename>/usr/lib/cron/run-crons</filename> gesteuert wird. <filename>/usr/lib/cron/run-crons</filename> wird alle 15 Minuten von der Haupttabelle (<filename>/etc/crontab</filename>) ausgeführt. Hiermit wird gewährleistet, dass vernachlässigte Prozesse zum richtigen Zeitpunkt ausgeführt werden können.
  </para>
  <para>
   Um die Skripten <filename>hourly</filename>, <filename>daily</filename> oder andere Skripten für regelmäßige Wartungsarbeiten zu benutzerdefinierten Zeiten auszuführen, entfernen Sie regelmäßig die Zeitstempeldateien mit <filename>/etc/crontab</filename>-Einträgen (siehe <xref linkend="ex-suse-packages-cron-time"/> – u. a. wird <filename>hourly</filename> vor jeder vollen Stunde und <filename>daily</filename> einmal täglich um 2:14 Uhr entfernt).
  </para>
  <example xml:id="ex-suse-packages-cron-time">
   <title>/etc/crontab: Entfernen der Zeitstempeldateien</title>
<screen>59 *  * * *     root  rm -f /var/spool/cron/lastrun/cron.hourly
14 2  * * *     root  rm -f /var/spool/cron/lastrun/cron.daily
29 2  * * 6     root  rm -f /var/spool/cron/lastrun/cron.weekly
44 2  1 * *     root  rm -f /var/spool/cron/lastrun/cron.monthly</screen>
  </example>
  <para>
   Sie können auch <literal>DAILY_TIME</literal> in <filename>/etc/sysconfig/cron</filename> auf die Zeit einstellen, zu der <filename>cron.daily</filename> gestartet werden soll. Mit <literal>MAX_NOT_RUN</literal> stellen Sie sicher, dass die täglichen Aufgaben auch dann ausgeführt werden, wenn der Computer zur angegebenen <literal>DAILY_TIME</literal> und auch eine längere Zeit danach nicht eingeschaltet ist. Die maximale Einstellung von <literal>MAX_NOT_RUN</literal> sind 14 Tage.
  </para>
  <para>
   Die täglichen Systemwartungsaufträge werden zum Zwecke der Übersichtlichkeit auf mehrere Skripts verteilt. Sie sind im Paket <systemitem class="resource">aaa_base</systemitem> enthalten. <filename>/etc/cron.daily</filename> enthält beispielsweise die Komponenten <filename>suse.de-backup-rpmdb</filename>, <filename>suse.de-clean-tmp</filename> oder <filename>suse.de-cron-local</filename>.
   
  </para>
 </section>

 <xi:include href="suse_logfiles.xml" parse="xml"/>

 <section xml:id="sec-suse-locate">
  <title>Der Befehl „locate“</title><indexterm> <primary>Dateien</primary> <secondary>Suchen</secondary> </indexterm> <indexterm> <primary>locate</primary> </indexterm>
  <para>
   <command>locate</command>, ein Kommando zum schnellen Suchen von Dateien, ist nicht im Standardumfang der installierten Software enthalten. Wenn Sie möchten, installieren Sie das Paket <systemitem>findutils-locate</systemitem>. Der Prozess updatedb wird jeden Abend etwa 15 Minuten nach dem Booten des Systems gestartet.
  </para>
 </section>

 <section xml:id="sec-suse-ulimit">
  <title>Der Befehl „ulimit“</title><indexterm> <primary>ulimit</primary> </indexterm> <indexterm> <primary>Core-Dateien</primary> </indexterm> <indexterm> <primary>System</primary> <secondary>Beschränken der Ressourcenauslastung</secondary> </indexterm>
  <para>
   Mit dem Kommando <command>ulimit</command> (<emphasis>user limits</emphasis>) ist es möglich, Begrenzungen für die Verwendung von Systemressourcen festzulegen und anzuzeigen. <command>ulimit</command> ist besonders nützlich für die Begrenzung des verfügbaren Arbeitsspeichers für Anwendungen. Damit kann eine Anwendung daran gehindert werden, zu viele Systemressourcen zu reservieren und damit das Betriebssystem zu verlangsamen oder sogar aufzuhängen.
  </para>
  <para>
   <command>ulimit</command> kann mit verschiedenen Optionen verwendet werden. Verwenden Sie zum Begrenzen der Speicherauslastung die in <xref linkend="tab-suse-packages-ulimit"/> aufgeführten Optionen.
  </para><indexterm> <primary>ulimit</primary> <secondary>Optionen</secondary> </indexterm>
  <table xml:id="tab-suse-packages-ulimit">
   <title><command>ulimit</command>: Einstellen von Ressourcen für Benutzer</title>

   <tgroup cols="2">
    <tbody>
     <row>
      <entry>
       <para>
        <option>-m</option>
       </para>
      </entry>
      <entry>
       <para>
        Die maximale nicht auslagerbare festgelegte Größe
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>-v</option>
       </para>
      </entry>
      <entry>
       <para>
        Die maximale Größe des virtuellen Arbeitsspeichers, der der Shell zur Verfügung steht
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>-s</option>
       </para>
      </entry>
      <entry>
       <para>
        Die maximale Größe des Stapels
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>-c</option>
       </para>
      </entry>
      <entry>
       <para>
        Die maximale Größe der erstellten Kerndateien
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <option>-a</option>
       </para>
      </entry>
      <entry>
       <para>
        Alle aktuellen Grenzwerte werden gemeldet
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table><indexterm> <primary>Konfigurationsdateien</primary> <secondary>Profile</secondary> </indexterm>
  <para>
   In <filename>/etc/profile</filename> können Sie systemweite Einträge vornehmen. Aktivieren Sie hier die Erstellung der Core-Dateien, die Programmierer für die <emphasis>Fehlersuche</emphasis> benötigen. Ein normaler Benutzer kann die in <filename>/etc/profile</filename> vom Systemadministrator festgelegten Werte nicht erhöhen, er kann jedoch spezielle Einträge in <filename>~/.bashrc</filename> vornehmen.
  </para><indexterm> <primary>Konfigurationsdateien</primary> <secondary>.bashrc</secondary> </indexterm>
  <example xml:id="ex-u-ulimit-bashrc">
   <title>ulimit: Einstellungen in ~/.bashrc</title>
<screen># Limits maximum resident set size (physical memory):
ulimit -m 98304
 
# Limits of virtual memory:
ulimit -v 98304</screen>
  </example>
  <para>
   Die Speicherzuteilungen müssen in KB erfolgen. Weitere Informationen erhalten Sie mit <command>man bash</command>.
  </para>
  <important>
   <para>
    <command>ulimit</command>-Direktiven werden nicht von allen Shells unterstützt. PAM (beispielsweise <literal>pam_limits</literal>) bietet umfassende Anpassungsmöglichkeiten, wenn Sie Einstellungen für diese Beschränkungen vornehmen müssen.
   </para>
  </important>
 </section>

 <section xml:id="sec-suse-free">
  <title>Der Befehl „free“</title><indexterm> <primary>Arbeitsspeicher</primary> <secondary>RAM</secondary> </indexterm> <indexterm> <primary>Befehle</primary> <secondary>free</secondary> </indexterm>
  <para>
   Dasommando <command>free</command> zeigt die Größe des insgesamt vorhandenen freien und verwendeten physischen Arbeitsspeichers und Auslagerungsspeichers im System sowie die vom Kernel verwendeten Puffer und den verwendeten Cache an. Das Konzept des <emphasis>verfügbaren Arbeitsspeichers</emphasis> geht auf Zeiten vor der einheitlichen Speicherverwaltung zurück. Bei Linux gilt der Grundsatz <emphasis>freier Arbeitsspeicher ist schlechter Arbeitsspeicher. </emphasis> Daher wurde bei Linux immer darauf geachtet, die Caches auszugleichen, ohne freien oder nicht verwendeten Arbeitsspeicher zuzulassen.
  </para>
  <para>
   Der Kernel verfügt nicht direkt über Anwendungs- oder Benutzerdaten. Stattdessen verwaltet er Anwendungen und Benutzerdaten in einem <emphasis>Seiten-Cache</emphasis>. Falls nicht mehr genügend Arbeitsspeicher vorhanden ist, werden Teile auf der Swap-Partition oder in Dateien gespeichert, von wo aus sie mithilfe des Befehls <command>mmap</command> abgerufen werden können (siehe <command>man mmap</command>).
  </para><indexterm> <primary>Kernel</primary> <secondary>Caches</secondary> </indexterm>
  <para>
   Der Kernel enthält zusätzlich andere Caches, wie beispielsweise den <emphasis>slab-Cache</emphasis>, in dem die für den Netzwerkzugriff verwendeten Caches gespeichert werden. Dies erklärt die Unterschiede zwischen den Zählern in <filename>/proc/meminfo</filename>. Die meisten, jedoch nicht alle dieser Zähler, können über <filename>/proc/slabinfo</filename> aufgerufen werden.
  </para>
  <para>
   Wenn Sie jedoch herausfinden möchten, wie viel RAM gerade verwendet wird, dann finden Sie diese Information in <filename>/proc/meminfo</filename>.
  </para>
 </section>

 <section xml:id="sec-suse-manpages">
  <title>man-Seiten und Info-Seiten</title><indexterm> <primary>man-Seiten</primary> </indexterm> <indexterm> <primary>info-Seiten</primary> </indexterm> <indexterm> <primary>Hilfe</primary> <secondary>man-Seiten</secondary> </indexterm> <indexterm> <primary>Hilfe</primary> <secondary>info-Seiten</secondary> </indexterm>
  <para>
   Für einige GNU-Anwendungen (wie beispielsweise tar) sind keine man-Seiten mehr vorhanden. Verwenden Sie für diese Befehle die Option <option>--help</option>, um eine kurze Übersicht über die info-Seiten zu erhalten, in der Sie detailliertere Anweisungen erhalten. info befindet sich im Hypertextsystem von GNU. Eine Einführung in dieses System erhalten Sie, wenn Sie <command>info</command><option>info</option> eingeben. Info-Seiten können mit Emacs angezeigt werden, wenn Sie <command>emacs</command> <option> -f info</option> eingeben oder mit <command>info</command> direkt in einer Konsole angezeigt werden. Sie können auch tkinfo, xinfo oder das Hilfesystem zum Anzeigen von info-Seiten verwenden.
  </para>
 </section>



 <section xml:id="sec-suse-packages-man">
  <title>Auswählen von man-Seiten über das Kommando <command>man</command></title>
  <para>
   Geben Sie <command>man</command> <replaceable>man_page</replaceable> ein, um die man-Seite zu lesen. Wenn bereits eine man-Seite mit demselben Namen in anderen Abschnitten vorhanden ist, werden alle vorhandenen Seiten mit den zugehörigen Abschnittsnummern aufgeführt. Wählen Sie die aus, die Sie anzeigen möchten. Wenn Sie innerhalb einiger Sekunden keine Abschnittsnummer eingeben, wird die erste Seite angezeigt.
  </para>
  <para>
   Wenn Sie zum standardmäßigen Systemverhalten zurückkehren möchten, setzen Sie <literal>MAN_POSIXLY_CORRECT=1</literal> in einer Shell-Initialisierungsdatei wie <filename>~/.bashrc</filename>.
  </para>
 </section>

 <xi:include href="suse_emacs.xml" parse="xml"/>
</section>
