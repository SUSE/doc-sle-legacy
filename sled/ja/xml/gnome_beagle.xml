<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN"
"novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="gnome_beagle.xml" id="cha-gnome-beagle">
 <title>Beagleを使った検索</title>
 <para>
  Beagleは、検索要求に対応するために個人情報領域(通常はホームディレクトリ)にインデックスを付ける検索ツールです。Beagleを利用すれば、ドキュメント、電子メールと添付ファイル、Web履歴、IM/IRCチャット、アドレス帳の連絡先、カレンダの予定、ノート、ソースコード、画像、音楽/ビデオファイル、アーカイブとその内容、およびアプリケーションなど、さまざまなものを検索することができます。
 </para>
 <sect1 id="sec-gnome-beagle-use">
  <title>Beagleの使用</title>

  <para>
   Beagleを使用するには、<menuchoice><guimenu>コンピュータ</guimenu></menuchoice>をクリックして<guimenu>検索</guimenu>に検索する文字列を入力し、<keycap>Enter</keycap>キーを押します。結果は［デスクトップ検索］ダイアログボックスに表示されます。
  </para>

  <para>
   <menuchoice><guimenu>コンピュータ</guimenu><guimenu>他のアプリケーション</guimenu><guimenu>システム</guimenu><guimenu>検索</guimenu></menuchoice>の順にクリックするか、ターミナルから<command>beagle-search</command>を使用して起動することで、デスクトップ検索にアクセスすることもできます。
  </para>

  <note>
   <title>検索サービスの有効化</title>
   <para>
    Beagleを使用するには、検索サービスを有効にする必要があります。無効になっている場合は、検索結果の代わりに、<guimenu>検索サービスが実行していません</guimenu>ページが表示されます。<guimenu>ログイン時に自動的にサービスを起動する</guimenu>をクリックし、<guimenu>検索サービスを起動する</guimenu>をクリックして、サービスを永久に有効にします。
   </para>
  </note>

  <figure pgwide="0">
   <title>デスクトップ検索ダイアログボックス</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="beagle_search.png" width="80%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="beagle_search.png" width="80%" format="png"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   結果のリストはファイルを開くのに使用したり、メールで転送したり、ゴミ箱に移したり、ファイルマネージャで表示できます。結果リストの項目を右クリックして、オプションを選択します。結果リストのアイテムで使用可能なオプションは、そのファイルの種類により決定します。リストのファイルを選択するとファイルのプレビュー、タイトル、パス、最終修正またはアクセス日などの情報が表示されます。
  </para>

  <figure pgwide="0">
   <title>ファイルを選択した［デスクトップ検索］ダイアログボックス</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="beagle_display.png" width="80%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="beagle_display.png" width="80%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   <guimenu>検索対象</guimenu>ドロップダウンを使用して、検索を特定のタイプのソース(アプリケーション、ドキュメント、画像、電子メール、Webページ、連絡先など)に限定します。<guimenu>表示</guimenu>メニューでは名前、関連性、またはファイルの最終修正日にしたがって、結果リストの項目がソートできます。
  </para>
 </sect1>
 <sect1 id="sec-gnome-beagle-tipps">
  <title>検索のヒント</title>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     検索する用語には、大文字と小文字の両方を使用できます。検索処理において、大文字と小文字は区別されません。
    </para>
   </listitem>
   <listitem>
    <para>
     オプションの用語を検索するには、「<literal>OR</literal>」を使用します(例、<literal>apples OR oranges</literal>)。
    </para>
    <important>
     <para>
      オプションの検索語を指定する場合、<literal>OR</literal>は大文字にする必要があります。
     </para>
    </important>
   </listitem>
   <listitem>
    <para>
     検索する用語を除外するには、負の記号(<literal>-</literal>)を除外したい用語の前に入力します(例、「<literal>apples -oranges</literal>」と入力すると、「apples」を含むが「oranges」を含まない結果を検索します)。
    </para>
   </listitem>
   <listitem>
    <para>
     検索する用語の基本形が検索時に使用されます(たとえば、「<literal>driving </literal>」は「<literal>drive </literal>」、「<literal>drives </literal>」、および「<literal>driven </literal>」と一致します。
    </para>
   </listitem>
   <listitem>
    <para>
     完全に一致するフレーズまたは単語を検索するには、引用符(<literal>“</literal>)でそのフレーズまたは単語を囲みます。
    </para>
   </listitem>
   <listitem>
    <para>
     “a”、“the”、および“is”などの一般的な語は無視されます。
    </para>
   </listitem>
  </itemizedlist>
 </sect1>
 <sect1 id="sec-gnome-beagle-property-search">
  <title>Property Search(プロパティ検索)の実行</title>

  <para>
   デフォルトでは、Beagle検索ツールは文書のテキストおよびそのメタデータにある用語を検索します。特定のプロパティにある単語を検索するには、<command><replaceable>property:</replaceable> <replaceable>query</replaceable></command>を使用します。たとえば、「<literal>author:john</literal>」と入力すると、著者のプロパティに「John」という単語がリストされたファイルを検索します。
  </para>

  <table frame="topbot" rowsep="0" pgwide="0">
   <title>サポートされているプロパティキーワード</title>
   <tgroup cols="3">
    <colspec colnum="1" colname="1" colwidth="22*"/>
    <colspec colnum="2" colname="2" colwidth="21*"/>
    <colspec colnum="3" colname="3" colwidth="57*"/>
    <thead>
     <row>
      <entry colname="1">
       <para>
        キーワード
       </para>
      </entry>
      <entry colname="2">
       <para>
        適用項目
       </para>
      </entry>
      <entry colname="3">
       <para>
        プロパティ
       </para>
      </entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry colname="1">
       <para>
        album
       </para>
      </entry>
      <entry colname="2">
       <para>
        音楽ファイル
       </para>
      </entry>
      <entry colname="3">
       <para>
        アルバム名
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        artist
       </para>
      </entry>
      <entry colname="2">
       <para>
        音楽ファイル
       </para>
      </entry>
      <entry colname="3">
       <para>
        アーチスト名
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        著者
       </para>
      </entry>
      <entry colname="2">
       <para>
        ドキュメント
       </para>
      </entry>
      <entry colname="3">
       <para>
        ドキュメントの著者（ドキュメントの作成者と同じ）
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        作成者
       </para>
      </entry>
      <entry colname="2">
       <para>
        ドキュメント
       </para>
      </entry>
      <entry colname="3">
       <para>
        ドキュメントの作成者、dc：creatorにマップされる(例:PDFファイルの作成者)
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        電子メール
       </para>
      </entry>
      <entry colname="2">
       <para>
        アドレス帳
       </para>
      </entry>
      <entry colname="3">
       <para>
        電子メールアドレス
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        emblem
       </para>
      </entry>
      <entry colname="2">
       <para>
        ファイル
       </para>
      </entry>
      <entry colname="3">
       <para>
        Nautilusで使用されるエンブレム
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        extension または ext
       </para>
      </entry>
      <entry colname="2">
       <para>
        ファイル
       </para>
      </entry>
      <entry colname="3">
       <para>
        ファイルの拡張子(例、extension:jpeg or ext:mp3)。拡張子なしのファイルを検索する場合は、extension:またはext:を使用します。
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        ジャンル
       </para>
      </entry>
      <entry colname="2">
       <para>
        音楽ファイル
       </para>
      </entry>
      <entry colname="3">
       <para>
        音楽のジャンル
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        imagecomment
       </para>
      </entry>
      <entry colname="2">
       <para>
        画像ファイル
       </para>
      </entry>
      <entry colname="3">
       <para>
        IPTCキャプションまたはExifコメントのある画像中のコメントや説明
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        imagemodel
       </para>
      </entry>
      <entry colname="2">
       <para>
        JPEGイメージ
       </para>
      </entry>
      <entry colname="3">
       <para>
        カメラの型式(例:EOS2D)
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        imagetag
       </para>
      </entry>
      <entry colname="2">
       <para>
        画像ファイル
       </para>
      </entry>
      <entry colname="3">
       <para>
        F-スポットおよびDigikam画像タグとIPTCキーワード
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        inarchive
       </para>
      </entry>
      <entry colname="2">
       <para>
        ファイル
       </para>
      </entry>
      <entry colname="3">
       <para>
        アーカイブ内部のファイルに対して<literal>inarchive:true</literal>を使用します。
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        inattachment
       </para>
      </entry>
      <entry colname="2">
       <para>
        ファイル
       </para>
      </entry>
      <entry colname="3">
       <para>
        電子メールの添付ファイルに対して<literal>inattachment:true</literal>を使用します。
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        mailfrom
       </para>
      </entry>
      <entry colname="2">
       <para>
        ［電子メール］
       </para>
      </entry>
      <entry colname="3">
       <para>
        送信者名
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        mailfromaddr
       </para>
      </entry>
      <entry colname="2">
       <para>
        ［電子メール］
       </para>
      </entry>
      <entry colname="3">
       <para>
        送信者の電子メールアドレス
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        mailinglist
       </para>
      </entry>
      <entry colname="2">
       <para>
        ［電子メール］
       </para>
      </entry>
      <entry colname="3">
       <para>
        メーリングリストのID (例:dashboard-hackers.gnome.org)
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        mailto
       </para>
      </entry>
      <entry colname="2">
       <para>
        ［電子メール］
       </para>
      </entry>
      <entry colname="3">
       <para>
        受信者名
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        mailtoaddr
       </para>
      </entry>
      <entry colname="2">
       <para>
        ［電子メール］
       </para>
      </entry>
      <entry colname="3">
       <para>
        受信者の電子メールアドレス
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        speakingto
       </para>
      </entry>
      <entry colname="2">
       <para>
        チャット
       </para>
      </entry>
      <entry colname="3">
       <para>
        話者
       </para>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>
        title
       </para>
      </entry>
      <entry colname="2">
       <para>
        ドキュメント
       </para>
      </entry>
      <entry colname="3">
       <para>
        ドキュメントのタイトル、dc:titleにマップされる(例:HTMLファイルのtitleタグ)
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>

  <para>
   プロパティ検索は、<xref linkend="sec-gnome-beagle-tipps" xrefstyle="SectTitleOnPage"/>で説明されているルールに従って実行されます。除外クエリまたはORクエリとしてプロパティ検索を使用できます。また、フレーズは、「<replaceable>クエリ</replaceable>」として使用できます。たとえば、次の行は、「apple」という単語を含むすべてのPDFまたはHTML文書、著者名に「john」を含むすべてのPDFまたはHTML文書、および書名に「oranges」という単語を含まないすべてのPDFまたはHTML文書を検索します。
  </para>

  <para>
   <literal>apple ext:pdf OR ext:html author:john -title:oranges</literal>
  </para>
 </sect1>
 <sect1 id="sec-gnome-beagle-prefs">
  <title>検索の環境設定</title>

  <para>
   ［デスクトップ検索の設定］ダイアログボックスを使用して、Beagle検索の初期設定を設定します。
  </para>

  <procedure>
   <step performance="required">
    <para>
     <menuchoice><guimenu>コンピュータ</guimenu><guimenu>コントロールセンター</guimenu><guimenu>システム</guimenu><guimenu>検索設定</guimenu></menuchoice>の順にクリックします。
    </para>
    <para>
     また、［デスクトップ検索］ダイアログボックスで<menuchoice><guimenu>検索</guimenu><guimenu>初期設定</guimenu></menuchoice>の順にクリックして開くこともできます。
    </para>
    <informalfigure pgwide="0">
     <mediaobject>
      <textobject role="description"><phrase>［デスクトップ検索の設定］ダイアログ ボックス</phrase></textobject><imageobject role="fo"><imagedata fileref="beagle_preferences.png" width="69%" format="PNG"/></imageobject><imageobject role="html"><imagedata fileref="beagle_preferences.png" width="69%" format="PNG"/></imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step performance="required">
    <para>
     次のオプションから選択します。
    </para>
    <formalpara>
     <title>自動的に検索&amp;インデックス作成サービスを起動する:</title>
     <para>
      セッションへのログイン時に検索デーモンを自動的に開始する場合に、このオプションを選択します。Beagleの検索機能を使用する場合、このデーモンが動作していなければなりません。
     </para>
    </formalpara>
    <formalpara>
     <title>バッテリーを使用している時でもインデックスを作成する:</title>
     <para>
      コンピュータがバッテリ動作中に、データのインデックスを作成する場合、このオプションを選択します。このオプションを無効にすると、ラップトップコンピュータで<phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase>を利用している場合に、バッテリ動作中はインデックスの作成を中止したいような場合に役立ちます。
     </para>
    </formalpara>
    <formalpara>
     <title>スクリーンセーバの実行中により積極的にインデックスを作成する:</title>
     <para>
      スクリーンセーバを実行している場合、コンピュータがアクティブに使用されておらず、より多くのリソースをインデックス処理に充てることが可能であると考えられます。このオプションは、コンピュータがバッテリ動作中の場合には適用されません。
     </para>
    </formalpara>
    <formalpara>
     <title>検索する語句の入力を止めたら自動的に検索を開始する:</title>
     <para>
      デスクトップ検索ウィンドウの<guimenu>検索</guimenu>フィールドへの文字列の入力を止めたらすぐに検索を開始する場合に、このオプションを選択します。このオプションは、メインメニューの<guimenu>検索</guimenu>フィールドには関係ありません。
     </para>
    </formalpara>
    <formalpara>
     <title>検索ウィンドウを表示するホットキー:</title>
     <para>
      &lt;Ctrl&gt; +&lt;Alt&gt;+ファンクションキーの組み合わせを指定して、［デスクトップ検索］ウィンドウを表示する入力キーを選択できます。キーは、デフォルトの入力キーです。
     </para>
    </formalpara>
   </step>
   <step performance="required">
    <para>
     <guimenu>OK</guimenu>をクリックします。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 id="sec-gnome-beagle-indexing">
  <title>他のディレクトリのインデックス作成</title>

  <para>
   Beagleのデフォルトでは、ホームディレクトリのインデックスしか作成されません。ホームディレクトリのインデックスを作成しない場合は、［デスクトップ検索の設定］ダイアログボックスの<guimenu>インデックスの作成</guimenu>タブの<guimenu>ホームフォルダのインデックスを作成する</guimenu>オプションの選択を解除してください。他のフォルダのインデックスも作成する場合は、次の手順に従ってください。
  </para>

  <procedure>
   <step performance="required">
    <para>
     <menuchoice><guimenu>コンピュータ</guimenu><guimenu>その他のアプリケーション</guimenu><guimenu>システム</guimenu><guimenu>検索設定</guimenu></menuchoice>の順にクリックします。
    </para>
    <para>
     また、［デスクトップ検索］ダイアログボックスで<menuchoice><guimenu>検索</guimenu><guimenu>初期設定</guimenu></menuchoice>の順にクリックして開くこともできます。
    </para>
   </step>
   <step performance="required">
    <para>
     <guimenu>インデックス</guimenu>タブをクリックします。
    </para>
    <informalfigure pgwide="0">
     <mediaobject>
      <textobject role="description"><phrase>Beagleインデックスの初期設定</phrase></textobject><imageobject role="fo"><imagedata fileref="beagle_indexing.png" width="69%" format="PNG"/></imageobject><imageobject role="html"><imagedata fileref="beagle_indexing.png" width="69%" format="PNG"/></imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step performance="required">
    <para>
     ダイアログボックスの<guimenu>全般</guimenu>セクションの<guimenu>追加</guimenu>をクリックします。
    </para>
   </step>
   <step performance="required">
    <para>
     インデックスを作成するディレクトリを選択して、<guimenu>開く</guimenu>をクリックします。
    </para>
    <para>
     少なくとも、追加するディレクトリの読み込みパーミッションがあることを確認します。
    </para>
   </step>
   <step performance="required">
    <para>
     インデックスを作成するディレクトリのリストからディレクトリを削除するには、目的のディレクトリをリストから選択して<guimenu>削除</guimenu>をクリックします。
    </para>
   </step>
   <step performance="required">
    <para>
     <guimenu>OK</guimenu>をクリックします。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 id="sec-gnome-beagle-indexing-exclude">
  <title>ファイルとディレクトリにインデックスをつけない</title>

  <para>
   ［検索の初期設定］ダイアログボックスを使用して、インデックスを付けたくないリソースを指定することができます。これらのリソースには、ディレクトリ、パターン、メールフォルダ、オブジェクトの種類が含まれます。
  </para>

  <procedure>
   <step performance="required">
    <para>
     <menuchoice><guimenu>コンピュータ</guimenu><guimenu>その他のアプリケーション</guimenu><guimenu>システム</guimenu><guimenu>検索設定</guimenu></menuchoice>の順にクリックします。
    </para>
   </step>
   <step performance="required">
    <para>
     <guimenu>Indexing</guimenu>タブをクリックします。
    </para>
   </step>
   <step performance="required">
    <para>
     <guimenu>プライバシー</guimenu>セクションの<guimenu>追加</guimenu>をクリックします。
    </para>
   </step>
   <step performance="required">
    <para>
     インデックス付けから除外するリソースを選択し、そのリソースまたはファイル名のパターンへのパスを指定します。
    </para>
   </step>
   <step performance="required">
    <para>
     <guimenu>OK</guimenu>を2回クリックします。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1>
  <title>インデックスするデータソースの選択</title>

  <para>
   Beagleでは、さまざまなデータソース、さまざまなアプリケーション(たとえばEvolutionメール、メモおよびタスク、Pidgin会話、Tomboyメモ、Nautilusメタデータなど)からのデータ、ファイル、アプリケーション、文書、マニュアルページなどにインデックスを設定できます。Beagleでインデックスを設定するデータソースを選択するには、次の手順に従います。
  </para>

  <procedure>
   <step performance="required">
    <para>
     <menuchoice><guimenu>コンピュータ</guimenu><guimenu>その他のアプリケーション</guimenu><guimenu>システム</guimenu><guimenu>検索設定</guimenu></menuchoice>の順にクリックします。
    </para>
   </step>
   <step performance="required">
    <para>
     <guimenu>データソース</guimenu>タブをクリックします。
    </para>
   </step>
   <step performance="required">
    <para>
     インデックスを設定するデータソースをチェックします。
    </para>
   </step>
   <step performance="required">
    <para>
     <guimenu>OK</guimenu>をクリックします。
    </para>
   </step>
   <step performance="required">
    <para>
     <keycombo><keycap function="alt"/><keycap>F2</keycap></keycombo>を押し、
    </para>
<screen>beagled --replace</screen>
    <para>
     と入力した後&lt;<keycap function="enter"/>&gt;キーを押して検索サービスを再起動して変更を有効にします。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1>
  <title>Beagleの無効化</title>

  <para>
   低性能のコンピュータでは、Beagleで使用するリソースが多くなりすぎる場合があります。Beagleを無効にするには、<menuchoice><guimenu>コンピュータ</guimenu><guimenu>コントロールセンター</guimenu><guimenu>システム</guimenu><guimenu>検索設定</guimenu><guimenu>検索中</guimenu></menuchoice>の順にクリックし、<guimenu>自動的に検索＆インデックス作成サービスを起動する</guimenu>オプションのチェックをオフにします。
  </para>

  <para>
   また、<filename>/etc/beagle/crawl-rules/</filename>ディレクトリで構成ファイルを編集することによりBeagleを無効にできます。Beagleを無効にするには、オプション<literal>CRAWL_ENABLED</literal>を<literal>no</literal> in all <filename>crawl-*</filename>files in the directoryに設定します。
  </para>
 </sect1>
</chapter>
