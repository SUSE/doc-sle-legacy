<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
    type="text/xml"
    title="Profiling step"
?>
<!DOCTYPE chapter
[
   <!ENTITY % entities SYSTEM "entity-decl.ent">
   %entities;
]>


<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1" xml:base="yast2_you.xml" xml:id="cha-onlineupdate-you"><title>YaST 線上更新</title><info/>
 <indexterm> <primary>更新</primary><secondary>線上</secondary></indexterm><indexterm><primary>線上更新</primary><secondary>YaST</secondary></indexterm>
 <para>
  <phrase os="sles;sled">Novell</phrase> 為您的產品提供持續的軟體安全性更新。依預設，更新 Applet 可以讓您的系統保持最新狀態。如需有關更新 Applet 的詳細資訊，請參閱<xref linkend="sec-updater"/>。本章介紹了用於更新軟體套件的替代工具：YaST 線上更新。
 </para>
 <para>
  可從更新軟體儲存庫中取得適用於 <phrase role="productname"><phrase os="sled">SUSE® Linux Enterprise Desktop</phrase></phrase> 的最新修補程式。<phrase os="sles;sled;">如果在安裝期間已註冊了產品，則表明已設定更新儲存庫。如果您尚未註冊 <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase>，則可以按照以下方式進行註冊︰在 YaST 中執行<menuchoice><guimenu>軟體</guimenu><guimenu>線上更新組態</guimenu></menuchoice>，然後啟動<menuchoice><guimenu>進階</guimenu><guimenu>註冊以獲得支援，並獲得更新儲存庫</guimenu></menuchoice>。</phrase>或者，您可以從信任的來源手動新增更新儲存庫。若要新增或移除儲存庫，請透過 YaST 中的<menuchoice><guimenu>軟體</guimenu> <guimenu>軟體儲存庫</guimenu></menuchoice>啟動儲存庫管理員。<xref linkend="sec-y2-sw-instsource"/> 中提供了有關儲存庫管理員的詳細資訊。
 </para>
 <note os="sles;sled">
  <title>存取更新目錄時發生錯誤</title>
  <para>
   
   如果您無法存取更新目錄，可能表示訂閱已過期。<phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> 通常隨附一年或三年的訂閱，在此期間，您可以存取更新目錄。一旦訂閱期結束，此存取權將被拒絕。
  </para>
  <para>
   存取更新目錄遭拒絕時，會顯示一則警告訊息，建議您造訪 Novell Customer Center 以檢查您的訂閱。Novell Customer Center 的網址為 <link xlink:href="http://www.novell.com/center/"/>。
  </para>
 </note>
 <para>
  
   提供了具有不同關聯層級的更新︰
 </para>
 <variablelist>
  <varlistentry>
   <term>安全性更新</term>
   <listitem>
    <para>
     修復嚴重的安全性問題，必須予以安裝。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>推薦性更新</term>
   <listitem>
    <para>
     修復可能會破壞電腦的問題。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>選擇性更新</term>
   <listitem>
    <para>
     修復與安全性無關的問題或提供增強功能。
    </para>
   </listitem>
  </varlistentry>
 </variablelist>
 <section xml:id="sec-onlineupdate-you-overview">
  <title>線上更新對話方塊</title>

  <para>
   YaST 的<guimenu>線上更新</guimenu>對話方塊透過以下兩種類別的工具套件提供︰GTK (適用於 GNOME) 和 Qt (適用於 KDE)。這兩種介面的外觀與感覺有所不同，但提供的功能基本相同。以下幾節將簡單介紹每一種介面。若要開啟該對話方塊，請啟動 YaST，然後選取<menuchoice> <guimenu>軟體</guimenu><guimenu>線上更新</guimenu> </menuchoice>。或者，也可以在指令行中使用 <command>yast2 online_update</command> 指令進行啟動。
  </para>

  <section xml:id="sec-onlineupdate-you-overview-qt">
   <title>KDE 介面 (Qt)</title>
   <para>
    <guimenu>線上更新</guimenu>視窗包含四個區段。
   </para>
   <figure>
    <title>YaST 線上更新 — Qt 介面</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast2_you.png" width="75%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast2_you.png" width="75%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    左側的<guimenu>摘要</guimenu>區段列出了 <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> 可用的修補程式。修補程式根據安全性關聯程度 (<literal>安全性</literal>、<literal>建議</literal>和<literal>選擇性</literal>) 進行排序。您可以從<guimenu>顯示修補程式類別</guimenu>中選取以下其中一個選項，以變更<guimenu>摘要</guimenu>區段的檢視窗︰
   </para>
   <variablelist>
    <varlistentry>
     <term>需要的修補程式 (預設檢視窗)</term>
     <listitem>
      <para>
       適用於系統上安裝的套件，但尚未安裝的修補程式。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>不需要的修補程式
     </term>
     <listitem>
      <para>
       適用於系統上未安裝之套件的修補程式，或已滿足其執行要求的修補程式 (相關套件已從其他來源進行更新)。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>所有修補程式
     </term>
     <listitem>
      <para>
       <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> 的所有可用修補程式。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    <guimenu>摘要</guimenu>區段中的每個清單項目包含一個符號和修補程式名稱。有關可用符號及其含義的綜覽，請按 <keycombo> <keycap function="shift"/> <keycap>F1</keycap> </keycombo>。「<literal>安全性</literal>」和「<literal>建議</literal>」狀態的修補程式所要求的動作已自動預設。這些動作包括<guimenu>自動安裝</guimenu>、<guimenu>自動更新</guimenu>和<guimenu>自動刪除</guimenu>。
   </para>
   <para>
    如果從更新儲存庫以外的其他儲存庫安裝最新的套件，則可以使用此安裝來滿足此套件之修補程式的需求。在此情況下，會有一個核取標記顯示在修補程式摘要的前面。僅當您將修補程式標示為已安裝時，該修補程式才會顯示在清單中。事實上這並沒有安裝修補程式 (因為套件已經是最新的)，而是將修補程式標示為已安裝。
   </para>
   <para>
    在<guimenu>摘要</guimenu>區段中選取一個項目，可在對話方塊的左下角看到簡短的<guimenu>修補程式描述</guimenu>。右上方的區段列出了所選修補程式中包含的套件 (一個修補程式可以包含多個套件)。按一下右上方區段中的項目，可檢視修補程式中包含的各套件的詳細資料。
   </para>
  </section>

  <section xml:id="sec-onlineupdate-you-overview-gtk">
   <title>GNOME 介面 (GTK)</title>
   <para>
    <guimenu>線上更新</guimenu>視窗包含四個主要區段。
   </para>
   <figure>
    <title>YaST 線上更新 — GTK 介面</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast2_you_gtk.png" width="75%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast2_you_gtk.png" width="75%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    右上方的區段中列出了 <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> 可用的 (或已安裝的) 修補程式。若要依據修補程式的安全性相關程度 (<guimenu>安全性</guimenu>、<literal>推薦</literal>、<literal>選擇性</literal>或<literal>所有修補程式</literal>) 對其進行過濾，請按一下視窗右上方區段中的<literal>優先程度</literal>項目。
   </para>
   <para>
    如果所有可用的修補程式均已安裝，則右上方區段的<guimenu>套件清單</guimenu>將不顯示任何項目。左下方區段中的方塊顯示可用修補程式和已安裝修補程式的數量，並允許您將檢視窗切換至<guimenu>可用</guimenu>或<guimenu>已安裝</guimenu>修補程式。
   </para>
   <para>
    在<guimenu>套件清單</guimenu>區段中選取一個項目，可在對話方塊的右下角看到修補程式描述及其他詳細資料。由於修補程式可能包含多個套件，按一下右下方區段中的<guimenu>套用至</guimenu>項目，可查看各修補程式中所包含的套件。
   </para>
   <para>
    按一下修補程式項目可開啟詳細描述視窗底部修補程式的資訊列。此處可檢視修補程式的詳細描述及可用版本。您也可以選擇<guimenu>安裝</guimenu>選擇性修補程式 — 系統已預先選取安全性與推薦的修補程式以進行安裝。
   </para>
  </section>
 </section>
 <section xml:id="sec-onlineupdate-you-install">
  <title>安裝修補程式</title>

  <para>
   YaST 的「線上更新」對話方塊可讓您一次性安裝所有可用的修補程式，或者手動選取要套用至系統的修補程式。您還可以回復已套用至系統的修補程式。
  </para>

  <para>
   依預設，目前您系統可用的所有新修補程式 (<literal>選擇性</literal>修補程式除外) 均已標示為可供安裝。按一下<guimenu>接受</guimenu>或<guimenu>套用</guimenu>後，這些修補程式將自動套用。
  </para>

  <procedure>
   <title>使用 YaST 線上更新套用修補程式</title>
   <step>
    <para>
     啟動 YaST，然後選取<menuchoice><guimenu>軟體</guimenu> <guimenu>線上更新</guimenu></menuchoice>。
    </para>
   </step>
   <step>
    <para>
     若要自動套用目前您系統可用的所有新修補程式 (<literal>選擇性</literal>修補程式除外)，請接著按<guimenu>套用</guimenu>或<guimenu>接受</guimenu>，開始安裝預先選取的修補程式。
    </para>
   </step>
   <step>
    <para>
     若要先對已選擇進行套用的修補程式範圍進行修改︰
    </para>
    <substeps performance="required">
     <step>
      <para>
       使用 GTK 和 Qt 介面提供的各種過濾器和檢視窗。如需詳細資訊，請參閱<xref linkend="sec-onlineupdate-you-overview-qt"/> 和<xref linkend="sec-onlineupdate-you-overview-gtk"/>。
      </para>
     </step>
     <step>
      <para>
       根據您的需求和意愿選取或取消選取修補程式，方法是啟用或停用相應的核取方塊 (GNOME)，或者在修補程式上按一下滑鼠右鍵，然後從內容功能表 (KDE) 中選擇相應的動作。
      </para>
      <important>
       <title>始終套用安全性更新</title>
       <para>
        除非很有必要，否則請不要取消選取任何<literal>安全性</literal>相關的修補程式。因為這些修補程式負責修復嚴重的安全性問題，可防止您的系統被入侵。
       </para>
      </important>
     </step>
     <step>
      <para>
       大部分的修補程式都會包含多套件的更新。若要變更對單一套件所執行的動作，請在套件檢視窗中的套件上按一下滑鼠右鍵，然後選擇一個動作 (KDE)。
      </para>
     </step>
     <step>
      <para>
       若要確認您的選擇並套用所選修補程式，請按一下<guimenu>套用</guimenu>或<guimenu>接受</guimenu>繼續。
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     安裝完成後，請按一下<guimenu>完成</guimenu>離開 YaST<guimenu>線上更新</guimenu>。您的系統現在已是最新狀態。
    </para>
   </step>
  </procedure>

  <tip>
   <title>禁用 deltarpm</title>
   <para>
    
    依預設，更新將以 deltarpm 的形式下載。由於從 deltarpm 重建 rpm 套件需要佔用大量的記憶體和處理器，出於效能考量，某些設定或硬體組態可能要求您停用 deltarpm。
   </para>
   <para>
    若要停用 deltarpm，請編輯檔案 <filename>/etc/zypp/zypp.conf</filename>，將 <literal>download.use_deltarpm</literal> 設定為 <option>false</option>。
   </para>
  </tip>
 </section>
 <section xml:id="sec-onlineupdate-you-automatically">
  <title>自動線上更新</title>

  <para>
   YaST 還提供有設定每日、每週或每月執行自動更新的選項。若要使用相應的模組，您需要先安裝 <systemitem class="resource">yast2-online-update-configuration</systemitem> 套件。
  </para>

  <procedure>
   <title>設定自動線上更新</title>
   <step>
    <para>
     安裝後，啟動 YaST 並選取<menuchoice><guimenu>軟體</guimenu> <guimenu>線上更新組態</guimenu></menuchoice>。
    </para>
    <para>
     您也可以在指令行中使用 <command>yast2 online_update_configuration</command> 指令啟動模組。
    </para>
   </step>
   <step>
    <para>
     啟用<guimenu>自動線上更新</guimenu>。
    </para>
   </step>
   <step>
    <para>
     選擇是否執行<guimenu>每日</guimenu>、<guimenu>每週</guimenu>或<guimenu>每月</guimenu>更新。
    </para>
    <para>
     某些修補程式 (例如核心更新或需要授權合約的套件) 需要使用者互動，而這可能會讓自動更新程序停止下來。
    </para>
   </step>
   <step>
    <para>
     如果您要更新程序繼續以完全自動化的方式執行，可以選取<guimenu>跳過互動式修補程式</guimenu>。
    </para>
    <important>
     <title>跳過修補程式</title>
     <para>
      如果您選擇跳過需要互動的所有套件，請經常執行手動<guimenu>線上更新</guimenu>，以便這些修補程式也能予以安裝。否則，您可能會錯過部分重要的修補程式。
     </para>
    </important>
   </step>
   <step>
    <para>
     若要自動接受所有授權合約，請啟用<guimenu>同意授權</guimenu>。
    </para>
   </step>
   <step>
    <para>
     若要自動安裝已更新套件推薦的所有套件，請啟用<guimenu>包含推薦的套件</guimenu>。
    </para>
   </step>
   <step>
    <para>
     若要根據類別 (例如安全性或推薦) 過濾修補程式，請啟用<guimenu>根據類別過濾</guimenu>並新增清單中的相應修補程式類別。系統將會只安裝所選類別的修補程式，跳過其他類別。
    </para>
   </step>
   <step>
    <para>
     按一下<guimenu>確定</guimenu>確認您的組態。
    </para>
   </step>
  </procedure>
 </section>
</chapter>
