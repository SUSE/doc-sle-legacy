<?xml version="1.0"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd" [
<!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
]>
<!-- 
  toms 2009-01-27: Please keep this comment!

  ATTENTION: If this file has to be translated, remove the lang
             attribute in the chapter start-tag.  

  The resources for Heartbeat are generated with the following steps:
  
  1. Create a temporary directory on a HA node:
  # mkdir -p /tmp/ha/{xml,db}
  
  2. Extract the meta data in XML form:
     (Sometimes this hangs as one script is broken. You have to 
      take the remaining scripts into the for loop.)
  # cd /usr/lib/ocf/resource.d/heartbeat/
  # for i in *; do \
  #  echo $i; \
  #  OCF_ROOT=/usr/lib/ocf/ ./$i meta-data > /tmp/ha/xml/$i.xml; \ 
  # done 
  
  3. Validate it:
  # cd /tmp/ha
  ## Old path:
  # cp /usr/share/heartbeat/ra-api-1.dtd /tmp/ha/xml/
  ## New path:
  # cp /usr/share/resource-agents/ra-api-1.dtd /tmp/ha/xml/
  # for i in xml/*.xml; do \
  #   echo "*** $i" \
  #   xmllint -timing -valid -noout -nonet $i \
  # done
  
  4. Copy it to your computer:
  # cd /tmp/
  # scp -r root@NODE_NAME:/tmp/ha .
  
  5. Transform it to DocBook refentry:
     (assuming you have installed the suse-xsl-stylesheets package...)
  #  cd /tmp/ha
  #  for i in xml/*.xml; do \
  #   j=${i##*/} \
  #   echo "*** $j" \
  #   xsltproc -output db/$j  /usr/share/xml/docbook/stylesheet/suse/ocf2refentry/ocfs2refentry.xsl $i; \
  # done
  
  6. Create a XML file with all the agents:
  # cat db/*.xml > agents.xml
  
  7. Remove all refentry elements in this file and import
     the agents.xml from the last step.
     - oXygen: Use 'Document' -> 'File' -> 'Insert File'
     
  8. Save and commit this file.
-->
<chapter id="app.agents.details" lang="en">
 <title>HA OCF Agents</title>
 <para>
  All OCF agents require several parameters to be set when they are started.
  The following overview shows how to manually operate these agents. The
  data that is available in this appendix is directly taken from the
  <literal>meta-data</literal> invocation of the respective RA. Find all
  these agents in <filename>/usr/lib/ocf/resource.d/heartbeat/</filename>.
 </para>
 <para>
  When configuring an RA, omit the <literal>OCF_RESKEY_</literal> prefix to
  the parameter name. Parameters that are in square brackets may be omitted
  in the configuration.
 </para>
 <remark>taroth 2012-06-08: todo - http://doccomments.provo.novell.com/admin/viewcomment/19984#</remark>
<!-- Paste here: -->
<refentry id="ref.ocfagent.anything">
  <refmeta>
    <refentrytitle>ocf:anything</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:anything</refname>
    <refpurpose>Manages an arbitrary service</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_binfile</command>=string [<command>OCF_RESKEY_cmdline_options</command>=string] [<command>OCF_RESKEY_workdir</command>=string] [<command>OCF_RESKEY_pidfile</command>=string] [<command>OCF_RESKEY_logfile</command>=string] [<command>OCF_RESKEY_errlogfile</command>=string] [<command>OCF_RESKEY_user</command>=string] [<command>OCF_RESKEY_monitor_hook</command>=string] [<command>OCF_RESKEY_stop_timeout</command>=string] <command>anything</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This is a generic OCF RA to manage almost anything.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_binfile</command>=Full path name of the binary to be executed</term>
        <listitem>
          <para>
The full name of the binary to be executed. This is expected to keep running with the same pid and not just do something and exit.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_cmdline_options</command>=Command line options</term>
        <listitem>
          <para>
Command line options to pass to the binary
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_workdir</command>=Full path name of the work directory</term>
        <listitem>
          <para>
The path from where the binfile will be executed.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pidfile</command>=File to write STDOUT to</term>
        <listitem>
          <para>
File to read/write the PID from/to.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_logfile</command>=File to write STDOUT to</term>
        <listitem>
          <para>
File to write STDOUT to
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_errlogfile</command>=File to write STDERR to</term>
        <listitem>
          <para>
File to write STDERR to
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_user</command>=User to run the command as</term>
        <listitem>
          <para>
User to run the command as
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_monitor_hook</command>=Command to run in monitor operation</term>
        <listitem>
          <para>
Command to run in monitor operation
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_stop_timeout</command>=Seconds to wait after having sent SIGTERM before sending SIGKILL in stop operation</term>
        <listitem>
          <para>
In the stop operation: Seconds to wait for kill -TERM to succeed
before sending kill -SIGKILL. Defaults to 2/3 of the stop operation timeout.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.AoEtarget">
  <refmeta>
    <refentrytitle>ocf:AoEtarget</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:AoEtarget</refname>
    <refpurpose>Manages ATA-over-Ethernet (AoE) target exports</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_device</command>=string] [<command>OCF_RESKEY_nic</command>=string] [<command>OCF_RESKEY_shelf</command>=integer] [<command>OCF_RESKEY_slot</command>=integer] <command>OCF_RESKEY_pid</command>=string [<command>OCF_RESKEY_binary</command>=string] <command>AoEtarget</command> [start | stop | monitor | reload | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This resource agent manages an ATA-over-Ethernet (AoE) target using vblade.
It exports any block device, or file, as an AoE target using the 
specified Ethernet device, shelf, and slot number.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_device</command>=Device to export</term>
        <listitem>
          <para>
The local block device (or file) to export as an AoE target.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_nic</command>=Ethernet interface</term>
        <listitem>
          <para>
The local Ethernet interface to use for exporting this AoE target.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_shelf</command>=AoE shelf number</term>
        <listitem>
          <para>
The AoE shelf number to use when exporting this target.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_slot</command>=AoE slot number</term>
        <listitem>
          <para>
The AoE slot number to use when exporting this target.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pid</command>=Daemon pid file</term>
        <listitem>
          <para>
The file to record the daemon pid to.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_binary</command>=vblade binary</term>
        <listitem>
          <para>
Location of the vblade binary.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.apache">
  <refmeta>
    <refentrytitle>ocf:apache</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:apache</refname>
    <refpurpose>Manages an Apache web server instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_configfile</command>=string [<command>OCF_RESKEY_httpd</command>=string] [<command>OCF_RESKEY_port</command>=integer] [<command>OCF_RESKEY_statusurl</command>=string] [<command>OCF_RESKEY_testregex</command>=string] [<command>OCF_RESKEY_client</command>=string] [<command>OCF_RESKEY_testurl</command>=string] [<command>OCF_RESKEY_testregex10</command>=string] [<command>OCF_RESKEY_testconffile</command>=string] [<command>OCF_RESKEY_testname</command>=string] [<command>OCF_RESKEY_options</command>=string] [<command>OCF_RESKEY_envfiles</command>=string] [<command>OCF_RESKEY_use_ipv6</command>=boolean] <command>apache</command> [start | stop | status | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This is the resource agent for the Apache web server.
This resource agent operates both version 1.x and version 2.x Apache
servers.

The start operation ends with a loop in which monitor is
repeatedly called to make sure that the server started and that
it is operational. Hence, if the monitor operation does not
succeed within the start operation timeout, the apache resource
will end with an error status.

The monitor operation by default loads the server status page
which depends on the mod_status module and the corresponding
configuration file (usually /etc/apache2/mod_status.conf).
Make sure that the server status page works and that the access
is allowed *only* from localhost (address 127.0.0.1).
See the statusurl and testregex attributes for more details.

See also http://httpd.apache.org/
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_configfile</command>=configuration file path</term>
        <listitem>
          <para>
The full pathname of the Apache configuration file.
This file is parsed to provide defaults for various other
resource agent parameters.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_httpd</command>=httpd binary path</term>
        <listitem>
          <para>
The full pathname of the httpd binary (optional).
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_port</command>=httpd port</term>
        <listitem>
          <para>
A port number that we can probe for status information
using the statusurl.
This will default to the port number found in the
configuration file, or 80, if none can be found
in the configuration file.

</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_statusurl</command>=url name</term>
        <listitem>
          <para>
The URL to monitor (the apache server status page by default).
If left unspecified, it will be inferred from
the apache configuration file.

If you set this, make sure that it succeeds *only* from the
localhost (127.0.0.1). Otherwise, it may happen that the cluster
complains about the resource being active on multiple nodes.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_testregex</command>=monitor regular expression</term>
        <listitem>
          <para>
Regular expression to match in the output of statusurl.
Case insensitive.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_client</command>=http client</term>
        <listitem>
          <para>
Client to use to query to Apache. If not specified, the RA will
try to find one on the system. Currently, wget and curl are
supported. For example, you can set this parameter to "curl" if
you prefer that to wget.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_testurl</command>=test url</term>
        <listitem>
          <para>
URL to test. If it does not start with "http", then it's
considered to be relative to the Listen address.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_testregex10</command>=extended monitor regular expression</term>
        <listitem>
          <para>
Regular expression to match in the output of testurl.
Case insensitive.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_testconffile</command>=test configuration file</term>
        <listitem>
          <para>
A file which contains test configuration. Could be useful if
you have to check more than one web application or in case sensitive
info should be passed as arguments (passwords). Furthermore,
using a config file is the only way to specify certain
parameters.

Please see README.webapps for examples and file description.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_testname</command>=test name</term>
        <listitem>
          <para>
Name of the test within the test configuration file.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_options</command>=command line options</term>
        <listitem>
          <para>
Extra options to apply when starting apache. See man httpd(8).
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_envfiles</command>=environment settings files</term>
        <listitem>
          <para>
Files (one or more) which contain extra environment variables.
If you want to prevent script from reading the default file, set
this parameter to empty string.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_use_ipv6</command>=use ipv6 with http clients</term>
        <listitem>
          <para>
We will try to detect if the URL (for monitor) is IPv6, but if
that doesn't work set this to true to enforce IPv6.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.asterisk">
  <refmeta>
    <refentrytitle>ocf:asterisk</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:asterisk</refname>
    <refpurpose>Manages an Asterisk PBX</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_binary</command>=string] [<command>OCF_RESKEY_canary_binary</command>=string] [<command>OCF_RESKEY_config</command>=string] [<command>OCF_RESKEY_user</command>=string] [<command>OCF_RESKEY_group</command>=string] [<command>OCF_RESKEY_additional_parameters</command>=string] [<command>OCF_RESKEY_realtime</command>=boolean] [<command>OCF_RESKEY_maxfiles</command>=integer] [<command>OCF_RESKEY_monitor_sipuri</command>=string] <command>asterisk</command> [start | stop | status | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource agent for the Asterisk PBX. 
May manage an Asterisk PBX telephony system or a clone set that 
forms an Asterisk distributed device setup.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_binary</command>=Asterisk PBX server binary</term>
        <listitem>
          <para>
Location of the Asterisk PBX server binary
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_canary_binary</command>=Asterisk PBX Canary server binary</term>
        <listitem>
          <para>
Location of the Asterisk PBX Canary server binary
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_config</command>=Asterisk PBX config</term>
        <listitem>
          <para>
The Asterisk PBX configuration file
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_user</command>=Asterisk PBX user</term>
        <listitem>
          <para>
User running Asterisk PBX daemon
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_group</command>=Asterisk PBX group</term>
        <listitem>
          <para>
Group running Asterisk PBX daemon (for logfile and directory permissions)
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_additional_parameters</command>=Additional parameters to pass to the Asterisk PBX</term>
        <listitem>
          <para>
Additional parameters which are passed to the Asterisk PBX on 
startup (e.g. -L &lt;load&gt; or -M &lt;value&gt;). 
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_realtime</command>=Asterisk PBX realtime priority</term>
        <listitem>
          <para>
Determines whether the Asterisk PBX daemon will be run with
realtime priority or not.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_maxfiles</command>=Asterisk PBX allowed MAXFILES</term>
        <listitem>
          <para>
Determines how many files the Asterisk PBX is allowed to open at
a time. Helps to fix the 'Too many open files' error message.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_monitor_sipuri</command>=SIP URI to check when monitoring</term>
        <listitem>
          <para>
A SIP URI to check when monitoring. During monitor, the agent will
attempt to do a SIP OPTIONS request against this URI.
Requires the sipsak utility to be present and executable.
If unset, the agent does no SIP URI monitoring.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.AudibleAlarm">
  <refmeta>
    <refentrytitle>ocf:AudibleAlarm</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:AudibleAlarm</refname>
    <refpurpose>Emits audible beeps at a configurable interval</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_nodelist</command>=string] <command>AudibleAlarm</command> [start | stop | restart | status | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for AudibleAlarm. It sets an audible alarm running by beeping 
at a set interval. 
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_nodelist</command>=Node list</term>
        <listitem>
          <para>
The node list that should never sound the alarm.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.ClusterMon">
  <refmeta>
    <refentrytitle>ocf:ClusterMon</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:ClusterMon</refname>
    <refpurpose>Runs crm_mon in the background, recording the cluster status to an HTML file</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_user</command>=string] [<command>OCF_RESKEY_update</command>=integer] [<command>OCF_RESKEY_extra_options</command>=string] <command>OCF_RESKEY_pidfile</command>=string <command>OCF_RESKEY_htmlfile</command>=string <command>ClusterMon</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This is a ClusterMon Resource Agent.
It outputs current cluster status to the html.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_user</command>=The user we want to run crm_mon as</term>
        <listitem>
          <para>
The user we want to run crm_mon as
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_update</command>=Update interval</term>
        <listitem>
          <para>
How frequently should we update the cluster status
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_extra_options</command>=Extra options</term>
        <listitem>
          <para>
Additional options to pass to crm_mon.  Eg. -n -r
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pidfile</command>=PID file</term>
        <listitem>
          <para>
PID file location to ensure only one instance is running
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_htmlfile</command>=HTML output</term>
        <listitem>
          <para>
Location to write HTML output to.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.conntrackd">
  <refmeta>
    <refentrytitle>ocf:conntrackd</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:conntrackd</refname>
    <refpurpose>This resource agent manages conntrackd</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_binary</command>=string] [<command>OCF_RESKEY_config</command>=string] <command>conntrackd</command> [start | promote | demote | notify | stop | monitor | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Master/Slave OCF Resource Agent for conntrackd
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_binary</command>=Name of the conntrackd executable</term>
        <listitem>
          <para>Name of the conntrackd executable.
If conntrackd is installed and available in the default PATH, it is sufficient to configure the name of the binary
For example "my-conntrackd-binary-version-0.9.14"
If conntrackd is installed somewhere else, you may also give a full path
For example "/packages/conntrackd-0.9.14/sbin/conntrackd"
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_config</command>=Path to conntrackd.conf</term>
        <listitem>
          <para>Full path to the conntrackd.conf file.
For example "/packages/conntrackd-0.9.14/etc/conntrackd/conntrackd.conf"</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.CTDB">
  <refmeta>
    <refentrytitle>ocf:CTDB</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:CTDB</refname>
    <refpurpose>CTDB Resource Agent</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_ctdb_recovery_lock</command>=string [<command>OCF_RESKEY_ctdb_manages_samba</command>=boolean] [<command>OCF_RESKEY_ctdb_manages_winbind</command>=boolean] [<command>OCF_RESKEY_ctdb_service_smb</command>=string] [<command>OCF_RESKEY_ctdb_service_nmb</command>=string] [<command>OCF_RESKEY_ctdb_service_winbind</command>=string] [<command>OCF_RESKEY_ctdb_samba_skip_share_check</command>=boolean] [<command>OCF_RESKEY_ctdb_monitor_free_memory</command>=integer] [<command>OCF_RESKEY_ctdb_start_as_disabled</command>=boolean] [<command>OCF_RESKEY_ctdb_config_dir</command>=string] [<command>OCF_RESKEY_ctdb_binary</command>=string] [<command>OCF_RESKEY_ctdbd_binary</command>=string] <command>OCF_RESKEY_ctdb_socket</command>=string <command>OCF_RESKEY_ctdb_dbdir</command>=string [<command>OCF_RESKEY_ctdb_logfile</command>=string] [<command>OCF_RESKEY_ctdb_debuglevel</command>=integer] [<command>OCF_RESKEY_smb_conf</command>=string] <command>OCF_RESKEY_smb_private_dir</command>=string [<command>OCF_RESKEY_smb_passdb_backend</command>=string] [<command>OCF_RESKEY_smb_idmap_backend</command>=string] [<command>OCF_RESKEY_smb_fileid_algorithm</command>=string] <command>CTDB</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This resource agent manages CTDB, allowing one to use Clustered Samba in a
Linux-HA/Pacemaker cluster.  You need a shared filesystem (e.g. OCFS2) on
which the CTDB lock will be stored.  Create /etc/ctdb/nodes containing a list
of private IP addresses of each node in the cluster, then configure this RA
as a clone.  To have CTDB manage Samba, set ctdb_manages_samba="yes".
Note that this option will be deprecated in future, in favour of configuring
a separate Samba resource.

For more information see http://linux-ha.org/wiki/CTDB_(resource_agent)
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_ctdb_recovery_lock</command>=CTDB shared lock file</term>
        <listitem>
          <para>
The location of a shared lock file, common across all nodes.
This must be on shared storage, e.g.: /shared-fs/samba/ctdb.lock
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctdb_manages_samba</command>=Should CTDB manage Samba?</term>
        <listitem>
          <para>
Should CTDB manage starting/stopping the Samba service for you?
This will be deprecated in future, in favor of configuring a
separate Samba resource.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctdb_manages_winbind</command>=Should CTDB manage Winbind?</term>
        <listitem>
          <para>
Should CTDB manage starting/stopping the Winbind service for you?
This will be deprecated in future, in favor of configuring a
separate Winbind resource.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctdb_service_smb</command>=Name of smb init script</term>
        <listitem>
          <para>
Name of smb init script.  Only necessary if CTDB is managing
Samba directly.  Will usually be auto-detected.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctdb_service_nmb</command>=Name of nmb init script</term>
        <listitem>
          <para>
Name of nmb init script.  Only necessary if CTDB is managing
Samba directly.  Will usually be auto-detected.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctdb_service_winbind</command>=Name of winbind init script</term>
        <listitem>
          <para>
Name of winbind init script.  Only necessary if CTDB is managing
Winbind directly.  Will usually be auto-detected.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctdb_samba_skip_share_check</command>=Skip share check during monitor?</term>
        <listitem>
          <para>
If there are very many shares it may not be feasible to check that all
of them are available during each monitoring interval.  In that case
this check can be disabled.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctdb_monitor_free_memory</command>=Minimum amount of free memory (MB)</term>
        <listitem>
          <para>
If the amount of free memory drops below this value the node will
become unhealthy and ctdb and all managed services will be shutdown.
Once this occurs, the administrator needs to find the reason for the
OOM situation, rectify it and restart ctdb with "service ctdb start".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctdb_start_as_disabled</command>=Start CTDB disabled?</term>
        <listitem>
          <para>
When set to yes, the CTDB node will start in DISABLED mode and not
host any public ip addresses.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctdb_config_dir</command>=CTDB config file directory</term>
        <listitem>
          <para>
The directory containing various CTDB configuration files.
The "nodes" and "notify.sh" scripts are expected to be
in this directory, as is the "events.d" subdirectory.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctdb_binary</command>=CTDB binary path</term>
        <listitem>
          <para>
Full path to the CTDB binary.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctdbd_binary</command>=CTDB Daemon binary path</term>
        <listitem>
          <para>
Full path to the CTDB cluster daemon binary.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctdb_socket</command>=CTDB socket location</term>
        <listitem>
          <para>
Full path to the domain socket that ctdbd will create, used for
local clients to attach and communicate with the ctdb daemon.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctdb_dbdir</command>=CTDB database directory</term>
        <listitem>
          <para>
The directory to put the local CTDB database files in.
Persistent database files will be put in ctdb_dbdir/persistent.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctdb_logfile</command>=CTDB log file location</term>
        <listitem>
          <para>
Full path to log file. To log to syslog instead, use the
value "syslog".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctdb_debuglevel</command>=CTDB debug level</term>
        <listitem>
          <para>
What debug level to run at (0-10). Higher means more verbose.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_smb_conf</command>=Path to smb.conf</term>
        <listitem>
          <para>
Path to default samba config file.  Only necessary if CTDB
is managing Samba.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_smb_private_dir</command>=Samba private dir (deprecated)</term>
        <listitem>
          <para>
The directory for smbd to use for storing such files as
smbpasswd and secrets.tdb.  Old versions of CTBD (prior to 1.0.50)
required this to be on shared storage.  This parameter should not
be set for current versions of CTDB, and only remains in the RA
for backwards compatibility.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_smb_passdb_backend</command>=Samba passdb backend</term>
        <listitem>
          <para>
Which backend to use for storing user and possibly group
information.  Only necessary if CTDB is managing Samba.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_smb_idmap_backend</command>=Samba idmap backend</term>
        <listitem>
          <para>
Which backend to use for SID/uid/gid mapping.  Only necessary
if CTDB is managing Samba.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_smb_fileid_algorithm</command>=Samba VFS fileid algorithm</term>
        <listitem>
          <para>
Which fileid:algorithm to use with vfs_fileid.  The correct
value depends on which clustered filesystem is in use, e.g.:
for OCFS2, this should be set to "fsid".  Only necessary if
CTDB is managing Samba.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.db2">
  <refmeta>
    <refentrytitle>ocf:db2</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:db2</refname>
    <refpurpose>Resource Agent that manages an IBM DB2 LUW databases in Standard role as primitive or in HADR roles as master/slave configuration. Multiple partitions are supported.</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_instance</command>=string [<command>OCF_RESKEY_dblist</command>=string] [<command>OCF_RESKEY_admin</command>=string] [<command>OCF_RESKEY_dbpartitionnum</command>=string] <command>db2</command> [start | stop | promote | demote | notify | monitor | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource Agent that manages an IBM DB2 LUW databases in Standard role as primitive or in HADR roles in master/slave configuration. Multiple partitions are supported.

Standard mode:

An instance including all or selected databases is made highly available.
Configure each partition as a separate primitive resource.

HADR mode:

A single database in HADR configuration is made highly available by automating takeover operations.
Configure a master / slave resource with notifications enabled and an
additional monitoring operation with role "Master".

In case of HADR be very deliberate in specifying intervals/timeouts. The detection of a failure including promote must complete within HADR_PEER_WINDOW.

In addition to honoring requirements for crash recovery etc. for your specific database use the following relations as guidance:

"monitor interval" &lt; HADR_PEER_WINDOW - (appr 30 sec)

"promote timeout" &lt; HADR_PEER_WINDOW + (appr 20 sec)

For further information and examples consult http://www.linux-ha.org/wiki/db2_(resource_agent)
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_instance</command>=instance</term>
        <listitem>
          <para>
The instance of the database(s).
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_dblist</command>=List of databases to be managed</term>
        <listitem>
          <para>
List of databases to be managed, e.g "db1 db2".
Defaults to all databases in the instance. Specify one db for HADR mode.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_admin</command>=DEPRECATED: admin</term>
        <listitem>
          <para>
DEPRECATED: The admin user of the instance.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_dbpartitionnum</command>=database partition number (DBPARTITIONNUM)</term>
        <listitem>
          <para>
The number of the partion (DBPARTITIONNUM) to be managed.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.Delay">
  <refmeta>
    <refentrytitle>ocf:Delay</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:Delay</refname>
    <refpurpose>Waits for a defined timespan</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_startdelay</command>=integer] [<command>OCF_RESKEY_stopdelay</command>=integer] [<command>OCF_RESKEY_mondelay</command>=integer] <command>Delay</command> [start | stop | status | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This script is a test resource for introducing delay.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_startdelay</command>=Start delay</term>
        <listitem>
          <para>
How long in seconds to delay on start operation.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_stopdelay</command>=Stop delay</term>
        <listitem>
          <para>
How long in seconds to delay on stop operation.
Defaults to "startdelay" if unspecified.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_mondelay</command>=Monitor delay</term>
        <listitem>
          <para>
How long in seconds to delay on monitor operation.
Defaults to "startdelay" if unspecified.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.dhcpd">
  <refmeta>
    <refentrytitle>ocf:dhcpd</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:dhcpd</refname>
    <refpurpose>Chrooted ISC DHCP Server resource agent.</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_config</command>=string <command>OCF_RESKEY_chrooted</command>=boolean <command>OCF_RESKEY_chrooted_path</command>=string [<command>OCF_RESKEY_binary</command>=string] [<command>OCF_RESKEY_user</command>=string] [<command>OCF_RESKEY_group</command>=string] [<command>OCF_RESKEY_interface</command>=string] [<command>OCF_RESKEY_includes</command>=string] [<command>OCF_RESKEY_leases</command>=string] [<command>OCF_RESKEY_pid</command>=string] <command>dhcpd</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Manage an ISC DHCP server service in a chroot environment.
  </para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_config</command>=Configuration file</term>
        <listitem>
          <para>
	The absolute path to the DHCP server configuration file.
      </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_chrooted</command>=Enable chroot mode</term>
        <listitem>
          <para>
	Configure the dhcpd service to run in a chrooted or non-chrooted
	mode.
      </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_chrooted_path</command>=The chrooted path</term>
        <listitem>
          <para>
	The absolute path of the chrooted DHCP environment.
      </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_binary</command>=dhcpd binary</term>
        <listitem>
          <para>
	The binary for the DHCP server process. An absolute path
	definition is not required, but can be used to override
	environment path.
      </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_user</command>=dhcpd owner</term>
        <listitem>
          <para>
	The system user the DHCP server process will run as when
	it is chrooted.
      </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_group</command>=dhcpd group owner</term>
        <listitem>
          <para>
	The system group the DHCP server process will run as when
	it is chrooted.
      </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_interface</command>=Network Interface</term>
        <listitem>
          <para>
	The network interface(s) the DHCP server process will
	bind to. A blank value will bind the process to all
	interfaces.
      </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_includes</command>=Include Files</term>
        <listitem>
          <para>
	This parameter provides a means to copy include files
	into the chrooted environment. If a dhcpd.conf file
	contains a line similar to this:

		include "/etc/named.keys";

	Then an admin also has to tell the dhcpd RA that this
	file should be pulled into the chrooted environment. This
	is a space delimited list.
      </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_leases</command>=Leases file</term>
        <listitem>
          <para>
	The leases database file, relative to chrooted_path.
      </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pid</command>=PID file</term>
        <listitem>
          <para>
	The path and filename of the PID file. It is relative
	to chrooted_path.
      </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.drbd">
  <refmeta>
    <refentrytitle>ocf:drbd</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:drbd</refname>
    <refpurpose>Manages a DRBD resource (deprecated)</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_drbd_resource</command>=string [<command>OCF_RESKEY_drbdconf</command>=string] [<command>OCF_RESKEY_clone_overrides_hostname</command>=boolean] [<command>OCF_RESKEY_ignore_deprecation</command>=boolean] <command>drbd</command> [start | promote | demote | notify | stop | monitor | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Deprecation warning: This agent is deprecated and may be removed from
a future release. See the ocf:linbit:drbd resource agent for a
supported alternative. --
This resource agent manages a Distributed
Replicated Block Device (DRBD) object as a master/slave
resource. DRBD is a mechanism for replicating storage; please see the
documentation for setup details.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_drbd_resource</command>=drbd resource name</term>
        <listitem>
          <para>
The name of the drbd resource from the drbd.conf file.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_drbdconf</command>=Path to drbd.conf</term>
        <listitem>
          <para>
Full path to the drbd.conf file.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_clone_overrides_hostname</command>=Override drbd hostname</term>
        <listitem>
          <para>
Whether or not to override the hostname with the clone number. This can
be used to create floating peer configurations; drbd will be told to
use node_&lt;cloneno&gt; as the hostname instead of the real uname,
which can then be used in drbd.conf.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ignore_deprecation</command>=Suppress deprecation warning</term>
        <listitem>
          <para>
If set to true, suppresses the deprecation warning for this agent.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.Dummy">
  <refmeta>
    <refentrytitle>ocf:Dummy</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:Dummy</refname>
    <refpurpose>Example stateless resource agent</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_state</command>=string [<command>OCF_RESKEY_fake</command>=string] <command>Dummy</command> [start | stop | monitor | reload | migrate_to | migrate_from | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This is a Dummy Resource Agent. It does absolutely nothing except 
keep track of whether its running or not.
Its purpose in life is for testing and to serve as a template for RA writers.

NB: Please pay attention to the timeouts specified in the actions
section below. They should be meaningful for the kind of resource
the agent manages. They should be the minimum advised timeouts,
but they shouldn't/cannot cover _all_ possible resource
instances. So, try to be neither overly generous nor too stingy,
but moderate. The minimum timeouts should never be below 10 seconds.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_state</command>=State file</term>
        <listitem>
          <para>
Location to store the resource state in.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_fake</command>=Fake attribute that can be changed to cause a reload</term>
        <listitem>
          <para>
Fake attribute that can be changed to cause a reload
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.eDir88">
  <refmeta>
    <refentrytitle>ocf:eDir88</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:eDir88</refname>
    <refpurpose>Manages a Novell eDirectory directory server</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_eDir_config_file</command>=string [<command>OCF_RESKEY_eDir_monitor_ldap</command>=boolean] [<command>OCF_RESKEY_eDir_monitor_idm</command>=boolean] [<command>OCF_RESKEY_eDir_jvm_initial_heap</command>=integer] [<command>OCF_RESKEY_eDir_jvm_max_heap</command>=integer] [<command>OCF_RESKEY_eDir_jvm_options</command>=string] <command>eDir88</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for managing an eDirectory instance. Manages a single instance
of eDirectory as an HA resource. The "multiple instances" feature or
eDirectory has been added in version 8.8. This script will not work for any
version of eDirectory prior to 8.8. This RA can be used to load multiple
eDirectory instances on the same host.

It is very strongly recommended to put eDir configuration files (as per the
eDir_config_file parameter) on local storage on each node. This is necessary for
this RA to be able to handle situations where the shared storage has become
unavailable. If the eDir configuration file is not available, this RA will fail,
and heartbeat will be unable to manage the resource. Side effects include
STONITH actions, unmanageable resources, etc...

Setting a high action timeout value is _very_ _strongly_ recommended. eDir
with IDM can take in excess of 10 minutes to start. If heartbeat times out
before eDir has had a chance to start properly, mayhem _WILL ENSUE_.

The LDAP module seems to be one of the very last to start. So this script will
take even longer to start on installations with IDM and LDAP if the monitoring
of IDM and/or LDAP is enabled, as the start command will wait for IDM and LDAP
to be available.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_eDir_config_file</command>=eDir config file</term>
        <listitem>
          <para>
Path to configuration file for eDirectory instance.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_eDir_monitor_ldap</command>=eDir monitor ldap</term>
        <listitem>
          <para>
Should we monitor if LDAP is running for the eDirectory instance?
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_eDir_monitor_idm</command>=eDir monitor IDM</term>
        <listitem>
          <para>
Should we monitor if IDM is running for the eDirectory instance?
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_eDir_jvm_initial_heap</command>=DHOST_INITIAL_HEAP value</term>
        <listitem>
          <para>
Value for the DHOST_INITIAL_HEAP java environment variable. If unset, java defaults will be used.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_eDir_jvm_max_heap</command>=DHOST_MAX_HEAP value</term>
        <listitem>
          <para>
Value for the DHOST_MAX_HEAP java environment variable. If unset, java defaults will be used.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_eDir_jvm_options</command>=DHOST_OPTIONS value</term>
        <listitem>
          <para>
Value for the DHOST_OPTIONS java environment variable. If unset, original values will be used.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.ethmonitor">
  <refmeta>
    <refentrytitle>ocf:ethmonitor</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:ethmonitor</refname>
    <refpurpose>Monitors network interfaces</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_interface</command>=string <command>OCF_RESKEY_name</command>=string [<command>OCF_RESKEY_multiplier</command>=integer] [<command>OCF_RESKEY_repeat_count</command>=integer] [<command>OCF_RESKEY_repeat_interval</command>=integer] [<command>OCF_RESKEY_pktcnt_timeout</command>=integer] [<command>OCF_RESKEY_arping_count</command>=integer] [<command>OCF_RESKEY_arping_timeout</command>=integer] [<command>OCF_RESKEY_arping_cache_entries</command>=integer] <command>ethmonitor</command> [start | stop | status | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Monitor the vitality of a local network interface.

You may setup this RA as a clone resource to monitor the network interfaces on different nodes, with the same interface name.
This is not related to the IP adress or the network on which a interface is configured.
You may use this RA to move resources away from a node, which has a faulty interface or prevent moving resources to such a node.
This gives you independend control of the resources, without involving cluster intercommunication. But it requires your nodes to have more than one network interface.

The resource configuration requires a monitor operation, because the monitor does the main part of the work.
In addition to the resource configuration, you need to configure some location contraints, based on a CIB attribute value.
The name of the attribute value is configured in the 'name' option of this RA.

Example constraint configuration:
location loc_connected_node my_resource_grp         rule ="rule_loc_connected_node" -INF: ethmonitor eq 0

The ethmonitor works in 3 different modes to test the interface vitality.
1. call ip to see if the link status is up (if link is down -&gt; error)
2. call ip an watch the RX counter (if packages come around in a certain time -&gt; success)
3. call arping to check wether any of the IPs found in the lokal ARP cache answers an ARP REQUEST (one answer -&gt; success)
4. return error
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_interface</command>=Network interface name</term>
        <listitem>
          <para>
The name of the network interface which should be monitored (e.g. eth0).
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_name</command>=Attribute name</term>
        <listitem>
          <para>
The name of the CIB attribute to set.  This is the name to be used in the constraints. Defaults to "ethmonitor-'interface_name'".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_multiplier</command>=Multiplier for result variable</term>
        <listitem>
          <para>
Multiplier for the value of the CIB attriobute specified in parameter name. 
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_repeat_count</command>=Monitor repeat count</term>
        <listitem>
          <para>
Specify how often the interface will be monitored, before the status is set to failed. You need to set the timeout of the monitoring operation to at least repeat_count * repeat_interval
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_repeat_interval</command>=Monitor repeat interval in seconds</term>
        <listitem>
          <para>
Specify how long to wait in seconds between the repeat_counts.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pktcnt_timeout</command>=packet counter timeout</term>
        <listitem>
          <para>
Timeout for the RX packet counter. Stop listening for packet counter changes after the given number of seconds.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_arping_count</command>=Number of arpings per IP</term>
        <listitem>
          <para>
Number of ARP REQUEST packets to send for every IP.
Usually one ARP REQUEST (arping) is send
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_arping_timeout</command>=Timeout for arpings per IP</term>
        <listitem>
          <para>
Time in seconds to wait for ARP REQUESTs (all packets of arping_count).
This is to limit the time for arp requests, to be able to send requests to more than one node, without running in the monitor operation timeout.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_arping_cache_entries</command>=Number of ARP cache entries to try</term>
        <listitem>
          <para>
Maximum number of IPs from ARP cache list to check for ARP REQUEST (arping) answers. Newest entries are tried first.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.Evmsd">
  <refmeta>
    <refentrytitle>ocf:Evmsd</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:Evmsd</refname>
    <refpurpose>Controls clustered EVMS volume management
(deprecated)</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_ignore_deprecation</command>=boolean] <command>Evmsd</command> [start | stop | monitor | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Deprecation warning: EVMS is no longer actively maintained and should not be used. This agent is deprecated and may be removed from a future release. --
This is a Evmsd Resource Agent.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_ignore_deprecation</command>=Suppress deprecation warning</term>
        <listitem>
          <para>
If set to true, suppresses the deprecation warning for this agent.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.EvmsSCC">
  <refmeta>
    <refentrytitle>ocf:EvmsSCC</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:EvmsSCC</refname>
    <refpurpose>Manages EVMS Shared Cluster Containers (SCCs) (deprecated)</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_ignore_deprecation</command>=boolean] <command>EvmsSCC</command> [start | stop | notify | status | monitor | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Deprecation warning: EVMS is no longer actively maintained and should not be used. This agent is deprecated and may be removed from a future release. --
Resource script for EVMS shared cluster container. It runs evms_activate on one node in the cluster.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_ignore_deprecation</command>=Suppress deprecation warning</term>
        <listitem>
          <para>
If set to true, suppresses the deprecation warning for this agent.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.exportfs">
  <refmeta>
    <refentrytitle>ocf:exportfs</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:exportfs</refname>
    <refpurpose>
Manages NFS exports
</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_clientspec</command>=string] [<command>OCF_RESKEY_options</command>=string] [<command>OCF_RESKEY_directory</command>=string] <command>OCF_RESKEY_fsid</command>=string [<command>OCF_RESKEY_unlock_on_stop</command>=boolean] [<command>OCF_RESKEY_wait_for_leasetime_on_stop</command>=boolean] [<command>OCF_RESKEY_rmtab_backup</command>=string] <command>exportfs</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Exportfs uses the exportfs command to add/remove nfs exports.
It does NOT manage the nfs server daemon.
It depends on Linux specific NFS implementation details,
so is considered not portable to other platforms yet.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_clientspec</command>=
Client ACL.
</term>
        <listitem>
          <para>
The client specification allowing remote machines to mount the directory
over NFS.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_options</command>=
Export options.
</term>
        <listitem>
          <para>
The options to pass to exportfs for the exported directory.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_directory</command>=
The directory to export.
</term>
        <listitem>
          <para>
The directory which you wish to export using NFS.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_fsid</command>=
Unique fsid within cluster.
</term>
        <listitem>
          <para>
The fsid option to pass to exportfs. This can be a unique positive
integer, a UUID, or the special string "root" which is functionally
identical to numeric fsid of 0.
0 (root) identifies the export as the root of an NFSv4
pseudofilesystem -- avoid this setting unless you understand its
special status.
This value will override any fsid provided via the options parameter.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_unlock_on_stop</command>=
Unlock filesystem on stop?
</term>
        <listitem>
          <para>
Relinquish NFS locks associated with this filesystem when the resource
stops. Enabling this parameter is highly recommended unless the path exported
by this exportfs resource is also exported by a different resource.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_wait_for_leasetime_on_stop</command>=
Ride out the NFSv4 lease time on resource stop?
</term>
        <listitem>
          <para>
When stopping (unexporting), wait out the NFSv4 lease time.
Only after all leases have expired does the NFS kernel server
relinquish all server-side handles on the exported filesystem.
If this exportfs resource manages an export that resides
on a mount point designed to fail over along with the NFS export
itself, then enabling this parameter will ensure such failover
is working properly. Note that when this parameter is set, your
stop timeout MUST accommodate for the wait period. This parameter
is safe to disable if none of your NFS clients are using NFS
version 4 or later.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_rmtab_backup</command>=
Location of the rmtab backup, relative to directory.
</term>
        <listitem>
          <para>
Back up those entries from the NFS rmtab that apply to the exported
directory, to the specified backup file. The filename is interpreted
as relative to the exported directory. This backup is required if
clients are connecting to the export via NFSv3 over TCP. Note that a
configured monitor operation is required for this functionality.

To disable rmtab backups, set this parameter to the special
string "none".
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.Filesystem">
  <refmeta>
    <refentrytitle>ocf:Filesystem</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:Filesystem</refname>
    <refpurpose>Manages filesystem mounts</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_device</command>=string] [<command>OCF_RESKEY_directory</command>=string] [<command>OCF_RESKEY_fstype</command>=string] [<command>OCF_RESKEY_options</command>=string] [<command>OCF_RESKEY_statusfile_prefix</command>=string] [<command>OCF_RESKEY_run_fsck</command>=string] [<command>OCF_RESKEY_fast_stop</command>=boolean] [<command>OCF_RESKEY_force_clones</command>=boolean] <command>Filesystem</command> [start | stop | notify | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for Filesystem. It manages a Filesystem on a
shared storage medium. 

The standard monitor operation of depth 0 (also known as probe)
checks if the filesystem is mounted. If you want deeper tests,
set OCF_CHECK_LEVEL to one of the following values:

10: read first 16 blocks of the device (raw read)

This doesn't exercise the filesystem at all, but the device on
which the filesystem lives. This is noop for non-block devices
such as NFS, SMBFS, or bind mounts.

20: test if a status file can be written and read

The status file must be writable by root. This is not always the
case with an NFS mount, as NFS exports usually have the
"root_squash" option set. In such a setup, you must either use
read-only monitoring (depth=10), export with "no_root_squash" on
your NFS server, or grant world write permissions on the
directory where the status file is to be placed.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_device</command>=block device</term>
        <listitem>
          <para>
The name of block device for the filesystem, or -U, -L options for mount, or NFS mount specification.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_directory</command>=mount point</term>
        <listitem>
          <para>
The mount point for the filesystem.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_fstype</command>=filesystem type</term>
        <listitem>
          <para>
The type of filesystem to be mounted.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_options</command>=options</term>
        <listitem>
          <para>
Any extra options to be given as -o options to mount.

For bind mounts, add "bind" here and set fstype to "none".
We will do the right thing for options such as "bind,ro".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_statusfile_prefix</command>=status file prefix</term>
        <listitem>
          <para>
The prefix to be used for a status file for resource monitoring
with depth 20. If you don't specify this parameter, all status
files will be created in a separate directory.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_run_fsck</command>=run_fsck</term>
        <listitem>
          <para>
Specify how to decide whether to run fsck or not.

"auto"  : decide to run fsck depending on the fstype(default)
"force" : always run fsck regardless of the fstype
"no"    : do not run fsck ever.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_fast_stop</command>=fast stop</term>
        <listitem>
          <para>
Normally, we expect no users of the filesystem and the stop
operation to finish quickly. If you cannot control the filesystem
users easily and want to prevent the stop action from failing,
then set this parameter to "no" and add an appropriate timeout
for the stop operation.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_force_clones</command>=allow running as a clone, regardless of filesystem type</term>
        <listitem>
          <para>
The usage of a clone setup for local filesystems is forbidden
by default. For special setups like glusterfs, cloning a mount
of a local device with a filesystem like ext4 or xfs, independently
on several nodes is a valid use-case.

Only set this to "true" if you know what you are doing!
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.fio">
  <refmeta>
    <refentrytitle>ocf:fio</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:fio</refname>
    <refpurpose>fio IO load generator</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_args</command>=string] <command>fio</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
fio is a generic I/O load generator. This RA allows start/stop of fio
instances to simulate load on a cluster without configuring complex
services.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_args</command>=fio arguments</term>
        <listitem>
          <para>
Arguments to the fio client. Minimally, this should be a (list of) job
descriptions to run.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.ICP">
  <refmeta>
    <refentrytitle>ocf:ICP</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:ICP</refname>
    <refpurpose>Manages an ICP Vortex clustered host drive</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_driveid</command>=string] [<command>OCF_RESKEY_device</command>=string] <command>ICP</command> [start | stop | status | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for ICP. It Manages an ICP Vortex clustered host drive as an 
HA resource. 
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_driveid</command>=ICP cluster drive ID</term>
        <listitem>
          <para>
The ICP cluster drive ID.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_device</command>=device</term>
        <listitem>
          <para>
The device name.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.ids">
  <refmeta>
    <refentrytitle>ocf:ids</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:ids</refname>
    <refpurpose>Manages an Informix Dynamic Server (IDS) instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_informixdir</command>=string] [<command>OCF_RESKEY_informixserver</command>=string] [<command>OCF_RESKEY_onconfig</command>=string] [<command>OCF_RESKEY_dbname</command>=string] [<command>OCF_RESKEY_sqltestquery</command>=string] <command>ids</command> [start | stop | status | monitor | validate-all | meta-data | methods | usage]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
OCF resource agent to manage an IBM Informix Dynamic Server (IDS) instance as an High-Availability resource.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_informixdir</command>=
INFORMIXDIR environment variable
</term>
        <listitem>
          <para>
The value the environment variable INFORMIXDIR has after a typical installation of IDS.
Or in other words: the path (without trailing '/') where IDS was installed to.
If this parameter is unspecified the script will try to get the value from the shell environment.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_informixserver</command>=
INFORMIXSERVER environment variable
</term>
        <listitem>
          <para>
The value the environment variable INFORMIXSERVER has after a typical installation of IDS.
Or in other words: the name of the IDS server instance to manage.
If this parameter is unspecified the script will try to get the value from the shell environment.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_onconfig</command>=
ONCONFIG environment variable
</term>
        <listitem>
          <para>
The value the environment variable ONCONFIG has after a typical installation of IDS.
Or in other words: the name of the configuration file for the IDS instance specified in INFORMIXSERVER. 
The specified configuration file will be searched at '/etc/'.
If this parameter is unspecified the script will try to get the value from the shell environment.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_dbname</command>=
database to use for monitoring, defaults to 'sysmaster'
</term>
        <listitem>
          <para>
This parameter defines which database to use in order to monitor the IDS instance.
If this parameter is unspecified the script will use the 'sysmaster' database as a default.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_sqltestquery</command>=
SQL test query to use for monitoring, defaults to 'SELECT COUNT(*) FROM systables;'
</term>
        <listitem>
          <para>
SQL test query to run on the database specified by the parameter 'dbname' 
in order to monitor the IDS instance and determine if it's functional or not.
If this parameter is unspecified the script will use 'SELECT COUNT(*) FROM systables;' as a default.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.IPaddr2">
  <refmeta>
    <refentrytitle>ocf:IPaddr2</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:IPaddr2</refname>
    <refpurpose>Manages virtual IPv4 addresses (Linux specific version)</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_ip</command>=string [<command>OCF_RESKEY_nic</command>=string] [<command>OCF_RESKEY_cidr_netmask</command>=string] [<command>OCF_RESKEY_broadcast</command>=string] [<command>OCF_RESKEY_iflabel</command>=string] [<command>OCF_RESKEY_lvs_support</command>=boolean] [<command>OCF_RESKEY_lvs_ipv6_addrlabel</command>=boolean] [<command>OCF_RESKEY_lvs_ipv6_addrlabel_value</command>=integer] [<command>OCF_RESKEY_mac</command>=string] [<command>OCF_RESKEY_clusterip_hash</command>=string] [<command>OCF_RESKEY_unique_clone_address</command>=boolean] [<command>OCF_RESKEY_arp_interval</command>=integer] [<command>OCF_RESKEY_arp_count</command>=integer] [<command>OCF_RESKEY_arp_bg</command>=string] [<command>OCF_RESKEY_arp_mac</command>=string] [<command>OCF_RESKEY_arp_sender</command>=string] [<command>OCF_RESKEY_flush_routes</command>=boolean] <command>IPaddr2</command> [start | stop | status | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This Linux-specific resource manages IP alias IP addresses.
It can add an IP alias, or remove one.
In addition, it can implement Cluster Alias IP functionality
if invoked as a clone resource.

If used as a clone, you should explicitly set clone-node-max &gt;= 2,
and/or clone-max &lt; number of nodes. In case of node failure,
clone instances need to be re-allocated on surviving nodes.
Which would not be possible, if there is already an instance on those nodes,
and clone-node-max=1 (which is the default).
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_ip</command>=IPv4 address</term>
        <listitem>
          <para>
The IPv4 address to be configured in dotted quad notation, for example
"192.168.1.1".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_nic</command>=Network interface</term>
        <listitem>
          <para>
The base network interface on which the IP address will be brought
online. 
If left empty, the script will try and determine this from the
routing table.

Do NOT specify an alias interface in the form eth0:1 or anything here;
rather, specify the base interface only.
If you want a label, see the iflabel parameter.

Prerequisite:

There must be at least one static IP address, which is not managed by
the cluster, assigned to the network interface.
If you can not assign any static IP address on the interface,
modify this kernel parameter:

sysctl -w net.ipv4.conf.all.promote_secondaries=1 # (or per device)
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_cidr_netmask</command>=CIDR netmask</term>
        <listitem>
          <para>
The netmask for the interface in CIDR format
(e.g., 24 and not 255.255.255.0)

If unspecified, the script will also try to determine this from the
routing table.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_broadcast</command>=Broadcast address</term>
        <listitem>
          <para>
Broadcast address associated with the IP. If left empty, the script will
determine this from the netmask.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_iflabel</command>=Interface label</term>
        <listitem>
          <para>
You can specify an additional label for your IP address here.
This label is appended to your interface name.

A label can be specified in nic parameter but it is deprecated.
If a label is specified in nic name, this parameter has no effect.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_lvs_support</command>=Enable support for LVS DR</term>
        <listitem>
          <para>
Enable support for LVS Direct Routing configurations. In case a IP
address is stopped, only move it to the loopback device to allow the
local node to continue to service requests, but no longer advertise it
on the network.

Notes for IPv6:
It is not necessary to enable this option on IPv6.
Instead, enable 'lvs_ipv6_addrlabel' option for LVS-DR usage on IPv6.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_lvs_ipv6_addrlabel</command>=Enables adding IPv6 address label.</term>
        <listitem>
          <para>
Enable adding IPv6 address label so IPv6 traffic originating from
the address' interface does not use this address as the source.
This is necessary for LVS-DR health checks to realservers to work. Without it,
the most recently added IPv6 address (probably the address added by IPaddr2)
will be used as the source address for IPv6 traffic from that interface and
since that address exists on loopback on the realservers, the realserver
response to pings/connections will not never leave its loopback.
See RFC3484 for the detail of the source address selection.

See also 'lvs_ipv6_addrlabel_value' parameter.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_lvs_ipv6_addrlabel_value</command>=IPv6 address label value.</term>
        <listitem>
          <para>
Specify IPv6 address label value used when 'lvs_ipv6_addrlabel' is enabled.
The value should be an unused label in the policy table
which is shown by 'ip addrlabel list' command.
You would rarely need to change this parameter.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_mac</command>=Cluster IP MAC address</term>
        <listitem>
          <para>
Set the interface MAC address explicitly. Currently only used in case of
the Cluster IP Alias. Leave empty to chose automatically.

</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_clusterip_hash</command>=Cluster IP hashing function</term>
        <listitem>
          <para>
Specify the hashing algorithm used for the Cluster IP functionality.

</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_unique_clone_address</command>=Create a unique address for cloned instances</term>
        <listitem>
          <para>
If true, add the clone ID to the supplied value of ip to create
a unique address to manage 
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_arp_interval</command>=ARP packet interval in ms</term>
        <listitem>
          <para>
Specify the interval between unsolicited ARP packets in milliseconds.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_arp_count</command>=ARP packet count</term>
        <listitem>
          <para>
Number of unsolicited ARP packets to send.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_arp_bg</command>=ARP from background</term>
        <listitem>
          <para>
Whether or not to send the arp packets in the background.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_arp_mac</command>=ARP MAC</term>
        <listitem>
          <para>
MAC address to send the ARP packets to.

You really shouldn't be touching this.

</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_arp_sender</command>=ARP sender</term>
        <listitem>
          <para>
The program to send ARP packets with on start. For infiniband
interfaces, default is ipoibarping. If ipoibarping is not
available, set this to send_arp.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_flush_routes</command>=Flush kernel routing table on stop</term>
        <listitem>
          <para>
Flush the routing table on stop. This is for
applications which use the cluster IP address
and which run on the same physical host that the
IP address lives on. The Linux kernel may force that
application to take a shortcut to the local loopback
interface, instead of the interface the address
is really bound to. Under those circumstances, an
application may, somewhat unexpectedly, continue
to use connections for some time even after the
IP address is deconfigured. Set this parameter in
order to immediately disable said shortcut when the
IP address goes away.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.IPaddr">
  <refmeta>
    <refentrytitle>ocf:IPaddr</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:IPaddr</refname>
    <refpurpose>Manages virtual IPv4 addresses (portable version)</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_ip</command>=string [<command>OCF_RESKEY_nic</command>=string] [<command>OCF_RESKEY_cidr_netmask</command>=string] [<command>OCF_RESKEY_broadcast</command>=string] [<command>OCF_RESKEY_iflabel</command>=string] [<command>OCF_RESKEY_lvs_support</command>=boolean] [<command>OCF_RESKEY_local_stop_script</command>=string] [<command>OCF_RESKEY_local_start_script</command>=string] [<command>OCF_RESKEY_ARP_INTERVAL_MS</command>=integer] [<command>OCF_RESKEY_ARP_REPEAT</command>=integer] [<command>OCF_RESKEY_ARP_BACKGROUND</command>=boolean] [<command>OCF_RESKEY_ARP_NETMASK</command>=string] <command>IPaddr</command> [start | stop | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This script manages IP alias IP addresses
It can add an IP alias, or remove one.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_ip</command>=IPv4 address</term>
        <listitem>
          <para>
The IPv4 address to be configured in dotted quad notation, for example
"192.168.1.1".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_nic</command>=Network interface</term>
        <listitem>
          <para>
The base network interface on which the IP address will be brought
online.

If left empty, the script will try and determine this from the
routing table.

Do NOT specify an alias interface in the form eth0:1 or anything here;
rather, specify the base interface only.

Prerequisite:

There must be at least one static IP address, which is not managed by
the cluster, assigned to the network interface.

If you can not assign any static IP address on the interface,
modify this kernel parameter:
sysctl -w net.ipv4.conf.all.promote_secondaries=1
(or per device)

</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_cidr_netmask</command>=Netmask</term>
        <listitem>
          <para>
The netmask for the interface in CIDR format. (ie, 24), or in
dotted quad notation  255.255.255.0).

If unspecified, the script will also try to determine this from the
routing table.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_broadcast</command>=Broadcast address</term>
        <listitem>
          <para>
Broadcast address associated with the IP. If left empty, the script will
determine this from the netmask.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_iflabel</command>=Interface label</term>
        <listitem>
          <para>
You can specify an additional label for your IP address here.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_lvs_support</command>=Enable support for LVS DR</term>
        <listitem>
          <para>
Enable support for LVS Direct Routing configurations. In case a IP
address is stopped, only move it to the loopback device to allow the
local node to continue to service requests, but no longer advertise it
on the network.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_local_stop_script</command>=Script called when the IP is released</term>
        <listitem>
          <para>
Script called when the IP is released
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_local_start_script</command>=Script called when the IP is added</term>
        <listitem>
          <para>
Script called when the IP is added
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ARP_INTERVAL_MS</command>=milliseconds between gratuitous ARPs</term>
        <listitem>
          <para>
milliseconds between ARPs
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ARP_REPEAT</command>=repeat count</term>
        <listitem>
          <para>
How many gratuitous ARPs to send out when bringing up a new address
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ARP_BACKGROUND</command>=run in background</term>
        <listitem>
          <para>
run in background (no longer any reason to do this)
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ARP_NETMASK</command>=netmask for ARP</term>
        <listitem>
          <para>
netmask for ARP - in nonstandard hexadecimal format.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.IPsrcaddr">
  <refmeta>
    <refentrytitle>ocf:IPsrcaddr</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:IPsrcaddr</refname>
    <refpurpose>Manages the preferred source address for outgoing IP packets</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_ipaddress</command>=string] [<command>OCF_RESKEY_cidr_netmask</command>=string] <command>IPsrcaddr</command> [start | stop | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for IPsrcaddr. It manages the preferred source address
modification. 
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_ipaddress</command>=IP address</term>
        <listitem>
          <para>
The IP address. 
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_cidr_netmask</command>=Netmask</term>
        <listitem>
          <para>
The netmask for the interface in CIDR format. (ie, 24), or in
dotted quad notation  255.255.255.0).
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.IPv6addr">
  <refmeta>
    <refentrytitle>ocf:IPv6addr</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:IPv6addr</refname>
    <refpurpose>Manages IPv6 aliases</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_ipv6addr</command>=string] [<command>OCF_RESKEY_cidr_netmask</command>=string] [<command>OCF_RESKEY_nic</command>=string] <command>IPv6addr</command> [start | stop | status | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
   This script manages IPv6 alias IPv6 addresses,It can add an IP6
   alias, or remove one.
  </para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_ipv6addr</command>=IPv6 address</term>
        <listitem>
          <para>
	The IPv6 address this RA will manage 
      </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_cidr_netmask</command>=Netmask</term>
        <listitem>
          <para>
	The netmask for the interface in CIDR format. (ie, 24).
	The value of this parameter overwrites the value of _prefix_
	of ipv6addr parameter.
      </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_nic</command>=Network interface</term>
        <listitem>
          <para>
	The base network interface on which the IPv6 address will
	be brought online.
      </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.iSCSILogicalUnit">
  <refmeta>
    <refentrytitle>ocf:iSCSILogicalUnit</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:iSCSILogicalUnit</refname>
    <refpurpose>Manages iSCSI Logical Units (LUs)</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_implementation</command>=string] [<command>OCF_RESKEY_target_iqn</command>=string] [<command>OCF_RESKEY_lun</command>=integer] [<command>OCF_RESKEY_path</command>=string] <command>OCF_RESKEY_scsi_id</command>=string <command>OCF_RESKEY_scsi_sn</command>=string [<command>OCF_RESKEY_vendor_id</command>=string] [<command>OCF_RESKEY_product_id</command>=string] [<command>OCF_RESKEY_additional_parameters</command>=string] [<command>OCF_RESKEY_allowed_initiators</command>=string] <command>iSCSILogicalUnit</command> [start | stop | status | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Manages iSCSI Logical Unit. An iSCSI Logical unit is a subdivision of 
an SCSI Target, exported via a daemon that speaks the iSCSI protocol.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_implementation</command>=iSCSI target daemon implementation</term>
        <listitem>
          <para>
The iSCSI target daemon implementation. Must be one of "iet", "tgt",
or "lio".  If unspecified, an implementation is selected based on the
availability of management utilities, with "iet" being tried first,
then "tgt", then "lio".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_target_iqn</command>=iSCSI target IQN</term>
        <listitem>
          <para>
The iSCSI Qualified Name (IQN) that this Logical Unit belongs to.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_lun</command>=Logical Unit number (LUN)</term>
        <listitem>
          <para>
The Logical Unit number (LUN) exposed to initiators.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_path</command>=Block device (or file) path</term>
        <listitem>
          <para>
The path to the block device exposed. Some implementations allow this
to be a regular file, too.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_scsi_id</command>=SCSI ID</term>
        <listitem>
          <para>
The SCSI ID to be configured for this Logical Unit. The default
is the resource name, truncated to 24 bytes.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_scsi_sn</command>=SCSI serial number</term>
        <listitem>
          <para>
The SCSI serial number to be configured for this Logical Unit.
The default is a hash of the resource name, truncated to 8 bytes.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_vendor_id</command>=SCSI vendor ID</term>
        <listitem>
          <para>
The SCSI vendor ID to be configured for this Logical Unit.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_product_id</command>=SCSI product ID</term>
        <listitem>
          <para>
The SCSI product ID to be configured for this Logical Unit.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_additional_parameters</command>=List of iSCSI LU parameters</term>
        <listitem>
          <para>
Additional LU parameters. A space-separated list of "name=value" pairs
which will be passed through to the iSCSI daemon's management
interface. The supported parameters are implementation
dependent. Neither the name nor the value may contain whitespace.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_allowed_initiators</command>=List of iSCSI initiators allowed to connect
to this lun.</term>
        <listitem>
          <para>
Allowed initiators. A space-separated list of initiators allowed to
connect to this lun. Initiators may be listed in any syntax
the target implementation allows. If this parameter is empty or
not set, access to this lun will not be allowed from any initiator,
if target is not in demo mode.

This parameter is only necessary, when using LIO.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.iSCSITarget">
  <refmeta>
    <refentrytitle>ocf:iSCSITarget</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:iSCSITarget</refname>
    <refpurpose>iSCSI target export agent</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_implementation</command>=string] <command>OCF_RESKEY_iqn</command>=string <command>OCF_RESKEY_tid</command>=integer [<command>OCF_RESKEY_portals</command>=string] [<command>OCF_RESKEY_allowed_initiators</command>=string] <command>OCF_RESKEY_incoming_username</command>=string [<command>OCF_RESKEY_incoming_password</command>=string] [<command>OCF_RESKEY_additional_parameters</command>=string] <command>iSCSITarget</command> [start | stop | status | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Manages iSCSI targets. An iSCSI target is a collection of SCSI Logical
Units (LUs) exported via a daemon that speaks the iSCSI protocol.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_implementation</command>=Specifies the iSCSI target implementation
("iet", "tgt" or "lio").</term>
        <listitem>
          <para>
The iSCSI target daemon implementation. Must be one of "iet", "tgt",
or "lio".  If unspecified, an implementation is selected based on the
availability of management utilities, with "iet" being tried first,
then "tgt", then "lio".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_iqn</command>=iSCSI target IQN</term>
        <listitem>
          <para>
The target iSCSI Qualified Name (IQN). Should follow the conventional
"iqn.yyyy-mm.&lt;reversed domain name&gt;[:identifier]" syntax.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_tid</command>=iSCSI target ID</term>
        <listitem>
          <para>
The iSCSI target ID. Required for tgt.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_portals</command>=iSCSI portal addresses</term>
        <listitem>
          <para>
iSCSI network portal addresses. Not supported by all
implementations. If unset, the default is to create one portal that
listens on .
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_allowed_initiators</command>=List of iSCSI initiators allowed to connect
to this target</term>
        <listitem>
          <para>
Allowed initiators. A space-separated list of initiators allowed to
connect to this target. Initiators may be listed in any syntax
the target implementation allows. If this parameter is empty or
not set, access to this target will be allowed from any initiator.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_incoming_username</command>=Incoming account username</term>
        <listitem>
          <para>
A username used for incoming initiator authentication. If unspecified,
allowed initiators will be able to log in without authentication.
This is a unique parameter, as it not allowed to re-use a single
username across multiple target instances.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_incoming_password</command>=Incoming account password</term>
        <listitem>
          <para>
A password used for incoming initiator authentication.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_additional_parameters</command>=List of iSCSI target parameters</term>
        <listitem>
          <para>
Additional target parameters. A space-separated list of "name=value"
pairs which will be passed through to the iSCSI daemon's management
interface. The supported parameters are implementation
dependent. Neither the name nor the value may contain whitespace.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.iscsi">
  <refmeta>
    <refentrytitle>ocf:iscsi</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:iscsi</refname>
    <refpurpose>Manages a local iSCSI initiator and its connections to iSCSI targets</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_portal</command>=string] <command>OCF_RESKEY_target</command>=string [<command>OCF_RESKEY_discovery_type</command>=string] [<command>OCF_RESKEY_iscsiadm</command>=string] [<command>OCF_RESKEY_udev</command>=string] [<command>OCF_RESKEY_try_recovery</command>=boolean] <command>iscsi</command> [start | stop | status | monitor | validate-all | methods | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
OCF Resource Agent for iSCSI. Add (start) or remove (stop) iSCSI
targets.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_portal</command>=Portal address</term>
        <listitem>
          <para>
The iSCSI portal address in the form: {ip_address|hostname}[":"port]
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_target</command>=Target IQN</term>
        <listitem>
          <para>
The iSCSI target IQN.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_discovery_type</command>=Target discovery type</term>
        <listitem>
          <para>
Target discovery type. Check the open-iscsi documentation for
supported discovery types.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_iscsiadm</command>=iscsiadm binary</term>
        <listitem>
          <para>
open-iscsi administration utility binary.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_udev</command>=udev</term>
        <listitem>
          <para>
If the next resource depends on the udev creating a device then
we wait until it is finished. On a normally loaded host this
should be done quickly, but you may be unlucky. If you are not
using udev set this to "no", otherwise we will spin in a loop
until a timeout occurs.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_try_recovery</command>=on error wait for iSCSI recovery in monitor</term>
        <listitem>
          <para>
If the iSCSI session exists but is currently inactive/broken,
which is most probably due to network problems, the iSCSI layer
will try to recover. If this parameter is set to true, we'll wait
for the recovery to succeed. In that case the monitor operation
can only time out so you should set the monitor op timeout
attribute appropriately.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.jboss">
  <refmeta>
    <refentrytitle>ocf:jboss</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:jboss</refname>
    <refpurpose>Manages a JBoss application server instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_resource_name</command>=string <command>OCF_RESKEY_console</command>=string [<command>OCF_RESKEY_shutdown_timeout</command>=integer] [<command>OCF_RESKEY_kill_timeout</command>=integer] [<command>OCF_RESKEY_user</command>=string] [<command>OCF_RESKEY_statusurl</command>=string] [<command>OCF_RESKEY_java_home</command>=string] [<command>OCF_RESKEY_java_opts</command>=string] <command>OCF_RESKEY_jboss_home</command>=string [<command>OCF_RESKEY_pstring</command>=string] [<command>OCF_RESKEY_run_opts</command>=string] [<command>OCF_RESKEY_shutdown_opts</command>=string] [<command>OCF_RESKEY_rotate_consolelog</command>=string] [<command>OCF_RESKEY_rotate_value</command>=integer] [<command>OCF_RESKEY_rotate_logsuffix</command>=integer] <command>jboss</command> [start | stop | status | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for Jboss. It manages a Jboss instance as an HA resource.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_resource_name</command>=The name of the resource</term>
        <listitem>
          <para>
The name of the resource. Defaults to the name of the resource
instance.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_console</command>=jboss log path</term>
        <listitem>
          <para>
A destination of the log of jboss run and shutdown script.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_shutdown_timeout</command>=shutdown timeout</term>
        <listitem>
          <para>
Timeout for jboss bin/shutdown.sh. We wait for this timeout to
expire, then send the TERM and QUIT signals. Finally, the KILL
signal is used to terminate the jboss process. You should set the
timeout for the stop operation to a value bigger than the sum of
the timeout parameters. See also kill_timeout.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_kill_timeout</command>=stop by signal timeout</term>
        <listitem>
          <para>
If bin/shutdown.sh doesn't stop the jboss process, then we send
it TERM and QUIT signals, intermittently and once a second. After
this timeout expires, if the process is still live, we use the
KILL signal. See also shutdown_timeout.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_user</command>=A user name to start a resource.</term>
        <listitem>
          <para>
A user name to start a JBoss.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_statusurl</command>=URL to test in the monitor operation.</term>
        <listitem>
          <para>
URL to test in the monitor operation.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_java_home</command>=Home directory of Java.</term>
        <listitem>
          <para>
Home directory of Java. Defaults to the environment variable
JAVA_HOME. If it is not set, then define this parameter.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_java_opts</command>=Java options.</term>
        <listitem>
          <para>
Java options.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_jboss_home</command>=Home directory of Jboss.</term>
        <listitem>
          <para>
Home directory of Jboss.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pstring</command>=pkill/pgrep search string</term>
        <listitem>
          <para>
With this string heartbeat matches for the right process to kill.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_run_opts</command>=options for jboss run.sh</term>
        <listitem>
          <para>
Start options to start Jboss with, defaults are from the Jboss-Doku.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_shutdown_opts</command>=options for jboss shutdown.sh</term>
        <listitem>
          <para>
Stop options to stop Jboss with.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_rotate_consolelog</command>=Rotate console log flag</term>
        <listitem>
          <para>
Rotate console log flag.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_rotate_value</command>=console log rotation value (default is 86400 seconds)</term>
        <listitem>
          <para>
console log rotation value (default is 86400 seconds).
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_rotate_logsuffix</command>=Rotate console log suffix</term>
        <listitem>
          <para>
Rotate console log suffix.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.ldirectord">
  <refmeta>
    <refentrytitle>ocf:ldirectord</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:ldirectord</refname>
    <refpurpose>Wrapper OCF Resource Agent for ldirectord</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_configfile</command>=string [<command>OCF_RESKEY_ldirectord</command>=string] <command>ldirectord</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
It's a simple OCF RA wrapper for ldirectord and uses the ldirectord interface
to create the OCF compliant interface. You win monitoring of ldirectord.
Be warned: Asking ldirectord status is an expensive action.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_configfile</command>=configuration file path</term>
        <listitem>
          <para>
The full pathname of the ldirectord configuration file.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ldirectord</command>=ldirectord binary path</term>
        <listitem>
          <para>
The full pathname of the ldirectord.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.LinuxSCSI">
  <refmeta>
    <refentrytitle>ocf:LinuxSCSI</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:LinuxSCSI</refname>
    <refpurpose>Enables and disables SCSI devices through the
kernel SCSI hot-plug subsystem (deprecated)</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_scsi</command>=string] [<command>OCF_RESKEY_ignore_deprecation</command>=boolean] <command>LinuxSCSI</command> [start | stop | methods | status | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Deprecation warning: This agent makes use of Linux SCSI hot-plug
functionality which has been superseded by SCSI reservations. It is
deprecated and may be removed from a future release. See the
scsi2reservation and sfex agents for alternatives. --
This is a resource agent for LinuxSCSI. It manages the availability of a
SCSI device from the point of view of the linux kernel. It make Linux
believe the device has gone away, and it can make it come back again.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_scsi</command>=SCSI instance</term>
        <listitem>
          <para>
The SCSI instance to be managed.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ignore_deprecation</command>=Suppress deprecation warning</term>
        <listitem>
          <para>
If set to true, suppresses the deprecation warning for this agent.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.LVM">
  <refmeta>
    <refentrytitle>ocf:LVM</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:LVM</refname>
    <refpurpose>Controls the availability of an LVM Volume Group</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_volgrpname</command>=string] [<command>OCF_RESKEY_exclusive</command>=boolean] [<command>OCF_RESKEY_partial_activation</command>=string] <command>LVM</command> [start | stop | status | monitor | methods | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for LVM. It manages an  Linux Volume Manager volume (LVM) 
as an HA resource. 
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_volgrpname</command>=Volume group name</term>
        <listitem>
          <para>
The name of volume group.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_exclusive</command>=Exclusive activation</term>
        <listitem>
          <para>
If set, the volume group will be activated exclusively.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_partial_activation</command>=Activate VG even with partial PV only</term>
        <listitem>
          <para>
If set, the volume group will be activated even only partial of the physical
volumes available. It helps to set to true, when you are using mirroring
logical volumes. Set to true by default in SLE11SP1 HAE.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.lxc">
  <refmeta>
    <refentrytitle>ocf:lxc</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:lxc</refname>
    <refpurpose>Manages LXC containers</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_container</command>=string [<command>OCF_RESKEY_config</command>=string] [<command>OCF_RESKEY_log</command>=string] [<command>OCF_RESKEY_use_screen</command>=boolean] <command>lxc</command> [start | stop | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>Allows LXC containers to be managed by the cluster.
If the container is running "init" it will also perform an orderly shutdown.
It is 'assumed' that the 'init' system will do an orderly shudown if presented with a 'kill -PWR' signal.
On a 'sysvinit' this would require the container to have an inittab file containing "p0::powerfail:/sbin/init 0"
I have absolutly no idea how this is done with 'upstart' or 'systemd', YMMV if your container is using one of them.</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_container</command>=Container Name</term>
        <listitem>
          <para>The unique name for this 'Container Instance' e.g. 'test1'.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_config</command>=The LXC config file.</term>
        <listitem>
          <para>Absolute path to the file holding the specific configuration for this container e.g. '/etc/lxc/test1/config'.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_log</command>=Container log file</term>
        <listitem>
          <para>Absolute path to the container log file</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_use_screen</command>=Use 'screen' for container 'root console' output</term>
        <listitem>
          <para>Provides the option of capturing the 'root console' from the container and showing it on a separate screen. 
To see the screen output run 'screen -r {container name}'
The default value is set to 'false', change to 'true' to activate this option</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.MailTo">
  <refmeta>
    <refentrytitle>ocf:MailTo</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:MailTo</refname>
    <refpurpose>Notifies recipients by email in the event of resource takeover</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_email</command>=string] [<command>OCF_RESKEY_subject</command>=string] <command>MailTo</command> [start | stop | status | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This is a resource agent for MailTo. It sends email to a sysadmin whenever 
a takeover occurs.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_email</command>=Email address</term>
        <listitem>
          <para>
The email address of sysadmin.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_subject</command>=Subject</term>
        <listitem>
          <para>
The subject of the email.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.ManageRAID">
  <refmeta>
    <refentrytitle>ocf:ManageRAID</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:ManageRAID</refname>
    <refpurpose>Manages RAID devices</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_raidname</command>=string] <command>ManageRAID</command> [start | stop | status | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
    Manages starting, stopping and monitoring of RAID devices which
    are preconfigured in /etc/conf.d/HB-ManageRAID.
  </para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_raidname</command>=RAID name</term>
        <listitem>
          <para>
        Name (case sensitive) of RAID to manage. (preconfigured in /etc/conf.d/HB-ManageRAID)
      </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.ManageVE">
  <refmeta>
    <refentrytitle>ocf:ManageVE</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:ManageVE</refname>
    <refpurpose>Manages an OpenVZ Virtual Environment (VE)</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_veid</command>=integer] <command>ManageVE</command> [start | stop | status | monitor | migrate_to | migrate_from | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
    This OCF compliant resource agent manages OpenVZ VEs and thus requires
    a proper OpenVZ installation including a recent vzctl util.
  </para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_veid</command>=OpenVZ ID of VE</term>
        <listitem>
          <para>
        OpenVZ ID of virtual environment (see output of vzlist -a for all assigned IDs)
      </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.mysql-proxy">
  <refmeta>
    <refentrytitle>ocf:mysql-proxy</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:mysql-proxy</refname>
    <refpurpose>Manages a MySQL Proxy instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_binary</command>=string] [<command>OCF_RESKEY_client_binary</command>=string] [<command>OCF_RESKEY_defaults_file</command>=string] [<command>OCF_RESKEY_proxy_backend_addresses</command>=string] [<command>OCF_RESKEY_proxy_read_only_backend_addresses</command>=string] [<command>OCF_RESKEY_proxy_address</command>=string] [<command>OCF_RESKEY_log_level</command>=string] [<command>OCF_RESKEY_keepalive</command>=string] [<command>OCF_RESKEY_plugins</command>=string] [<command>OCF_RESKEY_admin_address</command>=string] [<command>OCF_RESKEY_admin_username</command>=string] [<command>OCF_RESKEY_admin_password</command>=string] [<command>OCF_RESKEY_admin_lua_script</command>=string] [<command>OCF_RESKEY_test_table</command>=string] [<command>OCF_RESKEY_test_user</command>=string] [<command>OCF_RESKEY_test_passwd</command>=string] [<command>OCF_RESKEY_parameters</command>=string] <command>OCF_RESKEY_pidfile</command>=string <command>mysql-proxy</command> [start | stop | reload | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This script manages MySQL Proxy as an OCF resource in a high-availability setup.

The default monitor operation will verify that mysql-proxy is running.

The level 10 monitor operation is left out intentionally for possible future enhancements in conjunction with the admin plugin.

The level 20 monitor operation will perform a SELECT on a given table to verify that the connection to a backend-server is actually working.

Tested with MySQL Proxy 0.8.1 and 0.8.3 on Debian 6.0.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_binary</command>=Full path to MySQL Proxy binary</term>
        <listitem>
          <para>
Full path to the MySQL Proxy binary.
For example, "/usr/sbin/mysql-proxy".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_client_binary</command>=MySQL client binary</term>
        <listitem>
          <para>
Location of the MySQL client binary
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_defaults_file</command>=Full path to configuration file</term>
        <listitem>
          <para>
Full path to a MySQL Proxy configuration file.
For example, "/etc/mysql-proxy.conf".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_proxy_backend_addresses</command>=MySQL Proxy backend-servers</term>
        <listitem>
          <para>
Address:port of the remote backend-servers (default: 127.0.0.1:3306).
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_proxy_read_only_backend_addresses</command>=MySql Proxy read only backend-servers</term>
        <listitem>
          <para>
Address:port of the remote (read only) slave-server (default: ).
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_proxy_address</command>=MySQL Proxy listening address</term>
        <listitem>
          <para>
Listening address:port of the proxy-server (default: :4040).
You can also specify a socket like "/tmp/mysql-proxy.sock".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_log_level</command>=MySQL Proxy log level.</term>
        <listitem>
          <para>
Log all messages of level (error|warning|info|message|debug|) or higher.
An empty value disables logging.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_keepalive</command>=Use keepalive option</term>
        <listitem>
          <para>
Try to restart the proxy if it crashed (default: ).
Valid values: true or false. An empty value equals "false".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_plugins</command>=MySQL Proxy plugins</term>
        <listitem>
          <para>
Whitespace separated list of plugins to load (default: ).
Note: The admin plugin will be auto-loaded in case you specify an admin_* parameter.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_admin_address</command>=MySQL Proxy admin plugin listening address</term>
        <listitem>
          <para>
Listening address:port of the admin plugin (default: 127.0.0.1:4041).
Note: The admin plugin will be auto-loaded in case you specify an admin_* parameter.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_admin_username</command>=MySQL Proxy admin plugin username</term>
        <listitem>
          <para>
Username for the admin plugin (default: ).
Required since MySQL Proxy 0.8.1, if the admin plugin is loaded.
Note: The admin plugin will be auto-loaded in case you specify an admin_* parameter.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_admin_password</command>=MySQL Proxy admin plugin password</term>
        <listitem>
          <para>
Password for the admin plugin (default: ).
Required since MySQL Proxy 0.8.1, if the admin plugin is loaded.
Note: The admin plugin will be auto-loaded in case you specify an admin_* parameter.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_admin_lua_script</command>=MySQL Proxy admin plugin lua script</term>
        <listitem>
          <para>
Script to execute by the admin plugin.
Required since MySQL Proxy 0.8.1, if the admin plugin is loaded.
Note: The admin plugin will be auto-loaded in case you specify an admin_* parameter.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_test_table</command>=MySQL test table</term>
        <listitem>
          <para>
Table to be tested in monitor statement (in database.table notation)
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_test_user</command>=MySQL test user</term>
        <listitem>
          <para>
MySQL test user
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_test_passwd</command>=MySQL test user password</term>
        <listitem>
          <para>
MySQL test user password
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_parameters</command>=MySQL Proxy additional parameters</term>
        <listitem>
          <para>
The MySQL Proxy daemon may be called with additional parameters.
Specify any of them here.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pidfile</command>=PID file</term>
        <listitem>
          <para>PID file</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.mysql">
  <refmeta>
    <refentrytitle>ocf:mysql</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:mysql</refname>
    <refpurpose>Manages a MySQL database instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_binary</command>=string] [<command>OCF_RESKEY_client_binary</command>=string] [<command>OCF_RESKEY_config</command>=string] [<command>OCF_RESKEY_datadir</command>=string] [<command>OCF_RESKEY_user</command>=string] [<command>OCF_RESKEY_group</command>=string] [<command>OCF_RESKEY_log</command>=string] [<command>OCF_RESKEY_pid</command>=string] [<command>OCF_RESKEY_socket</command>=string] [<command>OCF_RESKEY_test_table</command>=string] [<command>OCF_RESKEY_test_user</command>=string] [<command>OCF_RESKEY_test_passwd</command>=string] [<command>OCF_RESKEY_enable_creation</command>=boolean] [<command>OCF_RESKEY_additional_parameters</command>=string] [<command>OCF_RESKEY_replication_user</command>=string] [<command>OCF_RESKEY_replication_passwd</command>=string] [<command>OCF_RESKEY_replication_port</command>=string] [<command>OCF_RESKEY_max_slave_lag</command>=integer] [<command>OCF_RESKEY_evict_outdated_slaves</command>=boolean] <command>OCF_RESKEY_reader_attribute</command>=string <command>mysql</command> [start | stop | status | monitor | monitor | monitor | promote | demote | notify | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for MySQL.
May manage a standalone MySQL database, a clone set with externally
managed replication, or a complete master/slave replication setup.

While managing replication, the default behavior is to use uname -n 
values in the change master to command.  Other IPs can be specified 
manually by adding a node attribute ${INSTANCE_ATTR_NAME}_mysql_master_IP
giving the IP to use for replication.  For example, if the mysql primitive 
you are using is p_mysql, the attribute to set will be 
p_mysql_mysql_master_IP.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_binary</command>=MySQL server binary</term>
        <listitem>
          <para>
Location of the MySQL server binary
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_client_binary</command>=MySQL client binary</term>
        <listitem>
          <para>
Location of the MySQL client binary
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_config</command>=MySQL config</term>
        <listitem>
          <para>
Configuration file
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_datadir</command>=MySQL datadir</term>
        <listitem>
          <para>
Directory containing databases
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_user</command>=MySQL user</term>
        <listitem>
          <para>
User running MySQL daemon
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_group</command>=MySQL group</term>
        <listitem>
          <para>
Group running MySQL daemon (for logfile and directory permissions)
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_log</command>=MySQL log file</term>
        <listitem>
          <para>
The logfile to be used for mysqld.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pid</command>=MySQL pid file</term>
        <listitem>
          <para>
The pidfile to be used for mysqld.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_socket</command>=MySQL socket</term>
        <listitem>
          <para>
The socket to be used for mysqld.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_test_table</command>=MySQL test table</term>
        <listitem>
          <para>
Table to be tested in monitor statement (in database.table notation)
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_test_user</command>=MySQL test user</term>
        <listitem>
          <para>
MySQL test user, must have select privilege on test_table
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_test_passwd</command>=MySQL test user password</term>
        <listitem>
          <para>
MySQL test user password
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_enable_creation</command>=Create the database if it does not exist</term>
        <listitem>
          <para>
If the MySQL database does not exist, it will be created
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_additional_parameters</command>=Additional parameters to pass to mysqld</term>
        <listitem>
          <para>
Additional parameters which are passed to the mysqld on startup.
(e.g. --skip-external-locking or --skip-grant-tables)
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_replication_user</command>=MySQL replication user</term>
        <listitem>
          <para>
MySQL replication user. This user is used for starting and stopping
MySQL replication, for setting and resetting the master host, and for
setting and unsetting read-only mode. Because of that, this user must
have SUPER, REPLICATION SLAVE, REPLICATION CLIENT, and PROCESS
privileges on all nodes within the cluster. Mandatory if you define
a master-slave resource.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_replication_passwd</command>=MySQL replication user password</term>
        <listitem>
          <para>
MySQL replication password. Used for replication client and slave.
Mandatory if you define a master-slave resource.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_replication_port</command>=MySQL replication port</term>
        <listitem>
          <para>
The port on which the Master MySQL instance is listening.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_max_slave_lag</command>=Maximum time (seconds) a MySQL slave is allowed
to lag behind a master</term>
        <listitem>
          <para>
The maximum number of seconds a replication slave is allowed to lag
behind its master. Do not set this to zero. What the cluster manager
does in case a slave exceeds this maximum lag is determined by the
evict_outdated_slaves parameter.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_evict_outdated_slaves</command>=Determines whether to shut down badly lagging
slaves</term>
        <listitem>
          <para>
If set to true, any slave which is more than max_slave_lag seconds
behind the master has its MySQL instance shut down. If this parameter
is set to false in a primitive or clone resource, it is simply
ignored. If set to false in a master/slave resource, then exceeding
the maximum slave lag will merely push down the master preference so
the lagging slave is never promoted to the new master.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_reader_attribute</command>=Sets the node attribute that determines
whether a node is usable for clients to read from.</term>
        <listitem>
          <para>
An attribute that the RA can manage to specify whether a node
can be read from. This node attribute will be 1 if it's fine to
read from the node, and 0 otherwise (for example, when a slave
has lagged too far behind the master).

A typical example for the use of this attribute would be to tie
a set of IP addresses to MySQL slaves that can be read from.

This parameter is only meaningful in master/slave set configurations.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.named">
  <refmeta>
    <refentrytitle>ocf:named</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:named</refname>
    <refpurpose>Manages a named server</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_named</command>=string] [<command>OCF_RESKEY_rndc</command>=string] [<command>OCF_RESKEY_host</command>=string] [<command>OCF_RESKEY_named_user</command>=string] <command>OCF_RESKEY_named_config</command>=string <command>OCF_RESKEY_named_pidfile</command>=string <command>OCF_RESKEY_named_rootdir</command>=string [<command>OCF_RESKEY_named_options</command>=string] [<command>OCF_RESKEY_named_keytab_file</command>=string] [<command>OCF_RESKEY_monitor_request</command>=string] [<command>OCF_RESKEY_monitor_response</command>=string] [<command>OCF_RESKEY_monitor_ip</command>=string] <command>named</command> [start | stop | reload | status | monitor | meta-data | validate-all | methods]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for named (Bind) server. It manages named as an HA resource.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_named</command>=named</term>
        <listitem>
          <para>
Path to the named command.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_rndc</command>=rndc</term>
        <listitem>
          <para>
Path to the rndc command.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_host</command>=host</term>
        <listitem>
          <para>
Path to the host command.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_named_user</command>=named_user</term>
        <listitem>
          <para>
User that should own named process.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_named_config</command>=named_config</term>
        <listitem>
          <para>
Configuration file for named.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_named_pidfile</command>=named_pidfile</term>
        <listitem>
          <para>
PIDFILE file for named.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_named_rootdir</command>=named_rootdir</term>
        <listitem>
          <para>
Directory that named should use for chroot if any.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_named_options</command>=named_options</term>
        <listitem>
          <para>
Options for named process if any.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_named_keytab_file</command>=named_keytab_file</term>
        <listitem>
          <para>
named service keytab file (for GSS-TSIG).
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_monitor_request</command>=monitor_request</term>
        <listitem>
          <para>
Request that shall be sent to named for monitoring. Usually an A record in DNS.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_monitor_response</command>=monitor_response</term>
        <listitem>
          <para>
Expected response from named server.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_monitor_ip</command>=monitor_ip</term>
        <listitem>
          <para>
IP Address where named listens.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.nfsserver">
  <refmeta>
    <refentrytitle>ocf:nfsserver</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:nfsserver</refname>
    <refpurpose>Manages an NFS server</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_nfs_init_script</command>=string] [<command>OCF_RESKEY_nfs_notify_cmd</command>=string] [<command>OCF_RESKEY_nfs_notify_foreground</command>=boolean] [<command>OCF_RESKEY_nfs_smnotify_retry_time</command>=integer] [<command>OCF_RESKEY_nfs_shared_infodir</command>=string] [<command>OCF_RESKEY_nfs_ip</command>=string] [<command>OCF_RESKEY_rpcpipefs_dir</command>=string] <command>nfsserver</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Nfsserver helps to manage the Linux nfs server as a failover-able resource in Linux-HA.
It depends on Linux specific NFS implementation details, so is considered not portable to other platforms yet.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_nfs_init_script</command>=
Init script for nfsserver
</term>
        <listitem>
          <para>
The default init script shipped with the Linux distro.
The nfsserver resource agent offloads the start/stop/monitor work to the init script because the procedure to start/stop/monitor nfsserver varies on different Linux distro.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_nfs_notify_cmd</command>=
The tool to send out notification.
</term>
        <listitem>
          <para>
The tool to send out NSM reboot notification, it should be either sm-notify or rpc.statd.
Failover of nfsserver can be considered as rebooting to different machines.
The nfsserver resource agent use this command to notify all clients about the happening of failover.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_nfs_notify_foreground</command>=
Keeps the notify tool running in the foreground.
</term>
        <listitem>
          <para>
Keeps the notify tool attached to its controlling terminal and running in the foreground.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_nfs_smnotify_retry_time</command>=
Specifies the length of sm-notify retry time(minutes).
</term>
        <listitem>
          <para>
Specifies the length of sm-notify retry time, in minutes, to continue retrying notifications to unresponsive hosts.  
If this option is not specified, sm-notify attempts to send notifications for 15 minutes. Specifying a value of 0 
causes sm-notify to continue sending notifications to unresponsive peers until it is manually killed.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_nfs_shared_infodir</command>=
Directory to store nfs server related information.
</term>
        <listitem>
          <para>
The nfsserver resource agent will save nfs related information in this specific directory.
And this directory must be able to fail-over before nfsserver itself.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_nfs_ip</command>=
IP addresses.
</term>
        <listitem>
          <para>
Comma separated list of floating IP addresses used to access the nfs service
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_rpcpipefs_dir</command>=
The mount point for the sunrpc file system.
</term>
        <listitem>
          <para>
The mount point for the sunrpc file system. Default is /var/lib/nfs/rpc_pipefs . 
This script will mount(bind) nfs_shared_infodir on /var/lib/nfs/ (can not be changed),
and this script will mount the sunrpc file system on /var/lib/nfs/rpc_pipefs (default, can be changed by this parameter).
If you want to move only rpc_pipefs/ (e.g. to keep rpc_pipefs/ local) from default , please set this value.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.nginx">
  <refmeta>
    <refentrytitle>ocf:nginx</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:nginx</refname>
    <refpurpose>Manages an Nginx web/proxy server instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_configfile</command>=string [<command>OCF_RESKEY_httpd</command>=string] [<command>OCF_RESKEY_port</command>=integer] [<command>OCF_RESKEY_status10url</command>=string] [<command>OCF_RESKEY_status10regex</command>=string] [<command>OCF_RESKEY_testclient</command>=string] [<command>OCF_RESKEY_testurl</command>=string] [<command>OCF_RESKEY_test20regex</command>=string] [<command>OCF_RESKEY_testconffile</command>=string] [<command>OCF_RESKEY_test20name</command>=string] [<command>OCF_RESKEY_external_monitor30_cmd</command>=string] [<command>OCF_RESKEY_options</command>=string] <command>nginx</command> [start | stop | reload | status | monitor | monitor | monitor | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This is the resource agent for the Nginx web/proxy server.
This resource agent does not monitor POP or IMAP servers, as
we don't know how to determine meaningful status for them.

The start operation ends with a loop in which monitor is
repeatedly called to make sure that the server started and that
it is operational. Hence, if the monitor operation does not
succeed within the start operation timeout, the nginx resource
will end with an error status.

The default monitor operation will verify that nginx is running.

The level 10 monitor operation by default will try and fetch the /nginx_status
page - which is commented out in sample nginx configurations.
Make sure that the /nginx_status page works and that the access
is restricted to localhost (address 127.0.0.1) plus whatever
places _outside the cluster_ you want to monitor the server from.
See the status10url and status10regex attributes for more details.

The level 20 monitor operation will perform a more complex set of tests
from a configuration file.

The level 30 monitor operation will run an external command to perform
an arbitrary monitoring operation.

</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_configfile</command>=configuration file path</term>
        <listitem>
          <para>
The full pathname of the Nginx configuration file.
This file is parsed to provide defaults for various other
resource agent parameters.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_httpd</command>=httpd binary path</term>
        <listitem>
          <para>
The full pathname of the httpd binary (optional).
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_port</command>=httpd port</term>
        <listitem>
          <para>
A port number that we can probe for status information
using the statusurl.
This will default to the port number found in the
configuration file, or 80, if none can be found
in the configuration file.

</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_status10url</command>=url name</term>
        <listitem>
          <para>
The URL to monitor (the nginx server status page by default) when given a level 10 monitor operation.
If left unspecified, it will be inferred from
the nginx configuration file, or defaulted to /nginx_status.

If you set this, make sure that it succeeds *only* from the
localhost (127.0.0.1) and no other cluster nodes.
Otherwise, the cluster software may complain
about it being active on multiple nodes.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_status10regex</command>=monitor regular expression</term>
        <listitem>
          <para>
Regular expression to match in the output of status10url.
Case insensitive.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_testclient</command>=http client</term>
        <listitem>
          <para>
Client to use to query to Nginx for level 10 and level 20 tests.
If not specified, the RA will try to find one on the system.
Currently, wget and curl are supported, with curl being preferred.
For example, you can set this paramter to "wget" if you prefer that to curl.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_testurl</command>=Level 10 monitor url</term>
        <listitem>
          <para>
URL to test. If it does not start with "http", then it's
considered to be relative to the document root address.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_test20regex</command>=Level 20 monitor regular expression</term>
        <listitem>
          <para>
Regular expression to match in the output of testurl.
Case insensitive.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_testconffile</command>=Level 20 test configuration file</term>
        <listitem>
          <para>
A file which contains a more complex test configuration. Could be useful if
you have to check more than one web application or in case sensitive
info should be passed as arguments (passwords). Furthermore,
using a config file is the only way to specify certain parameters.

Please see README.webapps for examples and file description.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_test20name</command>=Level 20 test name</term>
        <listitem>
          <para>
Name of the test within the test configuration file.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_external_monitor30_cmd</command>=Level 30 test string</term>
        <listitem>
          <para>
Command string to run which implements level 30 monitoring.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_options</command>=nginx start options</term>
        <listitem>
          <para>
Extra options to apply when starting nginx.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.oracle">
  <refmeta>
    <refentrytitle>ocf:oracle</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:oracle</refname>
    <refpurpose>Manages an Oracle Database instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_sid</command>=string [<command>OCF_RESKEY_home</command>=string] [<command>OCF_RESKEY_user</command>=string] [<command>OCF_RESKEY_ipcrm</command>=string] [<command>OCF_RESKEY_clear_backupmode</command>=boolean] [<command>OCF_RESKEY_shutdown_method</command>=string] <command>oracle</command> [start | stop | status | monitor | validate-all | methods | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for oracle. Manages an Oracle Database instance
as an HA resource.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_sid</command>=sid</term>
        <listitem>
          <para>
The Oracle SID (aka ORACLE_SID).
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_home</command>=home</term>
        <listitem>
          <para>
The Oracle home directory (aka ORACLE_HOME).
If not specified, then the SID along with its home should be listed in
/etc/oratab.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_user</command>=user</term>
        <listitem>
          <para>
The Oracle owner (aka ORACLE_OWNER).
If not specified, then it is set to the owner of
file $ORACLE_HOME/dbs/*${ORACLE_SID}.ora.
If this does not work for you, just set it explicitely.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ipcrm</command>=ipcrm</term>
        <listitem>
          <para>
Sometimes IPC objects (shared memory segments and semaphores)
belonging to an Oracle instance might be left behind which
prevents the instance from starting. It is not easy to figure out
which shared segments belong to which instance, in particular when
more instances are running as same user.

What we use here is the "oradebug" feature and its "ipc" trace
utility. It is not optimal to parse the debugging information, but
I am not aware of any other way to find out about the IPC
information. In case the format or wording of the trace report
changes, parsing might fail. There are some precautions, however,
to prevent stepping on other peoples toes. There is also a
dumpinstipc option which will make us print the IPC objects which
belong to the instance. Use it to see if we parse the trace file
correctly.

Three settings are possible:

- none: don't mess with IPC and hope for the best (beware: you'll
  probably be out of luck, sooner or later)
- instance: try to figure out the IPC stuff which belongs to the
  instance and remove only those (default; should be safe)
- orauser: remove all IPC belonging to the user which runs the
  instance (don't use this if you run more than one instance as same
  user or if other apps running as this user use IPC)

The default setting "instance" should be safe to use, but in that
case we cannot guarantee that the instance will start. In case IPC
objects were already left around, because, for instance, someone
mercilessly killing Oracle processes, there is no way any more to
find out which IPC objects should be removed. In that case, human
intervention is necessary, and probably _all_ instances running as
same user will have to be stopped. The third setting, "orauser",
guarantees IPC objects removal, but it does that based only on IPC
objects ownership, so you should use that only if every instance
runs as separate user.

Please report any problems. Suggestions/fixes welcome.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_clear_backupmode</command>=clear_backupmode</term>
        <listitem>
          <para>
The clear of the backup mode of ORACLE.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_shutdown_method</command>=shutdown_method</term>
        <listitem>
          <para>
How to stop Oracle is a matter of taste it seems. The default
method ("checkpoint/abort") is:

	alter system checkpoint;
	shutdown abort;

This should be the fastest safe way bring the instance down. If
you find "shutdown abort" distasteful, set this attribute to
"immediate" in which case we will

	shutdown immediate;

If you still think that there's even better way to shutdown an
Oracle instance we are willing to listen.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.oralsnr">
  <refmeta>
    <refentrytitle>ocf:oralsnr</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:oralsnr</refname>
    <refpurpose>Manages an Oracle TNS listener</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_sid</command>=string [<command>OCF_RESKEY_home</command>=string] [<command>OCF_RESKEY_user</command>=string] <command>OCF_RESKEY_listener</command>=string <command>oralsnr</command> [start | stop | status | monitor | validate-all | meta-data | methods]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for Oracle Listener. It manages an
Oracle Listener instance as an HA resource.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_sid</command>=sid</term>
        <listitem>
          <para>
The Oracle SID (aka ORACLE_SID). Necessary for the monitor op,
i.e. to do tnsping SID.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_home</command>=home</term>
        <listitem>
          <para>
The Oracle home directory (aka ORACLE_HOME).
If not specified, then the SID should be listed in /etc/oratab.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_user</command>=user</term>
        <listitem>
          <para>
Run the listener as this user.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_listener</command>=listener</term>
        <listitem>
          <para>
Listener instance to be started (as defined in listener.ora).
Defaults to LISTENER.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.pgsql">
  <refmeta>
    <refentrytitle>ocf:pgsql</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:pgsql</refname>
    <refpurpose>Manages a PostgreSQL database instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_pgctl</command>=string] [<command>OCF_RESKEY_start_opt</command>=string] [<command>OCF_RESKEY_ctl_opt</command>=string] [<command>OCF_RESKEY_psql</command>=string] [<command>OCF_RESKEY_pgdata</command>=string] [<command>OCF_RESKEY_pgdba</command>=string] [<command>OCF_RESKEY_pghost</command>=string] [<command>OCF_RESKEY_pgport</command>=integer] [<command>OCF_RESKEY_monitor_user</command>=string] [<command>OCF_RESKEY_monitor_password</command>=string] [<command>OCF_RESKEY_monitor_sql</command>=string] [<command>OCF_RESKEY_config</command>=string] [<command>OCF_RESKEY_pgdb</command>=string] [<command>OCF_RESKEY_logfile</command>=string] [<command>OCF_RESKEY_socketdir</command>=string] [<command>OCF_RESKEY_stop_escalate</command>=integer] [<command>OCF_RESKEY_rep_mode</command>=string] [<command>OCF_RESKEY_node_list</command>=string] [<command>OCF_RESKEY_restore_command</command>=string] [<command>OCF_RESKEY_archive_cleanup_command</command>=string] [<command>OCF_RESKEY_recovery_end_command</command>=string] [<command>OCF_RESKEY_master_ip</command>=string] [<command>OCF_RESKEY_repuser</command>=string] [<command>OCF_RESKEY_primary_conninfo_opt</command>=string] [<command>OCF_RESKEY_restart_on_promote</command>=boolean] [<command>OCF_RESKEY_tmpdir</command>=string] [<command>OCF_RESKEY_xlog_check_count</command>=integer] [<command>OCF_RESKEY_crm_attr_timeout</command>=integer] [<command>OCF_RESKEY_stop_escalate_in_slave</command>=integer] [<command>OCF_RESKEY_check_wal_receiver</command>=boolean] <command>pgsql</command> [start | stop | status | monitor | monitor | promote | demote | notify | meta-data | validate-all | methods]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for PostgreSQL. It manages a PostgreSQL as an HA resource.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_pgctl</command>=pgctl</term>
        <listitem>
          <para>
Path to pg_ctl command.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_start_opt</command>=start_opt</term>
        <listitem>
          <para>
Start options (-o start_opt in pg_ctl). "-i -p 5432" for example.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctl_opt</command>=ctl_opt</term>
        <listitem>
          <para>
Additional pg_ctl options (-w, -W etc..).
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_psql</command>=psql</term>
        <listitem>
          <para>
Path to psql command.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pgdata</command>=pgdata</term>
        <listitem>
          <para>
Path to PostgreSQL data directory.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pgdba</command>=pgdba</term>
        <listitem>
          <para>
User that owns PostgreSQL.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pghost</command>=pghost</term>
        <listitem>
          <para>
Hostname/IP address where PostgreSQL is listening
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pgport</command>=pgport</term>
        <listitem>
          <para>
Port where PostgreSQL is listening
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_monitor_user</command>=monitor_user</term>
        <listitem>
          <para>
PostgreSQL user that pgsql RA will user for monitor operations. If it's not set
pgdba user will be used.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_monitor_password</command>=monitor_password</term>
        <listitem>
          <para>
Password for monitor user.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_monitor_sql</command>=monitor_sql</term>
        <listitem>
          <para>
SQL script that will be used for monitor operations.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_config</command>=Configuration file</term>
        <listitem>
          <para>
Path to the PostgreSQL configuration file for the instance.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pgdb</command>=pgdb</term>
        <listitem>
          <para>
Database that will be used for monitoring.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_logfile</command>=logfile</term>
        <listitem>
          <para>
Path to PostgreSQL server log output file.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_socketdir</command>=socketdir</term>
        <listitem>
          <para>
Unix socket directory for PostgeSQL
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_stop_escalate</command>=stop escalation</term>
        <listitem>
          <para>
Number of shutdown retries (using -m fast) before resorting to -m immediate
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_rep_mode</command>=rep_mode</term>
        <listitem>
          <para>
Replication mode may be set to "async" or "sync" or "slave".
They require PostgreSQL 9.1 or later.
Once set, "async" and "sync" require node_list, master_ip, and
restore_command parameters,as well as configuring postgresql
for replication (in postgresql.conf and pg_hba.conf).

"slave" means that RA only makes recovery.conf before starting
to connect to Primary which is running somewhere.
It dosen't need Master/Slave setting.
It requires master_ip restore_command parameters.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_node_list</command>=node list</term>
        <listitem>
          <para>
All node names. Please separate each node name with a space.
This is required for replication.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_restore_command</command>=restore_command</term>
        <listitem>
          <para>
restore_command for recovery.conf.
This is required for replication.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_archive_cleanup_command</command>=archive_cleanup_command</term>
        <listitem>
          <para>
archive_cleanup_command for recovery.conf.
This is used for replication and is optional.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_recovery_end_command</command>=recovery_end_command</term>
        <listitem>
          <para>
recovery_end_command for recovery.conf.
This is used for replication and is optional.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_master_ip</command>=master ip</term>
        <listitem>
          <para>
Master's floating IP address to be connected from hot standby.
This parameter is used for "primary_conninfo" in recovery.conf.
This is required for replication.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_repuser</command>=repuser</term>
        <listitem>
          <para>
User used to connect to the master server.
This parameter is used for "primary_conninfo" in recovery.conf.
This is required for replication.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_primary_conninfo_opt</command>=primary_conninfo_opt</term>
        <listitem>
          <para>
primary_conninfo options of recovery.conf except host, port, user and application_name.
This is optional for replication.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_restart_on_promote</command>=restart_on_promote</term>
        <listitem>
          <para>
If this is true, RA deletes recovery.conf and restarts PostgreSQL
on promote to keep Timeline ID. It probably makes fail-over slower.
It's recommended to set on-fail of promote up as fence.
This is optional for replication.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_tmpdir</command>=tmpdir</term>
        <listitem>
          <para>
Path to temporary directory.
This is optional for replication.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_xlog_check_count</command>=xlog check count</term>
        <listitem>
          <para>
Number of checking xlog on monitor before promote.
This is optional for replication.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_crm_attr_timeout</command>=The timeout of crm_attribute forever update command.</term>
        <listitem>
          <para>
The timeout of crm_attribute forever update command.
Default value is 5 seconds.
This is optional for replication.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_stop_escalate_in_slave</command>=stop escalation_in_slave</term>
        <listitem>
          <para>
Number of shutdown retries (using -m fast) before resorting to -m immediate
in Slave state.
This is optional for replication.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_check_wal_receiver</command>=check_wal_receiver</term>
        <listitem>
          <para>
If this is true, RA checks wal_receiver process on monitor
and notify its status using "(resource name)-receiver-status" attribute.
It's useful for checking whether PostgreSQL(Hot Standby) connects to primary.
The attribute shows status as "normal" or "ERROR".
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.pingd">
  <refmeta>
    <refentrytitle>ocf:pingd</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:pingd</refname>
    <refpurpose>Monitors connectivity to specific hosts or
IP addresses ("ping nodes") (deprecated)</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_pidfile</command>=string] [<command>OCF_RESKEY_user</command>=string] [<command>OCF_RESKEY_dampen</command>=integer] [<command>OCF_RESKEY_set</command>=integer] [<command>OCF_RESKEY_name</command>=integer] [<command>OCF_RESKEY_section</command>=integer] [<command>OCF_RESKEY_multiplier</command>=integer] [<command>OCF_RESKEY_host_list</command>=integer] [<command>OCF_RESKEY_ignore_deprecation</command>=boolean] <command>pingd</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Deprecation warning: This agent is deprecated and may be removed from
a future release. See the ocf:pacemaker:pingd resource agent for a
supported alternative. --
This is a pingd Resource Agent.
It records (in the CIB) the current number of ping nodes a node can connect to.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_pidfile</command>=PID file</term>
        <listitem>
          <para>PID file</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_user</command>=The user we want to run pingd as</term>
        <listitem>
          <para>
The user we want to run pingd as
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_dampen</command>=Dampening interval</term>
        <listitem>
          <para>
The time to wait (dampening) further changes occur
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_set</command>=Set name</term>
        <listitem>
          <para>
The name of the instance_attributes set to place the value in.  Rarely needs to be specified.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_name</command>=Attribute name</term>
        <listitem>
          <para>
The name of the attributes to set.  This is the name to be used in the constraints.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_section</command>=Section name</term>
        <listitem>
          <para>
The section place the value in.  Rarely needs to be specified.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_multiplier</command>=Value multiplier</term>
        <listitem>
          <para>
The number by which to multiply the number of connected ping nodes by
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_host_list</command>=Host list</term>
        <listitem>
          <para>
The list of ping nodes to count.  Defaults to all configured ping nodes.  Rarely needs to be specified.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ignore_deprecation</command>=Suppress deprecation warning</term>
        <listitem>
          <para>
If set to true, suppresses the deprecation warning for this agent.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.portblock">
  <refmeta>
    <refentrytitle>ocf:portblock</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:portblock</refname>
    <refpurpose>Block and unblocks access to TCP and UDP ports</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_protocol</command>=string] [<command>OCF_RESKEY_portno</command>=integer] [<command>OCF_RESKEY_action</command>=string] [<command>OCF_RESKEY_ip</command>=string] [<command>OCF_RESKEY_tickle_dir</command>=string] [<command>OCF_RESKEY_sync_script</command>=string] <command>portblock</command> [start | stop | status | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for portblock. It is used to temporarily block ports 
using iptables. In addition, it may allow for faster TCP reconnects
for clients on failover. Use that if there are long lived TCP
connections to an HA service. This feature is enabled by setting the
tickle_dir parameter and only in concert with action set to unblock.
Note that the tickle ACK function is new as of version 3.0.2 and
hasn't yet seen widespread use.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_protocol</command>=protocol</term>
        <listitem>
          <para>
The protocol used to be blocked/unblocked.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_portno</command>=portno</term>
        <listitem>
          <para>
The port number used to be blocked/unblocked.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_action</command>=action</term>
        <listitem>
          <para>
The action (block/unblock) to be done on the protocol::portno.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ip</command>=ip</term>
        <listitem>
          <para>
The IP address used to be blocked/unblocked.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_tickle_dir</command>=Tickle directory</term>
        <listitem>
          <para>
The shared or local directory (_must_ be absolute path) which 
stores the established TCP connections.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_sync_script</command>=Connection state file synchronization script</term>
        <listitem>
          <para>
If the tickle_dir is a local directory, then the TCP connection state
file has to be replicated to other nodes in the cluster. It can be
csync2 (default), some wrapper of rsync, or whatever. It takes the
file name as a single argument. For csync2, set it to "csync2 -xv".
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.postfix">
  <refmeta>
    <refentrytitle>ocf:postfix</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:postfix</refname>
    <refpurpose>Manages a highly available Postfix mail server instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_binary</command>=string] <command>OCF_RESKEY_config_dir</command>=string [<command>OCF_RESKEY_parameters</command>=string] <command>postfix</command> [start | stop | reload | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This script manages Postfix as an OCF resource in a high-availability setup.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_binary</command>=Full path to Postfix binary</term>
        <listitem>
          <para>
Full path to the Postfix binary.
For example, "/usr/sbin/postfix".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_config_dir</command>=Full path to configuration directory</term>
        <listitem>
          <para>
Full path to a Postfix configuration directory.
For example, "/etc/postfix".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_parameters</command>=</term>
        <listitem>
          <para>
The Postfix daemon may be called with additional parameters.
Specify any of them here.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.pound">
  <refmeta>
    <refentrytitle>ocf:pound</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:pound</refname>
    <refpurpose>Manage a Pound instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_config</command>=string <command>OCF_RESKEY_name</command>=string <command>OCF_RESKEY_pid</command>=string [<command>OCF_RESKEY_binary</command>=string] [<command>OCF_RESKEY_ctl_binary</command>=string] [<command>OCF_RESKEY_socket_path</command>=string] <command>pound</command> [start | stop | monitor | status | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
The Pound Resource Agent can manage pound instances.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_config</command>=Pound configuration file</term>
        <listitem>
          <para>
The Pound configuration file that pound should manage, for example
"/etc/pound.cfg".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_name</command>=Instance name</term>
        <listitem>
          <para>
Override the name of the instance that should be given to pound
(defaults to the resource identifier).
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pid</command>=Pidfile</term>
        <listitem>
          <para>
Write the process's PID to the specified file.
The default will include the specified name, ie.:
"/var/run/pound_production.pid". Unlike what this help message shows.
It is most likely not necessary to change this parameter.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_binary</command>=</term>
        <listitem>
          <para>
This is used to start pound server.
Normally use pound.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ctl_binary</command>=</term>
        <listitem>
          <para>
This is used to watch pound status via unix socket.
Normally use poundctl.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_socket_path</command>=</term>
        <listitem>
          <para>
Write the process's unix socket.
This parameter is same 'Control' parameter in configuration file, ie.:
Control "/var/lib/pound/pound.cfg"
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.proftpd">
  <refmeta>
    <refentrytitle>ocf:proftpd</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:proftpd</refname>
    <refpurpose>OCF Resource Agent compliant FTP script.</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_binary</command>=string] [<command>OCF_RESKEY_conffile</command>=string] [<command>OCF_RESKEY_pidfile</command>=string] [<command>OCF_RESKEY_curl_binary</command>=string] [<command>OCF_RESKEY_curl_url</command>=string] [<command>OCF_RESKEY_test_user</command>=string] [<command>OCF_RESKEY_test_pass</command>=string] <command>proftpd</command> [start | stop | monitor | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This script manages Proftpd in an Active-Passive setup
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_binary</command>=The Proftpd binary</term>
        <listitem>
          <para>The Proftpd binary</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_conffile</command>=Configuration file name with full path</term>
        <listitem>
          <para>
The Proftpd configuration file name with full path. 
For example, "/etc/proftpd.conf"
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pidfile</command>=PID file</term>
        <listitem>
          <para>The Proftpd PID file. The location of the PID file is configured in the Proftpd configuration file.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_curl_binary</command>=The absolute path to the curl binary</term>
        <listitem>
          <para>The absolute path to the curl binary for monitoring with OCF_CHECK_LEVEL greater zero.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_curl_url</command>=The URL which is checked by curl</term>
        <listitem>
          <para>The URL which is checked by curl with OCF_CHECK_LEVEL greater zero.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_test_user</command>=The name of the ftp user</term>
        <listitem>
          <para>The name of the ftp user for monitoring with OCF_CHECK_LEVEL greater zero.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_test_pass</command>=The password of the ftp user</term>
        <listitem>
          <para>The password of the ftp user for monitoring with OCF_CHECK_LEVEL greater zero.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.Pure-FTPd">
  <refmeta>
    <refentrytitle>ocf:Pure-FTPd</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:Pure-FTPd</refname>
    <refpurpose>Manages a Pure-FTPd FTP server instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_script</command>=string <command>OCF_RESKEY_conffile</command>=string <command>OCF_RESKEY_daemon_type</command>=string [<command>OCF_RESKEY_pidfile</command>=string] <command>Pure-FTPd</command> [start | stop | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This script manages Pure-FTPd in an Active-Passive setup
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_script</command>=Script name with full path</term>
        <listitem>
          <para>
The full path to the Pure-FTPd startup script. 
For example, "/sbin/pure-config.pl"
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_conffile</command>=Configuration file name with full path</term>
        <listitem>
          <para>
The Pure-FTPd configuration file name with full path. 
For example, "/etc/pure-ftpd/pure-ftpd.conf"
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_daemon_type</command>=Configuration file name with full path</term>
        <listitem>
          <para>
The Pure-FTPd daemon to be called by pure-ftpd-wrapper.
Valid options are "" for pure-ftpd, "mysql" for pure-ftpd-mysql, 
"postgresql" for pure-ftpd-postgresql and "ldap" for pure-ftpd-ldap
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pidfile</command>=PID file</term>
        <listitem>
          <para>PID file</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.Raid1">
  <refmeta>
    <refentrytitle>ocf:Raid1</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:Raid1</refname>
    <refpurpose>Manages Linux software RAID (MD) devices on shared storage</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_raidconf</command>=string] [<command>OCF_RESKEY_raiddev</command>=string] [<command>OCF_RESKEY_homehost</command>=string] [<command>OCF_RESKEY_force_stop</command>=boolean] <command>Raid1</command> [start | stop | status | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This resource agent manages Linux software RAID (MD) devices on
a shared storage medium. It uses mdadm(8) to start, stop, and
monitor the MD devices. Raidtools are supported, but deprecated.
See https://raid.wiki.kernel.org/index.php/Linux_Raid for more
information.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_raidconf</command>=RAID config file</term>
        <listitem>
          <para>
The RAID configuration file, e.g. /etc/mdadm.conf.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_raiddev</command>=block device</term>
        <listitem>
          <para>
One or more block devices to use, space separated. Alternatively,
set to "auto" to manage all devices specified in raidconf.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_homehost</command>=Homehost for mdadm</term>
        <listitem>
          <para>
The value for the homehost directive; this is an mdadm feature to
protect RAIDs against being activated by accident. It is recommended to
create RAIDs managed by the cluster with "homehost" set to a special
value, so they are not accidentially auto-assembled by nodes not
supposed to own them.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_force_stop</command>=force stop processes using the array</term>
        <listitem>
          <para>
If processes or kernel threads are using the array, it cannot be
stopped. We will try to stop processes, first by sending TERM and
then, if that doesn't help in 3 seconds, using KILL.
The lsof(8) program is required to get the list of array users.
Of course, the kernel threads cannot be stopped this way.
If the processes are critical for data integrity, then set this
parameter to false. Note that in that case the stop operation
will fail and the node will be fenced.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.Route">
  <refmeta>
    <refentrytitle>ocf:Route</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:Route</refname>
    <refpurpose>Manages network routes</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_destination</command>=string <command>OCF_RESKEY_device</command>=string <command>OCF_RESKEY_gateway</command>=string <command>OCF_RESKEY_source</command>=string [<command>OCF_RESKEY_table</command>=string] <command>Route</command> [start | stop | monitor | reload | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Enables and disables network routes.

Supports host and net routes, routes via a gateway address,
and routes using specific source addresses.

This resource agent is useful if a node's routing table
needs to be manipulated based on node role assignment.

Consider the following example use case:

  -  One cluster node serves as an IPsec tunnel endpoint.

  -  All other nodes use the IPsec tunnel to reach hosts
     in a specific remote network.

Then, here is how you would implement this scheme making use
of the Route resource agent:

  -  Configure an ipsec LSB resource.

  -  Configure a cloned Route OCF resource.

  -  Create an order constraint to ensure 
     that ipsec is started before Route.

  -  Create a colocation constraint between the
     ipsec and Route resources, to make sure no instance
     of your cloned Route resource is started on the
     tunnel endpoint itself.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_destination</command>=Destination network</term>
        <listitem>
          <para>
The destination network (or host) to be configured for the route. 
Specify the netmask suffix in CIDR notation (e.g. "/24").
If no suffix is given, a host route will be created.
Specify "0.0.0.0/0" or "default" if you want this resource to set 
the system default route.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_device</command>=Outgoing network device</term>
        <listitem>
          <para>
The outgoing network device to use for this route.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_gateway</command>=Gateway IP address</term>
        <listitem>
          <para>
The gateway IP address to use for this route.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_source</command>=Source IP address</term>
        <listitem>
          <para>
The source IP address to be configured for the route.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_table</command>=Routing table</term>
        <listitem>
          <para>
The routing table to be configured for the route.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.rsyncd">
  <refmeta>
    <refentrytitle>ocf:rsyncd</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:rsyncd</refname>
    <refpurpose>Manages an rsync daemon</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_binpath</command>=string] [<command>OCF_RESKEY_conffile</command>=string] [<command>OCF_RESKEY_bwlimit</command>=string] <command>rsyncd</command> [start | stop | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This script manages rsync daemon
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_binpath</command>=Full path to the rsync binary</term>
        <listitem>
          <para>
The rsync binary path.
For example, "/usr/bin/rsync"
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_conffile</command>=Configuration file name with full path</term>
        <listitem>
          <para>
The rsync daemon configuration file name with full path. 
For example, "/etc/rsyncd.conf"
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_bwlimit</command>=limit I/O bandwidth, KBytes per second</term>
        <listitem>
          <para>
This  option allows you to specify a maximum transfer 
rate in kilobytes per second.  This  option  is
most  effective  when  using rsync with large files
(several megabytes and up). Due to  the  nature  of
rsync  transfers,  blocks of data are sent, then if
rsync determines the transfer was too fast, it will
wait before sending the next data block. The result
is an average transfer rate equaling the  specified
limit. A value of zero specifies no limit.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.rsyslog">
  <refmeta>
    <refentrytitle>ocf:rsyslog</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:rsyslog</refname>
    <refpurpose>rsyslog resource agent</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_configfile</command>=string [<command>OCF_RESKEY_rsyslog_binary</command>=string] [<command>OCF_RESKEY_start_opts</command>=string] <command>rsyslog</command> [start | stop | status | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This script manages a rsyslog instance as an HA resource.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_configfile</command>=Configuration file</term>
        <listitem>
          <para>
This parameter specifies a configuration file 
for a rsyslog instance managed by this RA.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_rsyslog_binary</command>=rsyslog executable</term>
        <listitem>
          <para>
This parameter specifies rsyslog's executable file.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_start_opts</command>=Start options</term>
        <listitem>
          <para>
This parameter specifies startup options for a 
rsyslog instance managed by this RA. When no value is given, no startup 
options is used. Don't use option '-F'. It causes a stuck of a start action.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.scsi2reservation">
  <refmeta>
    <refentrytitle>ocf:scsi2reservation</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:scsi2reservation</refname>
    <refpurpose>
scsi-2 reservation
</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_scsi_reserve</command>=string] [<command>OCF_RESKEY_sharedisk</command>=string] [<command>OCF_RESKEY_start_loop</command>=string] <command>scsi2reservation</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
The scsi-2-reserve resource agent is a place holder for SCSI-2 reservation.
A healthy instance of scsi-2-reserve resource, indicates the own of the specified SCSI device.
This resource agent depends on the scsi_reserve from scsires package, which is Linux specific.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_scsi_reserve</command>=Manages exclusive access to shared storage media thrugh SCSI-2 reservations</term>
        <listitem>
          <para>
The scsi_reserve is a command from scsires package. 
It helps to issue SCSI-2 reservation on SCSI devices.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_sharedisk</command>=
Shared disk.
</term>
        <listitem>
          <para>
The shared disk that can be reserved.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_start_loop</command>=
Times to re-try before giving up.
</term>
        <listitem>
          <para>
We are going to try several times before giving up. Start_loop indicates how many times we are going to re-try.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.SendArp">
  <refmeta>
    <refentrytitle>ocf:SendArp</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:SendArp</refname>
    <refpurpose>Broadcasts unsolicited ARP announcements</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_ip</command>=string] [<command>OCF_RESKEY_nic</command>=string] [<command>OCF_RESKEY_background</command>=boolean] <command>SendArp</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This RA can be used _instead_ of the IPaddr2 or IPaddr RA to
send gratuitous ARP for an IP address on a given interface, 
without adding the address to that interface.  For example,
if for some resaon you wanted to send gratuitous ARP for
addresses managed by IPaddr2 or IPaddr on an additional
interface.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_ip</command>=IP address</term>
        <listitem>
          <para>
The IP address for sending ARP packet.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_nic</command>=NIC</term>
        <listitem>
          <para>
The NIC for sending ARP packet.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_background</command>=Send ARPs in background</term>
        <listitem>
          <para>
Send ARPs in background. Set to false if you want to test if
sending ARPs succeeded.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.ServeRAID">
  <refmeta>
    <refentrytitle>ocf:ServeRAID</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:ServeRAID</refname>
    <refpurpose>Enables and disables shared ServeRAID merge groups</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_serveraid</command>=integer] [<command>OCF_RESKEY_mergegroup</command>=integer] <command>ServeRAID</command> [start | stop | status | monitor | validate-all | meta-data | methods]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for ServeRAID. It enables/disables shared ServeRAID merge groups.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_serveraid</command>=serveraid</term>
        <listitem>
          <para>
The adapter number of the ServeRAID adapter.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_mergegroup</command>=mergegroup</term>
        <listitem>
          <para>
The logical drive under consideration. 
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.sfex">
  <refmeta>
    <refentrytitle>ocf:sfex</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:sfex</refname>
    <refpurpose>Manages exclusive access to shared storage using Shared Disk File EXclusiveness (SF-EX)</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_device</command>=string] [<command>OCF_RESKEY_index</command>=integer] [<command>OCF_RESKEY_collision_timeout</command>=integer] [<command>OCF_RESKEY_monitor_interval</command>=integer] [<command>OCF_RESKEY_lock_timeout</command>=integer] <command>sfex</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for SF-EX. It manages a shared storage medium exclusively .
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_device</command>=block device</term>
        <listitem>
          <para>
Block device path that stores exclusive control data.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_index</command>=index</term>
        <listitem>
          <para>
Location in block device where exclusive control data is stored. 1 or more is specified. Default is 1.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_collision_timeout</command>=waiting time for lock acquisition</term>
        <listitem>
          <para>
Waiting time when a collision of lock acquisition is detected. Default is 1 second.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_monitor_interval</command>=monitor interval</term>
        <listitem>
          <para>
Monitor interval(sec). Default is 10 seconds
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_lock_timeout</command>=Valid term of lock</term>
        <listitem>
          <para>
Valid term of lock(sec). Default is 100 seconds.
The lock_timeout is calculated by the following formula.

  lock_timeout = monitor_interval + "The expiration time of the lock"

We suggest 90 seconds as a default value of the "The expiration time of the lock", but you should change it in consideration of access delay to the shared disk and the switch time of the multipath driver.

The lock timeout have an impact on start action timeout because start action timeout value is calculated by the following formula.

  start timeout = collision_timeout + lock_timeout + "safety margin"

The "safety margin" is decided within the range of about 10-20 seconds(It depends on your system requirement).
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.slapd">
  <refmeta>
    <refentrytitle>ocf:slapd</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:slapd</refname>
    <refpurpose>Manages a Stand-alone LDAP Daemon (slapd) instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_slapd</command>=string] [<command>OCF_RESKEY_ldapsearch</command>=string] <command>OCF_RESKEY_config</command>=string [<command>OCF_RESKEY_pidfile</command>=string] [<command>OCF_RESKEY_user</command>=string] [<command>OCF_RESKEY_group</command>=string] <command>OCF_RESKEY_services</command>=string [<command>OCF_RESKEY_watch_suffix</command>=string] [<command>OCF_RESKEY_ignore_suffix</command>=string] [<command>OCF_RESKEY_bind_dn</command>=string] [<command>OCF_RESKEY_password</command>=string] [<command>OCF_RESKEY_parameters</command>=string] [<command>OCF_RESKEY_stop_escalate</command>=integer] <command>slapd</command> [start | stop | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for Stand-alone LDAP Daemon (slapd). It manages a slapd instance as an OCF resource.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_slapd</command>=Full path to slapd binary</term>
        <listitem>
          <para>
Full path to the slapd binary.
For example, "/usr/sbin/slapd".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ldapsearch</command>=Full path to ldapsearch binary</term>
        <listitem>
          <para>
Full path to the ldapsearch binary.
For example, "/usr/bin/ldapsearch".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_config</command>=Full path to configuration directory or file</term>
        <listitem>
          <para>
Full path to a slapd configuration directory or a slapd configuration file.
For example, "/etc/ldap/slapd.d" or "/etc/ldap/slapd.conf".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pidfile</command>=File to read PID from</term>
        <listitem>
          <para>
File to read the PID from; read from olcPidFile/pidfile in config if not set.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_user</command>=User name or id slapd will run with</term>
        <listitem>
          <para>
User name or id slapd will run with. The group id is also changed to this
user's gid, unless the group parameter is used to override.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_group</command>=Group name or id slapd will run with</term>
        <listitem>
          <para>
Group name or id slapd will run with.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_services</command>=LDAP (and other scheme) URLs to serve</term>
        <listitem>
          <para>
LDAP (and other scheme) URLs slapd will serve.
For example, "ldap://127.0.0.1:389 ldaps:/// ldapi:///"
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_watch_suffix</command>=Suffix that will be monitored for availability.</term>
        <listitem>
          <para>
Suffix (database backend) that will be monitored for availability. Multiple
suffixes can be specified by providing a space seperated list. By providing one
or more suffixes here, the ignore_suffix parameter is discarded. All suffixes
will be monitored if left blank.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ignore_suffix</command>=Suffix that will not be monitored for availability.</term>
        <listitem>
          <para>
Suffix (database backend) that will not be monitored for availability. Multiple
suffixes can be specified by providing a space seperated list. No suffix will
be excluded if left blank.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_bind_dn</command>=Distinguished Name used to bind to the LDAP directory for testing.</term>
        <listitem>
          <para>
Distinguished Name used to bind to the LDAP directory for testing. Leave blank
to bind to the LDAP directory anonymously.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_password</command>=Password used to bind to the LDAP directory for testing.</term>
        <listitem>
          <para>
Password used to bind to the LDAP directory for testing.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_parameters</command>=Any additional parameters to slapd.</term>
        <listitem>
          <para>
slapd may be called with additional parameters.
Specify any of them here.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_stop_escalate</command>=Seconds before stop escalation to KILL</term>
        <listitem>
          <para>
Number of seconds to wait for shutdown (using SIGTERM) before resorting to
SIGKILL
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.SphinxSearchDaemon">
  <refmeta>
    <refentrytitle>ocf:SphinxSearchDaemon</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:SphinxSearchDaemon</refname>
    <refpurpose>Manages the Sphinx search daemon.</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_config</command>=string [<command>OCF_RESKEY_searchd</command>=string] [<command>OCF_RESKEY_search</command>=string] [<command>OCF_RESKEY_testQuery</command>=string] <command>SphinxSearchDaemon</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This is a searchd Resource Agent. It manages the Sphinx Search Daemon.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_config</command>=Configuration file</term>
        <listitem>
          <para>
searchd configuration file
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_searchd</command>=searchd binary</term>
        <listitem>
          <para>
searchd binary
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_search</command>=search binary</term>
        <listitem>
          <para>
Search binary for functional testing in the monitor action.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_testQuery</command>=test query</term>
        <listitem>
          <para>
Test query for functional testing in the monitor action.
The query does not need to match any documents in the index.
The purpose is merely to test whether the search daemon is
is able to query its indices and respond properly. 
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.Squid">
  <refmeta>
    <refentrytitle>ocf:Squid</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:Squid</refname>
    <refpurpose>Manages a Squid proxy server instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_squid_exe</command>=string] <command>OCF_RESKEY_squid_conf</command>=string <command>OCF_RESKEY_squid_pidfile</command>=string <command>OCF_RESKEY_squid_port</command>=integer [<command>OCF_RESKEY_squid_stop_timeout</command>=integer] [<command>OCF_RESKEY_debug_mode</command>=string] [<command>OCF_RESKEY_debug_log</command>=string] <command>Squid</command> [start | stop | status | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
The resource agent of Squid.
This manages a Squid instance as an HA resource.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_squid_exe</command>=Executable file</term>
        <listitem>
          <para>
This is a required parameter. This parameter specifies squid's
executable file.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_squid_conf</command>=Configuration file</term>
        <listitem>
          <para>
This is a required parameter. This parameter specifies a configuration file
for a squid instance managed by this RA.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_squid_pidfile</command>=Pidfile</term>
        <listitem>
          <para>
This is a required parameter. This parameter specifies a process id file
for a squid instance managed by this RA.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_squid_port</command>=Port number</term>
        <listitem>
          <para>
This is a required parameter. This parameter specifies a port number
for a squid instance managed by this RA. If plural ports are used,
you must specifiy the only one of them.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_squid_stop_timeout</command>=how long to wait for squid shutdown to stop the
instance before resorting to kill</term>
        <listitem>
          <para>
On stop, a squid shutdown is invoked first. If the resource
doesn't stop within this timeout, we resort to stopping
processes by sending signals and finally KILLing them.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_debug_mode</command>=Debug mode</term>
        <listitem>
          <para>
This is an optional parameter.
This RA runs in debug mode when this parameter includes 'x' or 'v'.
If 'x' is included, both of STDOUT and STDERR redirect to the logfile
specified by "debug_log", and then the builtin shell option 'x' is turned on.
It is similar about 'v'.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_debug_log</command>=A destination of the debug log</term>
        <listitem>
          <para>
This is an optional and omittable parameter.
This parameter specifies a destination file for debug logs
and works only if this RA run in debug mode.  Refer to "debug_mode"
about debug mode. If no value is given but it's requied, it's made by the
following rules: "/var/log/" as a directory part, the basename of
the configuration file given by "syslog_ng_conf" as a basename part,
".log" as a suffix.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.Stateful">
  <refmeta>
    <refentrytitle>ocf:Stateful</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:Stateful</refname>
    <refpurpose>Example stateful resource agent</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_state</command>=string <command>Stateful</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This is an example resource agent that impliments two states
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_state</command>=State file</term>
        <listitem>
          <para>
Location to store the resource state in
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.symlink">
  <refmeta>
    <refentrytitle>ocf:symlink</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:symlink</refname>
    <refpurpose>Manages a symbolic link</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_link</command>=string] [<command>OCF_RESKEY_target</command>=string] [<command>OCF_RESKEY_backup_suffix</command>=string] <command>symlink</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This resource agent that manages a symbolic link (symlink).

It is primarily intended to manage configuration files which should be
enabled or disabled based on where the resource is running, such as
cron job definitions and the like.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_link</command>=Full path of the symlink</term>
        <listitem>
          <para>
Full path of the symbolic link to be managed. This must obviously be
in a filesystem that supports symbolic links.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_target</command>=Full path to the link target</term>
        <listitem>
          <para>
Full path to the link target (the file or directory which the symlink points to).
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_backup_suffix</command>=Suffix to append to backup files</term>
        <listitem>
          <para>
A suffix to append to any files that the resource agent moves out of
the way because they clash with "link".

If this is unset (the default), then the resource agent will simply
refuse to create a symlink if it clashes with an existing file.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.SysInfo">
  <refmeta>
    <refentrytitle>ocf:SysInfo</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:SysInfo</refname>
    <refpurpose>Records various node attributes in the CIB</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_pidfile</command>=string] [<command>OCF_RESKEY_delay</command>=string] <command>SysInfo</command> [start | stop | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This is a SysInfo Resource Agent.
It records (in the CIB) various attributes of a node
Sample Linux output:
   arch:   i686
   os:     Linux-2.4.26-gentoo-r14
   free_swap:      1999
   cpu_info:       Intel(R) Celeron(R) CPU 2.40GHz
   cpu_speed:      4771.02
   cpu_cores:      1
   cpu_load:       0.00
   ram_total:      513
   ram_free:       117
   root_free:      2.4

Sample Darwin output:
   arch:   i386
   os:     Darwin-8.6.2
   cpu_info:       Intel Core Duo
   cpu_speed:      2.16
   cpu_cores:      2
   cpu_load:       0.18
   ram_total:      2016
   ram_free:       787
   root_free:      13

Units:
   free_swap: Mb
   ram_*:     Mb
   root_free: Gb
   cpu_speed (Linux): bogomips
   cpu_speed (Darwin): Ghz

</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_pidfile</command>=PID file</term>
        <listitem>
          <para>PID file</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_delay</command>=Dampening Delay</term>
        <listitem>
          <para>Interval to allow values to stabilize</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.syslog-ng">
  <refmeta>
    <refentrytitle>ocf:syslog-ng</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:syslog-ng</refname>
    <refpurpose>Syslog-ng resource agent</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_configfile</command>=string] [<command>OCF_RESKEY_syslog_ng_binary</command>=string] [<command>OCF_RESKEY_start_opts</command>=string] [<command>OCF_RESKEY_kill_term_timeout</command>=integer] <command>syslog-ng</command> [start | stop | status | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This script manages a syslog-ng instance as an HA resource.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_configfile</command>=Configuration file</term>
        <listitem>
          <para>
This parameter specifies a configuration file 
for a syslog-ng instance managed by this RA.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_syslog_ng_binary</command>=syslog-ng executable</term>
        <listitem>
          <para>
This parameter specifies syslog-ng's executable file.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_start_opts</command>=Start options</term>
        <listitem>
          <para>
This parameter specifies startup options for a 
syslog-ng instance managed by this RA. When no value is given, no startup 
options is used. Don't use option '-F'. It causes a stuck of a start action.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_kill_term_timeout</command>=Number of seconds to await to confirm a normal stop method</term>
        <listitem>
          <para>
On a stop action, a normal stop method(pkill -TERM) is firstly used.
And then the confirmation of its completion is waited for
the specified seconds by this parameter.
The default value is 10.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.tomcat">
  <refmeta>
    <refentrytitle>ocf:tomcat</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:tomcat</refname>
    <refpurpose>Manages a Tomcat servlet environment instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_tomcat_name</command>=string <command>OCF_RESKEY_script_log</command>=string [<command>OCF_RESKEY_tomcat_stop_timeout</command>=integer] [<command>OCF_RESKEY_tomcat_suspend_trialcount</command>=integer] [<command>OCF_RESKEY_tomcat_user</command>=string] [<command>OCF_RESKEY_statusurl</command>=string] [<command>OCF_RESKEY_max_stop_time</command>=integer] [<command>OCF_RESKEY_java_home</command>=string] [<command>OCF_RESKEY_java_opts</command>=string] <command>OCF_RESKEY_catalina_home</command>=string <command>OCF_RESKEY_catalina_base</command>=string <command>OCF_RESKEY_catalina_out</command>=string <command>OCF_RESKEY_catalina_pid</command>=string [<command>OCF_RESKEY_tomcat_start_opts</command>=string] [<command>OCF_RESKEY_catalina_opts</command>=string] <command>OCF_RESKEY_catalina_tmpdir</command>=string [<command>OCF_RESKEY_catalina_rotate_log</command>=string] [<command>OCF_RESKEY_catalina_rotatetime</command>=integer] <command>OCF_RESKEY_java_endorsed_dirs</command>=string <command>OCF_RESKEY_logging_config</command>=string <command>OCF_RESKEY_logging_manager</command>=string <command>tomcat</command> [start | stop | status | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for Tomcat. It manages a Tomcat instance as a cluster resource.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_tomcat_name</command>=The name of the resource</term>
        <listitem>
          <para>
The name of the resource, added as a Java parameter in JAVA_OPTS:
-Dname=&lt;tomcat_name&gt; to Tomcat process on start. Used to ensure
process is still running and must be unique.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_script_log</command>=Log file</term>
        <listitem>
          <para>
Log file, used during start and stop operations.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_tomcat_stop_timeout</command>=Time-out for the stop operation. DEPRECATED</term>
        <listitem>
          <para>
Time-out for stop operation. DEPRECATED
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_tomcat_suspend_trialcount</command>=Max retry count for stop operation. DEPRECATED</term>
        <listitem>
          <para>
Maximum number of times to retry stop operation before suspending
and killing Tomcat. DEPRECATED. Does not retry.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_tomcat_user</command>=The user who starts Tomcat</term>
        <listitem>
          <para>
The user who starts Tomcat.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_statusurl</command>=URL for state confirmation</term>
        <listitem>
          <para>
URL for state confirmation.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_max_stop_time</command>=The max time it should take for proper shutdown.</term>
        <listitem>
          <para>
Number of seconds to wait during a stop before drastic measures
(force kill) are used on the tomcat process. 
This number MUST be less than your cluster stop timeout for the resource.
The default value is five seconds before the timeout value of stop operation.
When it is over this value, it stop a process in kill commands.
This parameter is only effective on Tomcat 6 or later.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_java_home</command>=Home directory of Java</term>
        <listitem>
          <para>
Home directory of Java.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_java_opts</command>=Java options parsed to JVM, used on start and stop.</term>
        <listitem>
          <para>
Java JVM options used on start and stop.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_catalina_home</command>=Home directory of Tomcat</term>
        <listitem>
          <para>
Home directory of Tomcat.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_catalina_base</command>=Instance directory of Tomcat, defaults to catalina_home</term>
        <listitem>
          <para>
Instance directory of Tomcat
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_catalina_out</command>=Log file name of Tomcat, defaults to catalina_home/logs/catalina.out</term>
        <listitem>
          <para>
Log file name of Tomcat
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_catalina_pid</command>=A PID file name for Tomcat</term>
        <listitem>
          <para>
A PID file name for Tomcat.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_tomcat_start_opts</command>=Tomcat start options</term>
        <listitem>
          <para>
Tomcat start options.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_catalina_opts</command>=Catalina options</term>
        <listitem>
          <para>
Catalina options, for the start operation only.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_catalina_tmpdir</command>=Temporary directory of Tomcat, defaults to none</term>
        <listitem>
          <para>
Temporary directory of Tomcat
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_catalina_rotate_log</command>=Rotate catalina.out flag</term>
        <listitem>
          <para>
Rotate catalina.out flag.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_catalina_rotatetime</command>=catalina.out rotation interval (seconds)</term>
        <listitem>
          <para>
catalina.out rotation interval (seconds).
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_java_endorsed_dirs</command>=Java_endorsed_dirs of tomcat, defaults to none</term>
        <listitem>
          <para>
Java_endorsed_dirs of tomcat
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_logging_config</command>=Logging_config of tomcat, defaults to none</term>
        <listitem>
          <para>
Logging_config of tomcat
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_logging_manager</command>=Logging_manager of tomcat, defaults to none.</term>
        <listitem>
          <para>
Logging_manager of tomcat
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.varnish">
  <refmeta>
    <refentrytitle>ocf:varnish</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:varnish</refname>
    <refpurpose>Manage a Varnish instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_config</command>=string <command>OCF_RESKEY_name</command>=string <command>OCF_RESKEY_pid</command>=string <command>OCF_RESKEY_listen_address</command>=string <command>OCF_RESKEY_mgmt_address</command>=string [<command>OCF_RESKEY_ttl</command>=integer] [<command>OCF_RESKEY_varnish_user</command>=string] [<command>OCF_RESKEY_varnish_group</command>=string] [<command>OCF_RESKEY_backend_type</command>=string] [<command>OCF_RESKEY_backend_size</command>=string] <command>OCF_RESKEY_backend_file</command>=string [<command>OCF_RESKEY_worker_threads</command>=string] [<command>OCF_RESKEY_client_binary</command>=string] <command>varnish</command> [start | stop | monitor | status | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
The Varnish Resource Agent can manage several varnishd
instances throughout the cluster. It does so by creating
a unique PID file and requires a unique listen address 
and name for each instance.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_config</command>=VCL file</term>
        <listitem>
          <para>
The VCL configuration file that varnish should manage, for example
"/etc/varnish/default.vcl".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_name</command>=Instance name</term>
        <listitem>
          <para>
Override the name of the instance that should be given to varnish
(defaults to the resource identifier).
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pid</command>=Listen address</term>
        <listitem>
          <para>
Write the process's PID to the specified file.
The default will include the specified name, ie.:
"/var/run/varnish_production.pid". Unlike what this help message shows.
It is most likely not necessary to change this parameter.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_listen_address</command>=Listen address</term>
        <listitem>
          <para>
Listen on this address:port, for example "192.168.1.1:80"
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_mgmt_address</command>=Management interface</term>
        <listitem>
          <para>
Provide a management interface, for example "127.0.0.1:2222"
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ttl</command>=TTL</term>
        <listitem>
          <para>
Specifies a hard minimum time to live for cached documents.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_varnish_user</command>=Unprivileged user</term>
        <listitem>
          <para>
Specifies the name of an unprivileged user to which the 
child process should switch before it starts accepting 
connections.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_varnish_group</command>=Unprivileged group</term>
        <listitem>
          <para>
Specifies  the  name  of an unprivileged group to which 
the child process should switch before it starts accepting 
connections.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_backend_type</command>=Backend type</term>
        <listitem>
          <para>
Use the specified storage backend. Valid options are
'malloc' for memory and 'file' for a file backend.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_backend_size</command>=Backend size</term>
        <listitem>
          <para>
Specify the size of the backend. For example "1G".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_backend_file</command>=Backend file</term>
        <listitem>
          <para>
Specify the backend filename if you use backend_type file. 
For example /var/lib/varnish/mybackend.bin
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_worker_threads</command>=Worker threads</term>
        <listitem>
          <para>
Start  at  least  min but no more than max worker 
threads with the specified idle timeout.

Syntax: min[,max[,timeout]]
For example: 100,3000,120
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_client_binary</command>=Varnish admin utility</term>
        <listitem>
          <para>
This is used to control varnish via a CLI. It's currently
only used to check the status of the running child process.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.VIPArip">
  <refmeta>
    <refentrytitle>ocf:VIPArip</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:VIPArip</refname>
    <refpurpose>Manages a virtual IP address through RIP2</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_ip</command>=string [<command>OCF_RESKEY_nic</command>=string] [<command>OCF_RESKEY_zebra_binary</command>=string] [<command>OCF_RESKEY_ripd_binary</command>=string] <command>VIPArip</command> [start | stop | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Virtual IP Address by RIP2 protocol.
This script manages IP alias in different subnet with quagga/ripd.
It can add an IP alias, or remove one.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_ip</command>=The IP address in different subnet</term>
        <listitem>
          <para>
The IPv4 address in different subnet, for example "192.168.1.1".
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_nic</command>=The nic for broadcast the route information</term>
        <listitem>
          <para>
The nic for broadcast the route information.
The ripd uses this nic to broadcast the route informaton to others
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_zebra_binary</command>=zebra binary</term>
        <listitem>
          <para>
Absolute path to the zebra binary.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_ripd_binary</command>=ripd binary</term>
        <listitem>
          <para>
Absolute path to the ripd binary.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.VirtualDomain">
  <refmeta>
    <refentrytitle>ocf:VirtualDomain</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:VirtualDomain</refname>
    <refpurpose>Manages virtual domains through the libvirt virtualization framework</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para><command>OCF_RESKEY_config</command>=string [<command>OCF_RESKEY_hypervisor</command>=string] [<command>OCF_RESKEY_force_stop</command>=boolean] [<command>OCF_RESKEY_migration_transport</command>=string] [<command>OCF_RESKEY_migration_network_suffix</command>=string] [<command>OCF_RESKEY_monitor_scripts</command>=string] [<command>OCF_RESKEY_autoset_utilization_cpu</command>=boolean] [<command>OCF_RESKEY_autoset_utilization_hv_memory</command>=boolean] [<command>OCF_RESKEY_migrateport</command>=integer] <command>VirtualDomain</command> [start | stop | status | monitor | migrate_from | migrate_to | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource agent for a virtual domain (a.k.a. domU, virtual machine,
virtual environment etc., depending on context) managed by libvirtd.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_config</command>=Virtual domain configuration file</term>
        <listitem>
          <para>
Absolute path to the libvirt configuration file,
for this virtual domain.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_hypervisor</command>=Hypervisor URI</term>
        <listitem>
          <para>
Hypervisor URI to connect to. See the libvirt documentation for
details on supported URI formats. The default is system dependent.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_force_stop</command>=Always force shutdown on stop</term>
        <listitem>
          <para>
Always forcefully shut down ("destroy") the domain on stop. The default
behavior is to resort to a forceful shutdown only after a graceful
shutdown attempt has failed. You should only set this to true if
your virtual domain (or your virtualization backend) does not support
graceful shutdown.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_migration_transport</command>=Remote hypervisor transport</term>
        <listitem>
          <para>
Transport used to connect to the remote hypervisor while
migrating. Please refer to the libvirt documentation for details on
transports available. If this parameter is omitted, the resource will
use libvirt's default transport to connect to the remote hypervisor.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_migration_network_suffix</command>=Migration network host name suffix</term>
        <listitem>
          <para>
Use a dedicated migration network. The migration URI is composed by
adding this parameters value to the end of the node name. If the node
name happens to be an FQDN (as opposed to an unqualified host name),
insert the suffix immediately prior to the first period (.) in the FQDN.
At the moment Qemu/KVM and Xen migration via a dedicated network is supported.

Note: Be sure this composed host name is locally resolveable and the
associated IP is reachable through the favored network.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_monitor_scripts</command>=space-separated list of monitor scripts</term>
        <listitem>
          <para>
To additionally monitor services within the virtual domain, add this
parameter with a list of scripts to monitor.

Note: when monitor scripts are used, the start and migrate_from operations
will complete only when all monitor scripts have completed successfully.
Be sure to set the timeout of these operations to accommodate this delay.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_autoset_utilization_cpu</command>=Enable auto setting the cpu utilization of the resource</term>
        <listitem>
          <para>
If set true, the agent will detect the number of domainU's vCPUs from virsh, and put it 
into the cpu utilization of the resource when the monitor is executed.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_autoset_utilization_hv_memory</command>=Enable auto setting the hv_memory utilization of the resource</term>
        <listitem>
          <para>
If set true, the agent will detect the number of *Max memory* from virsh, and put it 
into the hv_memory utilization of the resource when the monitor is executed.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_migrateport</command>=Port for migrateuri</term>
        <listitem>
          <para>
This port will be used in the qemu migrateuri. If unset, the port will be a random highport.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.vmware">
  <refmeta>
    <refentrytitle>ocf:vmware</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:vmware</refname>
    <refpurpose>Manages VMWare Server 2.0 virtual machines</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_vmxpath</command>=string] [<command>OCF_RESKEY_vimshbin</command>=string] <command>vmware</command> [start | stop | monitor | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
OCF compliant script to control vmware server 2.0 virtual machines.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_vmxpath</command>=VMX file path</term>
        <listitem>
          <para>
VMX configuration file path
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_vimshbin</command>=vmware-vim-cmd path</term>
        <listitem>
          <para>
vmware-vim-cmd executable path
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.WAS6">
  <refmeta>
    <refentrytitle>ocf:WAS6</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:WAS6</refname>
    <refpurpose>Manages a WebSphere Application Server 6 instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_profile</command>=string] <command>WAS6</command> [start | stop | status | monitor | validate-all | meta-data | methods]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for WAS6. It manages a Websphere Application Server (WAS6) as
an HA resource.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_profile</command>=profile name</term>
        <listitem>
          <para>
The WAS profile name.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.WAS">
  <refmeta>
    <refentrytitle>ocf:WAS</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:WAS</refname>
    <refpurpose>Manages a WebSphere Application Server instance</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_config</command>=string] [<command>OCF_RESKEY_port</command>=integer] <command>WAS</command> [start | stop | status | monitor | validate-all | meta-data | methods]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for WAS. It manages a Websphere Application Server (WAS) as 
an HA resource.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_config</command>=configration file</term>
        <listitem>
          <para>
The WAS-configuration file.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_port</command>=port</term>
        <listitem>
          <para>
The WAS-(snoop)-port-number.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.WinPopup">
  <refmeta>
    <refentrytitle>ocf:WinPopup</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:WinPopup</refname>
    <refpurpose>Sends an SMB notification message to selected hosts</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_hostfile</command>=string] <command>WinPopup</command> [start | stop | status | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for WinPopup. It sends WinPopups message to a 
sysadmin's workstation whenever a takeover occurs.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_hostfile</command>=Host file</term>
        <listitem>
          <para>
The file containing the hosts to send WinPopup messages to.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.Xen">
  <refmeta>
    <refentrytitle>ocf:Xen</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:Xen</refname>
    <refpurpose>Manages Xen unprivileged domains (DomUs)</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_xmfile</command>=string] [<command>OCF_RESKEY_name</command>=string] [<command>OCF_RESKEY_shutdown_timeout</command>=string] [<command>OCF_RESKEY_shutdown_acpi</command>=boolean] [<command>OCF_RESKEY_allow_mem_management</command>=boolean] [<command>OCF_RESKEY_node_ip_attribute</command>=string] [<command>OCF_RESKEY_reserved_Dom0_memory</command>=string] [<command>OCF_RESKEY_monitor_scripts</command>=string] <command>Xen</command> [start | stop | migrate_from | migrate_to | monitor | meta-data | validate-all]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource Agent for the Xen Hypervisor.
Manages Xen virtual machine instances by mapping cluster resource
start and stop,  to Xen create and shutdown, respectively.

A note on names

We will try to extract the name from the config file (the xmfile
attribute). If you use a simple assignment statement, then you
should be fine. Otherwise, if there's some python acrobacy
involved such as dynamically assigning names depending on other
variables, and we will try to detect this, then please set the
name attribute. You should also do that if there is any chance of
a pathological situation where a config file might be missing,
for example if it resides on a shared storage. If all fails, we
finally fall back to the instance id to preserve backward
compatibility.

Para-virtualized guests can also be migrated by enabling the
meta_attribute allow-migrate.

</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_xmfile</command>=Xen control file</term>
        <listitem>
          <para>
Absolute path to the Xen control file,
for this virtual machine.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_name</command>=Xen DomU name</term>
        <listitem>
          <para>
Name of the virtual machine.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_shutdown_timeout</command>=Shutdown escalation timeout</term>
        <listitem>
          <para>
The Xen agent will first try an orderly shutdown using xm shutdown.
Should this not succeed within this timeout, the agent will escalate to
xm destroy, forcibly killing the node.

If this is not set, it will default to two-third of the stop action
timeout.

Setting this value to 0 forces an immediate destroy.

</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_shutdown_acpi</command>=Simulate power button event on shutdown</term>
        <listitem>
          <para>
Handle shutdown by simulating an ACPI power button event.
Enable this to allow graceful shutdown for HVM domains
without installed PV drivers.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_allow_mem_management</command>=Use dynamic memory management</term>
        <listitem>
          <para>
This parameter enables dynamic adjustment of memory for start 
and stop actions used for Dom0 and the DomUs. The default is
to not adjust memory dynamically.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_node_ip_attribute</command>=Node attribute containing target IP address</term>
        <listitem>
          <para>
In case of a live migration, the system will default to using the IP
address associated with the hostname via DNS or /etc/hosts.

This parameter allows you to specify a node attribute that will be
queried instead for the target node, overriding the IP address. This
allows you to use a dedicated network for live migration traffic to a
specific node.

Warning: make very sure the IP address does point to the right node. Or
else the live migration will end up somewhere else, greatly confusing
the cluster and causing havoc.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_reserved_Dom0_memory</command>=Minimum Dom0 memory</term>
        <listitem>
          <para>
In case memory management is used, this parameter
defines the minimum amount of memory to be reserved
for the dom0. The default minimum memory is 512MB.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_monitor_scripts</command>=list of space separated monitor scripts</term>
        <listitem>
          <para>
To additionally monitor services within the unprivileged domain,
add this parameter with a list of scripts to monitor.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.Xinetd">
  <refmeta>
    <refentrytitle>ocf:Xinetd</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:Xinetd</refname>
    <refpurpose>Manages a service of Xinetd</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_service</command>=string] <command>Xinetd</command> [start | stop | restart | status | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
Resource script for Xinetd. It starts/stops services managed
by xinetd by enabling or disabling them in the configuration file.

The xinetd daemon itself must be running: we are not going to start or
stop it ourselves.

All services should have a line saying either "disable=yes" or "disable=no".
The script just changes those settings before reloading xinetd.

Important: in case the services managed by the cluster are the
only ones enabled, you should specify the -stayalive option for
xinetd or it will exit on Heartbeat stop. Alternatively, you may
enable some internal service such as echo.
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_service</command>=service name</term>
        <listitem>
          <para>
The name of the service managed by xinetd. 
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<refentry id="ref.ocfagent.zabbixserver">
  <refmeta>
    <refentrytitle>ocf:zabbixserver</refentrytitle>
    <manvolnum>7</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>ocf:zabbixserver</refname>
    <refpurpose>Zabbix server resource agent</refpurpose>
  </refnamediv>
  <refsect1>
  <title>Synopsis</title><para>[<command>OCF_RESKEY_binary</command>=string] <command>OCF_RESKEY_pid</command>=string <command>OCF_RESKEY_config</command>=string <command>zabbixserver</command> [start | stop | monitor | validate-all | meta-data]</para></refsect1>
  <refsect1>
    <title>Description</title>
    <para>
This is a zabbixserver Resource Agent for zabbix_server monitoring
daemon. See: http://www.zabbix.com/
</para>
  </refsect1>
  <refsect1>
    <title>Supported Parameters</title>
    <variablelist>
      <varlistentry>
        <term><command>OCF_RESKEY_binary</command>=Zabbix server binary</term>
        <listitem>
          <para>
Location of the zabbix_server binary.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_pid</command>=Path to pidfile</term>
        <listitem>
          <para>
Path to zabbix_server pidfile. As it's created by daemon itself
it must be the same as specified in the zabbix configuration file
with parameter 'PidFile='.
</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><command>OCF_RESKEY_config</command>=Path to configuration file</term>
        <listitem>
          <para>
Path to zabbix_server configuration file. Assumed server default
if not specified.
</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>


</chapter>
