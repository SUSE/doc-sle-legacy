<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE refentry PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<refentry id="man.crmattribute">
 <refmeta>
  <refentrytitle>crm_attribute</refentrytitle>
  <manvolnum>8</manvolnum>
 </refmeta>
 <refnamediv>
  <refname>crm_attribute</refname><refpurpose>Allows node attributes and cluster options to be queried, modified and deleted</refpurpose>
 </refnamediv>
 <refsect1>
  <title>Synopsis</title>
<screen><command>crm_attribute</command> <option>[options]</option></screen>
 </refsect1>
 <refsect1>
  <title>Description</title>
  <para>
   The <command>crm_attribute</command> command queries and manipulates node
   attributes and cluster configuration options that are used in the CIB.
  </para>
 </refsect1>
 <refsect1>
  <title>Options</title>
  <variablelist>
   <varlistentry>
    <term><option>--help</option>, <option>-?</option>
    </term>
    <listitem>
     <para>
      Print a help message.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>--verbose</option>, <option>-V</option>
    </term>
    <listitem>
     <para>
      Turn on debug information.
     </para>
     <note>
      <para>
       Increase the level of verbosity by providing additional instances.
      </para>
     </note>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>--quiet</option>, <option>-Q</option>
    </term>
    <listitem>
     <para>
      When doing an attribute query using <option>-G</option>, print just
      the value to stdout. Use this option with <option>-G</option>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>--get-value</option>, <option>-G</option>
    </term>
    <listitem>
     <para>
      Retrieve, rather than set, the preference.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>--delete-attr</option>, <option>-D</option>
    </term>
    <listitem>
     <para>
      Delete, rather than set, the attribute.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>--attr-id <replaceable>string</replaceable></option>,
        <option>-i <replaceable>string</replaceable></option>
    </term>
    <listitem>
     <para>
      For advanced users only. Identifies the id attribute.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>--attr-value <replaceable>string</replaceable></option>,
     <option>-v <replaceable>string</replaceable></option>
    </term>
    <listitem>
     <para>
      Value to set. This is ignored when used with <option>-G</option>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>--node <replaceable>node_name</replaceable></option>,
     <option>-N <replaceable>node_name</replaceable></option>
    </term>
    <listitem>
     <para>
      The uname of the node to change
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>--set-name <replaceable>string</replaceable></option>,
     <option>-s <replaceable>string</replaceable></option>
    </term>
    <listitem>
     <para>
      Specify the set of attributes in which to read or write the attribute.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>--attr-name <replaceable>string</replaceable></option>,
     <option>-n <replaceable>string</replaceable></option>
    </term>
    <listitem>
     <para>
      Specify the attribute to set or query.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>--type <replaceable>string</replaceable></option>, <option>-t
      <replaceable>type</replaceable></option>
    </term>
    <listitem>
     <para>
      Determine to which section of the CIB the attribute should be set or
      to which section of the CIB the attribute that is queried belongs.
      Possible values are <option>nodes</option>, <option>status</option>,
      or <option>crm_config</option>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </refsect1>
 <refsect1>
  <title>Examples</title>
  <variablelist>
   <varlistentry>
    <term>Query the value of the <option>location</option> attribute in the
     <option>nodes</option> section for the host
     <replaceable>myhost</replaceable> in the CIB:</term>
    <listitem>
<screen><command>crm_attribute</command> <option>-G</option> <option>-t</option> nodes <option>-U</option> <replaceable>myhost</replaceable> <option>-n</option> location</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Query the value of the <option>cluster-delay</option> attribute in
     the <option>crm_config</option> section in the CIB:</term>
    <listitem>
<screen><command>crm_attribute</command> <option>-G</option> <option>-t</option> crm_config <option>-n</option> cluster-delay</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Query the value of the <option>cluster-delay</option> attribute in
     the <option>crm_config</option> section in the CIB. Print just the
     value:</term>
    <listitem>
<screen><command>crm_attribute</command> <option>-G</option> <option>-Q</option> <option>-t</option> crm_config <option>-n</option> cluster-delay</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Delete the <option>location</option> attribute for the host
     <replaceable>myhost</replaceable> from the <option>nodes</option> section
     of the CIB:</term>
    <listitem>
<screen><command>crm_attribute</command> <option>-D</option> <option>-t</option> nodes <option>-U</option> <replaceable>myhost</replaceable> <option>-n</option> location</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Add a new attribute called <option>location</option> with the value
     of <option>office</option> to the <replaceable>set</replaceable>
     subsection of the <option>nodes</option> section in the CIB (settings
     applied to the host <replaceable>myhost</replaceable>):</term>
    <listitem>
<screen><command>crm_attribute</command> <option>-t</option> nodes <option>-U</option> <replaceable>myhost</replaceable> <option>-s</option> <replaceable>set</replaceable> <option>-n</option> location <option>-v</option> office</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Change the value of the <option>location</option> attribute in the
     <option>nodes</option> section for the <replaceable>myhost</replaceable>
     host:</term>
    <listitem>
<screen><command>crm_attribute</command> <option>-t</option> nodes <option>-U</option> <replaceable>myhost</replaceable> <option>-n</option> location <option>-v</option> backoffice</screen>
    </listitem>
   </varlistentry>
  </variablelist>
 </refsect1>
 <refsect1>
  <title>Files</title>
  <para>
   <filename>/var/lib/heartbeat/crm/cib.xml</filename>&mdash;the CIB (minus
   status section) on disk. Editing this file directly is strongly
   discouraged.
  </para>
 </refsect1>
 <refsect1>
  <title>See Also</title>
  <para>
   <xref linkend="man.cibadmin"/>
  </para>
 </refsect1>
<!-- 
 <refsect1>
  <title>Author</title>
  <para>
   <command>crm_attribute</command> was written by Andrew Beekhof.
  </para>
 </refsect1>
-->
</refentry>
