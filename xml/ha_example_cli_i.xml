<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<sect1>
 <title>Configuring a Resource Manually</title>

 <para>
  Resources are any type of service that a computer provides. Resources are
  known to &ha; when they may be controlled by RAs (Resource Agents), which
  are LSB scripts or OCF scripts. All resources can be configured with the
  <command>crm</command> command or as XML in the CIB (Cluster Information
  Base) in the <literal>resources</literal> section. 
 </para>

 <para>
  To add an IP address <systemitem class="ipaddress">10.10.0.1</systemitem>
  as a resource to the current configuration, use the <command>crm</command>
  command:
 </para>

<!-- Same as in ha_quickstart_gui.xml -->

 <procedure id="proc-ha-quickstart-man">
  <title>Creating an IP Address Cluster Resource</title>
  <step>
   <para>
    Open a shell and become &rootuser;.
   </para>
  </step>
  <step>
   <para>
    Enter <command>crm</command> <option>configure</option> to open the
    internal shell.
   </para>
  </step>
  <step>
   <para>
    Create an IP address resource:
   </para>
<screen>crm(live)configure# <command>resource</command><command>primitive</command> myIP ocf:heartbeat:IPaddr params ip=10.10.0.1<!--
  --></screen>
  </step>
 </procedure>

 <note>
  <para>
   When configuring a resource with &ha;, the same resource should not be
   initialized by <command>init</command>. High availability is be
   responsible for all service start or stop actions.
  </para>
 </note>

 <para>
  If the configuration was successful, a new resource appears in
  <command>crm_mon</command> that is started on a random node of your
  cluster.
 </para>

 <para>
  To migrate a resource to another node, do the following:
 </para>

 <procedure>
  <title>Migrating Resources to Another Node</title>
  <step>
   <para>
    Start a shell and become the user &rootuser;.
   </para>
  </step>
  <step>
   <para>
    Migrate your resource <literal>myip</literal> to node
    <systemitem>&wsIII;</systemitem>:
   </para>
<screen><command>crm</command> resource <command
        >migrate</command> myIP &wsIII;</screen>
  </step>
 </procedure>
</sect1>
