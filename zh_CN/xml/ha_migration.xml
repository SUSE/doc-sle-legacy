<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
    type="text/xml"
    title="Profiling step"
?>
<!DOCTYPE appendix>
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<appendix xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1" xml:base="ha_migration.xml" xml:id="app-ha-migration"><title>升级群集和更新软件包</title><info><abstract>
  <para>
   本章介绍两种不同方案：将群集升级为 <phrase role="productnamereg"><phrase os="sles">SUSE® Linux Enterprise High Availability Extension</phrase></phrase> 的另一个版本（主要版本或服务包），以及更新各群集节点上的单个包。
  </para>
 </abstract></info>
 
 
 
 <section xml:id="sec-ha-migration-terminology">
  <title>术语</title>
  
  <para>
   下面介绍本章中使用的最重要术语的定义：
  </para>
  
  
  
  <variablelist>
   <varlistentry>
    <term>主要版本</term>
    <term>正式发布 (GA) 版本</term>
    <listitem>
     <para>
      SUSE Linux Enterprise（或任何软件产品）的主要版本是一个新版本，其中会引入一些新功能和工具，去除之前弃用的组件，并进行一些不向后兼容的更改。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>服务包 (SP)</term>
    <listitem>
     <para>
      将几个增补程序合并到便于安装或部署的一个组织体中。服务包是有编号的并通常包含安全性修复、更新、升级或程序增强。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>更新</term>
    <listitem>
     <para>
      安装包的更新<emphasis>次要</emphasis>版本。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>升级</term>
    <listitem>
     <para>
      安装包或分发包的更新<emphasis>主要</emphasis>版本，引入<emphasis>新功能</emphasis>。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </section>
 
 <section xml:id="sec-ha-migration-upgrade">
  <title>将群集升级到最新产品版本</title>
  
  <para>
   至于支持哪种升级路径以及如何执行升级，取决于运行群集的当前产品版本，以及您要迁移到的目标版本。有关一般信息，请参见《<citetitle>SUSE Linux Enterprise Server 11 部署指南</citetitle>》中的“<citetitle>更新 SUSE Linux Enterprise</citetitle>”一章。可通过 <link xlink:href="http://www.suse.com/documentation/"/> 获得。
  </para>
  
  <important>
   <title>升级前必须满足的先决条件</title>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      确保系统备份为最新的且可恢复。
     </para>
    </listitem>
    <listitem>
     <para>
      请先在群集设置的临时实例上测试升级过程，然后再在生产环境中执行该过程。
     </para>
     <para>
      这样，您便可以估算出维护期所需的时间段。这还有助于检测和解决可能会出现的任何意外问题。
     </para>
    </listitem>
   </itemizedlist>
  </important>
 <section xml:id="sec-ha-migration-sle11">
  <title>从 SLES 10 升级到 SLE HA 11</title>

   <important>
    <title>需要将群集置于脱机状态</title>
    <para> 如果要从 SUSE Linux Enterprise Server 10 迁移到 SUSE Linux Enterprise Server 11（任何服务包），则所有群集节点必须处于<emphasis>脱机</emphasis>状态，并且该群集必须整体迁移，系统不支持即有在 SUSE Linux Enterprise Server 10 上运行，又有在 SUSE Linux Enterprise Server 11 上运行的节点的混合群集。 </para>
   </important>

  <para>
   为了方便起见，<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 提供了一个 <filename>hb2openais.sh</filename> 脚本，用于在从 Heartbeat 移到 OpenAIS 群集堆栈时转换您的数据。脚本会分析储存在 <filename>/etc/ha.d/ha.cf</filename> 中的配置，并为 OpenAIS 群集堆栈生成新的配置文件。此外，它会调整 CIB 以匹配 OpenAIS 约定、转换 OCFS2 文件系统以及将 EVMS 替换为 cLVM。任何 EVMS2 容器都将转换为 cLVM2 卷。对于 CIB 中现有资源所引用的卷组，将创建新的 LVM 资源。
  </para>

  <para>
   要想将群集成功地从 SUSE Linux Enterprise Server 10 SP4 迁移到 SUSE Linux Enterprise Server 11，需要执行以下步骤：
  </para>

  <orderedlist spacing="normal">
   <listitem>
    <para>
     <xref linkend="pro-ha-migration-sle11-prep" xrefstyle="select:title"/>
    </para>
   </listitem>
   <listitem>
    <para>
     <xref linkend="pro-ha-migration-sle11-install" xrefstyle="select:title"/>
    </para>
   </listitem>
   <listitem>
    <para>
     <xref linkend="pro-ha-migration-sle11-test" xrefstyle="select:title"/>
    </para>
   </listitem>
   <listitem>
    <para>
     <xref linkend="pro-ha-migration-sle11-convert" xrefstyle="select:title"/>
    </para>
   </listitem>
  </orderedlist>

  <para>
   成功完成转换后，可以让升级后的群集再次连接网络。
  </para>

  <note>
   <title>升级后还原</title>
   <para>
    升级到 SUSE Linux Enterprise Server 11 后，系统<emphasis>不</emphasis>支持还原到 SUSE Linux Enterprise Server 10。
   </para>
  </note>

  <section xml:id="sec-ha-migration-sle11-prep">
   <title>准备和备份</title>
   <para>
    将群集升级为下一个产品版本并相应地转换数据之前，需要准备当前群集。
   </para>
   <procedure xml:id="pro-ha-migration-sle11-prep">
    <title>准备 SUSE Linux Enterprise Server 10 SP4 群集</title>
    <step>
     <para>
      登录到群集。
     </para>
    </step>
    <step>
     <para>
      查看检测信号配置文件 <filename>/etc/ha.d/ha.cf</filename> 并检查是否所有通讯媒体都支持多路广播。
     </para>
    </step>
    <step>
     <para>
      确保以下文件在所有节点上都是相同的：<filename>/etc/ha.d/ha.cf</filename> 和 <filename>/var/lib/heartbeat/crm/cib.xml</filename>。
     </para>
    </step>
    <step>
     <para>
      通过在每个节点上执行 <command>rcheartbeat stop</command> 使所有节点都处于脱机状态。
     </para>
    </step>
    <step>
     <para>
      除了在更新到最新版本之前执行所推荐的常规系统备份外，另请备份以下文件，以便在升级到 SUSE Linux Enterprise Server 11 之后用来运行转换脚本：
     </para>
     <itemizedlist mark="bullet" spacing="normal">
      <listitem>
       <para>
        <filename>/var/lib/heartbeat/crm/cib.xml</filename>
       </para>
      </listitem>
      <listitem>
       <para>
        <filename>/var/lib/heartbeat/hostcache</filename>
       </para>
      </listitem>
      <listitem>
       <para>
        <filename>/etc/ha.d/ha.cf </filename>
       </para>
      </listitem>
      <listitem>
       <para>
        <filename>/etc/logd.cf</filename>
       </para>
      </listitem>
     </itemizedlist>
    </step>
    <step>
     <para>
      如果有 EVMS2 资源，请将非 LVM EVMS2 卷转换为 SUSE Linux Enterprise Server 10 上的兼容卷。在转换过程中（请参见<xref linkend="sec-ha-migration-sle11-convert"/>），它们会随即转换为 LVM2 卷组。转换后，请务必使用 <command>vgchange -c y</command> 将每个卷组都标记为 High Availability 群集的成员。

     </para>
    </step>
   </procedure>
  </section>

  <section xml:id="sec-ha-migration-sle11-install">
   <title>升级/安装</title>
   <para>
    做好群集准备和文件备份后，在群集节点上全新安装 SUSE Linux Enterprise 11。
   </para>
   <procedure xml:id="pro-ha-migration-sle11-install">
    <title>升级到 SUSE Linux Enterprise 11</title>
    <step>
     <para>
      在所有群集节点上全新安装 SUSE Linux Enterprise Server 11。
     </para>
    </step>
    <step>
     <para>
      在所有群集节点上，安装 SUSE Linux Enterprise Server 之后随即安装 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11，使之做为外接式附件。有关详细信息，请参见<xref linkend="sec-ha-installation-add-on"/>。
     </para>
    </step>
   </procedure>
  </section>

  <section xml:id="sec-ha-migration-sle11-convert">
   <title>数据转换</title>
   <para>
    SUSE Linux Enterprise Server 11 和 High Availability Extension 均安装完成后，即可开始进行数据转换。High Availability Extension 附带的转换脚本已经过谨慎的设置，但是无法在全自动模式下处理所有设置。它会其所作更改显示警报，但是需要您进行干预和决策。您需要详细地了解群集 - 因为更改是否有意义取决于您的需求。转换脚本位于 <filename>/usr/lib/heartbeat</filename>（如果使用 64 位系统，则位于 <filename>/usr lib64/heartbeat</filename>）。
   </para>
   <note>
    <title>执行测试运行</title>
    <para>
     要熟悉转换进程，我们强烈建议您首先测试一下转换（不作任何更改）。可以使用同一测试目录执行重复的测试运行，但是只需要复制一次文件。
    </para>
   </note>
   <procedure xml:id="pro-ha-migration-sle11-test">
    <title>测试转换</title>
    <step>
     <para>
      在某个节点上创建测试目录，并将备份文件复制到此测试目录：
     </para>
<screen>$ mkdir /tmp/hb2openais-testdir
$ cp /etc/ha.d/ha.cf /tmp/hb2openais-testdir
$ cp /var/lib/heartbeat/hostcache /tmp/hb2openais-testdir
$ cp /etc/logd.cf /tmp/hb2openais-testdir
$ sudo cp /var/lib/heartbeat/crm/cib.xml /tmp/hb2openais-testdir</screen>
    </step>
    <step>
     <para>
      使用以下命令开始测试运行
     </para>
<screen>$ /usr/lib/heartbeat/hb2openais.sh -T /tmp/hb2openais-testdir -U</screen>
     <para>
      如果使用 64 位系统，请使用以下命令：
     </para>
<screen>$ /usr/lib64/heartbeat/hb2openais.sh -T /tmp/hb2openais-testdir -U</screen>
    </step>
    <step>
     <para>
      阅读并校验生成的 <filename>openais.conf</filename> 和 <filename>cib-out.xml</filename> 文件：
     </para>
<screen>$ cd  /tmp/hb2openais-testdir 
$ less openais.conf 
$ crm_verify -V -x cib-out.xml</screen>
    </step>
   </procedure>
   <para>
    有关转换阶段的详细信息，请参见所安装的 High Availability Extension 中的 <filename>/usr/share/doc/packages/pacemaker/README.hb2openais</filename>。
   </para>
   <procedure xml:id="pro-ha-migration-sle11-convert">
    <title>转换数据</title>
    <para>
     执行测试运行并检查输出后，可以立即开始数据转换。只需在<emphasis>一个</emphasis>节点上运行转换。主群集配置 (CIB) 会自动复制到其他节点。需要复制的所有其他文件会由转换脚本自动进行复制。
    </para>
    <step>
     <para>
      确保 <systemitem class="daemon">sshd</systemitem> 运行于 <systemitem class="username">root</systemitem> 有权访问的所有节点上，以便转换脚本成功地将文件复制到其他群集节点。
     </para>
    </step>
    <step>
     <para>
      确保所有 ocfs2 文件系统都已卸载。
     </para>
    </step>
    <step>
     <para>
      High Availability Extension 随附一个默认的 OpenAIS 配置文件。如果要防止在后面的步骤中重写此默认配置，请制作 <filename>/etc/ais/openais.conf</filename> 配置文件的副本。
     </para>
    </step>
    <step>
     <para>
      以 <systemitem class="username">root</systemitem> 身份启动转换脚本。如果使用 sudo，请使用 <option>-u</option> 选项指定特权用户：
     </para>
<screen>$ /usr/lib/heartbeat/hb2openais.sh -u root</screen>
     <para>
      基于 <filename>/etc/ha.d/ha.cf</filename> 中所存储的配置，脚本将为 OpenAIS 群集堆栈生成新的配置文件 <filename>/etc/ais/openais.conf</filename>。由于从 Heartbeat 更改到 OpenAIS，它还会分析 CIB 配置，并让您了解是否需要更改群集配置。在转换运行的节点上完成所有文件处理，并将文件处理复制到其他节点。
     </para>
    </step>
    <step>
     <para>
      按照屏幕指导执行操作。
     </para>
    </step>
   </procedure>
   <para>
    成功完成转换后，按照<xref linkend="sec-ha-installation-start"/>中所述启动新的群集堆栈。
   </para>
   <para>
    升级之后，不支持还原到 SUSE Linux Enterprise Server 10。
   </para>

  </section>

  <section xml:id="sec-ha-migration-sle11-more">
   <title>更多信息</title>
   <para>
    有关转换脚本和转换阶段的更多细节，请参见所安装的 High Availability Extension 中的 <filename>/usr/share/doc/packages/pacemaker/README.hb2openais</filename>。
   </para>
  </section>
 </section>
 <section xml:id="sec-ha-migration-sle11-sp1">
  <title>从 SLE HA 11 升级到 SLE HA 11 SP1</title>

   <note>
    <title>在服务包版本之间滚动升级</title>
    <para>为了成功地将现有群集从一个服务包版本迁移到下一个服务包版本，您可以执行<quote>滚动升级</quote>，即一个接一个地升级节点。</para>
   </note>
   <para>由于主群集配置文件从 <filename>/etc/ais/openais.conf</filename> 更改为 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP1 的 <filename>/etc/corosync/corosync.conf</filename>，因此脚本会负责进行必要的转换。它们会在更新 <systemitem class="resource">openais</systemitem> 包时自动执行。
  </para>



  <procedure xml:id="pro-ha-migration-rolling-upgrade">
   <title>执行滚动升级</title>

    <warning>
     <title>在更新期间处于活动状态的群集堆栈</title>
     <para> 要更新运行中群集的成员节点上的任何软件包，请在启动软件更新前先<emphasis>停止</emphasis><emphasis>该节点上</emphasis>的群集堆栈。在某些情况下（请参见<xref linkend="il-ha-update-cond"/>），您也可以将群集置于维护模式（自 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP4 开始提供此模式）。 </para>
     <para>
      如果在软件更新期间，群集资源管理器所在节点处于活动状态，可能会导致不可预料的结果，例如活动的节点被屏蔽。
     </para>
    </warning>
   <step>
    <para>
     以 <systemitem class="username">root</systemitem> 用户身份登录要更新的节点，然后停止 OpenAIS：
    </para>
<screen>rcopenais stop</screen>
   </step>
   <step>
    <para>
     检查系统备份是否为最新并且可恢复。
    </para>
   </step>
   <step xml:id="step-ha-migration-upgrade-tolatest">
    <para>
     从 SUSE Linux Enterprise Server 11 升级到 SUSE Linux Enterprise Server 11 SP1，然后从 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 升级到 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP1。有关如何升级产品的信息，请参见《SUSE Linux Enterprise Server 11 SP1 部署指南》中的<citetitle>“更新 SUSE Linux Enterprise”</citetitle>一章。
    </para>
   </step>
   <step xml:id="step-ha-migration-upgrade-ais">
    <para>
     在升级后的节点上重启动 OpenAIS/Corosync，使此节点重新加入群集：
    </para>
<screen>rcopenais start</screen>
   </step>
   <step>
    <para>
     使下一个节点处于脱机状态，并对此节点重复上述过程。
    </para>
   </step>
  </procedure>
 </section>
 <section xml:id="sec-ha-migration-sle11-sp2">
  <title>从 SLE HA 11 SP1 升级到 SLE HA 11 SP2</title>

  <para>
   将现有群集从 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP1 迁移到 11 SP2 是通过<literal>滚动升级</literal>来完成的，具体与从版本 11 升级到 11 SP2 类似。
  </para>

  <para>
   按<xref linkend="pro-ha-migration-rolling-upgrade"/>中所述进行操作，但请注意以下两点区别：
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     在<xref linkend="step-ha-migration-upgrade-tolatest" xrefstyle="select:name"/>中，从 SUSE Linux Enterprise Server 11 SP1 升级到 SUSE Linux Enterprise Server 11 SP2，并从 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP1 升级到 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP2。
    </para>

    <para>
     因为针对 32 位体系结构的 Xen 超级管理程序已停产，您可能需要手动解决包 <systemitem class="resource">drbd-xen</systemitem> 的依赖性。请注意，跨平台群集不受支持。
    </para>
   </listitem>
   <listitem>
    <para>
     由于 SP2 中附有内核更新，请在<xref linkend="step-ha-migration-upgrade-tolatest" xrefstyle="select:name"/>和<xref linkend="step-ha-migration-upgrade-ais"/>之间重引导节点。
    </para>
   </listitem>
  </itemizedlist>

  <important>
   <title>滚动升级的时间限制</title>
   <para>
    只有在<emphasis>所有</emphasis>群集节点升级到最新产品版本后，才可使用 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP2 所具有的新功能。对于 SP1/SP2 并存的群集，其在滚动升级期间受支持的时间非常短暂。请在一周内完成滚动升级。
   </para>
  </important>
 </section>
 <section xml:id="sec-ha-migration-sle11-sp3">
  <title>从 SLE HA 11 SP2 升级到 SLE HA 11 SP3</title>

  <para>
   将现有群集从 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP2 迁移到 11 SP3 是通过<literal>滚动升级</literal>来完成的，具体与从版本 11 升级到 11 SP1 类似。
  </para>

  <para>
   使用以下偏差执行<xref linkend="pro-ha-migration-rolling-upgrade"/>中所述的步骤：在<xref linkend="step-ha-migration-upgrade-tolatest" xrefstyle="select:name"/>中，从 SUSE Linux Enterprise Server 11 SP2 升级到 SUSE Linux Enterprise Server 11 SP3，然后从 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP2 升级到 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP3。
  </para>

  <important>
   <title>滚动升级的时间限制</title>
   <para>
    只有在<emphasis>所有</emphasis>群集节点升级到最新产品版本后，才可使用 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP3 所具有的新功能。对于 SP2/SP3 并存的群集，其在滚动升级期间受支持的时间非常短暂。请在一周内完成滚动升级。
   </para>
  </important>
 </section>
  
  <section xml:id="sec-ha-migration-sle11-sp4">
   <title>从 SLE HA 11 SP3 升级到 SLE HA 11 SP4</title>
   
   <para>
    将现有群集从 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP3 迁移到 11 SP4 是通过<literal>滚动升级</literal>来完成的，具体与从版本 11 升级到 11 SP1 类似。
   </para>
   
   <para>
    使用以下偏差执行<xref linkend="pro-ha-migration-rolling-upgrade"/>中所述的步骤：在<xref linkend="step-ha-migration-upgrade-tolatest" xrefstyle="select:name"/>中，从 SUSE Linux Enterprise Server 11 SP3 升级到 SUSE Linux Enterprise Server 11 SP4，然后从 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP3 升级到 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP4。
   </para>
   
   <note xml:id="note-ha-cib-upgrade">
    <title>升级 CIB 语法版本</title>
    <para>标记（用于对资源分组）和某些 ACL 功能仅适用于 <literal>pacemaker-2.0</literal> 或更高的 CIB 语法版本。（要检查版本，请运行 <command>cibadmin -Q |grep validate-with</command>）。如果您已从 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP3 升级，则 CIB 版本默认<emphasis>不会</emphasis>升级。要手动升级到最新的 CIB 版本，请使用以下命令之一：</para>
    <screen><prompt role="root">root # </prompt>cibadmin --upgrade --force</screen>
    <para>或者</para>
    <screen><prompt role="root">root # </prompt>crm configure upgrade force</screen>
   </note>
   
   <important>
    <title>滚动升级的时间限制</title>
    <para>
     只有在<emphasis>所有</emphasis>群集节点升级到最新产品版本后，才可使用 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP4 所具有的新功能。对于 SP3/SP4 并存的群集，其在滚动升级期间受支持的时间非常短暂。请在一周内完成滚动升级。
    </para>
   </important>
  </section>
  
 </section>
 <section xml:id="sec-ha-update">
  <title>更新群集节点上的软件包</title>
  
  <warning>
   <title>在更新期间处于活动状态的群集堆栈</title>
   <para> 要更新运行中群集的成员节点上的任何软件包，请在启动软件更新前先<emphasis>停止</emphasis><emphasis>该节点上</emphasis>的群集堆栈。在某些情况下（请参见<xref linkend="il-ha-update-cond"/>），您也可以将群集置于维护模式（自 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 11 SP4 开始提供此模式）。 </para>
   <para>
    如果在软件更新期间，群集资源管理器所在节点处于活动状态，可能会导致不可预料的结果，例如活动的节点被屏蔽。
   </para>
  </warning>
  
  <para>
   在节点上安装任何包更新之前，请先确认以下问题：
  </para>
  
  <itemizedlist xml:id="il-ha-update-cond" mark="bullet" spacing="normal">
   <title>停止群集堆栈的条件</title>
   <listitem>
    <para>
     这种更新是否会影响属于 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> 或 Geo Clustering for SUSE Linux Enterprise High Availability Extension 外接式附件的任何包？如果是，请先在节点上停止群集堆栈，然后再开始软件更新。
    </para>
    <screen><prompt role="root">root # </prompt>rcopenais stop</screen>
   </listitem>
   <listitem>
    <para>
     包更新操作是否需要重引导计算机？如果是，请先在节点上停止群集堆栈，然后再开始软件更新：
    </para>
    <screen><prompt role="root">root # </prompt>rcopenais stop</screen>
   </listitem>
  </itemizedlist>
  
  <para>
   如果不属于上述任何一种情况，则不需要停止群集堆栈。在这种情况下，请将群集置于维护模式，然后开始软件更新：
  </para>
  
  <screen><prompt role="root">root # </prompt><command>crm</command> configure property maintenance-mode=true</screen>
  
  <para>
   有关维护模式的更多细节，请参见<xref linkend="sec-ha-config-basics-maint-mode"/>。
  </para>
  
  
  <para>
   成功安装更新后，请解除群集的维护模式：
  </para>
  
  <screen><prompt role="root">root # </prompt><command>crm</command> configure property maintenance-mode=true</screen>
  
  <para>
   或者使用以下命令在相应节点上重启动群集堆栈：
  </para>
  
  <screen><prompt role="root">root # </prompt>rcopenais start</screen>
 </section>
 
 <section xml:id="sec-ha-migration-more">
  <title>更多信息</title>

  <para>
   关您要升级到的产品的任何更改和新功能的详细信息，请参见其发行说明，所在网址为 <link xlink:href="https://www.suse.com/releasenotes/"/>。
  </para>
 </section>
</appendix>
