<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
    type="text/xml"
    title="Profiling step"
?>
<!DOCTYPE sect1
[
   <!ENTITY % entities SYSTEM "entity-decl.ent">
   %entities;
]>


<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<section xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1" xml:base="yast2_sw_repo.xml" xml:id="sec-y2-sw-instsource">
 <title>ソフトウェアリポジトリおよびサービスの操作</title>

 <para>
  サードパーティソフトウェアをインストールする場合は、追加のソフトウェアリポジトリをシステムに追加します。デフォルトでは、システムを登録すると、<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-DVD <phrase role="productname"><phrase os="sles;sled;slerte">11 SP4</phrase></phrase>や一致するアップデートリポジトリなどの製品リポジトリが自動的に設定されます。<phrase os="sles;sled;">登録の詳細については、<xref linkend="sec-i-yast2-conf-manual-cc"/>を参照してください。</phrase>最初に選択した製品によって、翻訳、辞書などを含む別個の言語アドオンリポジトリも、設定される場合があります。
 </para>

 <para>
  リポジトリを管理するには、YaSTを起動し、<menuchoice> <guimenu>ソフトウェア</guimenu><guimenu>ソフトウェアリポジトリ</guimenu></menuchoice>の順に選択します。<guimenu>設定されたソフトウェアリポジトリ</guimenu>ダイアログが開きます。ここで、ダイアログの右隅にある<guimenu>表示</guimenu>を<guimenu>すべてのサービス</guimenu>に変更することによって、いわゆる<guimenu>サービス</guimenu>の購読を管理することもできます。このコンテキストではサービスは、１つまたは複数のソフトウェアを提供できる<guimenu>Repository Index Service</guimenu> (RIS) です。この種のサービスは管理者またはベンダから動的に変更できます。
 </para>

 <para>
  各リポジトリは、リポジトリのコンテンツ(パッケージ名、バージョンなど)を説明したファイルを提供します。これらのリポジトリ記述ファイルは、YaSTで使用するローカルキャッシュにダウンロードされます。ソフトウェアリポジトリには、その整合性確認のため、リポジトリメンテナのGPGキーで署名することができます。新しいリポジトリを追加するたびに、YaSTでリポジトリのキーをインポートできます。
 </para>

 <warning>
  <title>外部ソフトウェアソースの信用</title>
  <para>
   外部ソフトウェアのリポジトリをリポジトリリストに追加する場合は、その前に、リポジトリを信頼できるかどうか確認してください。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>は、サードパーティーのソフトウェアリポジトリからインストールされたソフトウェアによって発生する可能性のあるどのような問題についても、責任を負いません。
  </para>
 </warning>

 <section xml:id="sec-y2-sw-instsource-add">
  <title>ソフトウェアリポジトリの追加</title>
  <para>
   リポジトリは、ローカルハードディスク、リムーバブルメディア(CD、DVD、USB大容量ディスクなど)、またはネットワークから追加できます。
  </para>
  <para>
   YaSTの<guimenu>設定されたソフトウェアリポジトリ</guimenu>ダイアログでリポジトリを追加するには、次の手順に従います。
  </para>
  <procedure>
   <step>
    <para>
     <guimenu>Add (追加)</guimenu>をクリックします。
    </para>
   </step>
   <step>
    <para>
     使用可能な<guimenu>メディアタイプ</guimenu>のリストから、リポジトリと一致するタイプを指定します。
    </para>
    <para>
     ネットワークソースの場合は、通常、デフォルトオプションの<guimenu>URLの指定</guimenu>を使用すれば十分です。
    </para>
    <para>
     リムーバブルメディアまたはローカルハードディスクからリポジトリを追加する場合は、該当するオプションを選択し、メディアを挿入するか、またはUSBデバイスをコンピュータに接続します。
    </para>
   </step>
   <step>
    <para>
     次は、<guimenu>リポジトリの説明をダウンロード</guimenu>を選択することができます。このオプションを選択しない場合は、YaSTが必要に応じて、後で自動的にダウンロードします。<guimenu>次へ</guimenu>をクリックします。
    </para>
   </step>
   <step>
    <para>
     ネットワークからリポジトリを追加する場合は、プロンプトで要求されるデータを入力します。<guimenu>次へ</guimenu>で続行します。
    </para>
   </step>
   <step>
    <para>
     追加したリポジトリによっては、署名用のGPGキーをインポートするかどうか尋ねられたり、ライセンスに同意することを要求される場合があります。
    </para>
    <para>
     これらのメッセージを確認すると、YaSTによってメタデータがダウンロードおよび解析され、リポジトリが<guimenu>設定済みリポジトリ</guimenu>のリストに追加されます。
    </para>
   </step>
   <step>
    <para>
     必要な場合は、<guimenu>プロパティ</guimenu>リポジトリを<xref linkend="sec-y2-sw-instsource-manage"/>の説明に従って調整するか、または<guimenu>OK</guimenu>で変更を確認して設定ダイアログを閉じます。
    </para>
   </step>
  </procedure>
  <para>
   次は、<xref linkend="sec-y2-sw-qt"/>で説明されているように、このリポジトリからソフトウェアをインストールすることができます。
  </para>
  
  
 </section>

 <section xml:id="sec-y2-sw-instsource-manage">
  <title>リポジトリプロパティの管理</title>
  <para>
   <guimenu>ソフトウェアリポジトリ</guimenu>の<guimenu>設定されたソフトウェアリポジトリ</guimenu>の概要では、次のリポジトリプロパティを変更できます。
  </para>
  <variablelist>
   <varlistentry>
    <term>ステータス</term>
    <listitem>
     <para>
      リポジトリのステータスは、<guimenu>有効</guimenu>または<guimenu>無効</guimenu>のどちらかです。有効なリポジトリからのパッケージだけをインストールできます。リポジトリを一時的にオフにするには、<guimenu>無効化</guimenu>をクリックします。リポジトリ名をダブルクリックして、その状態を切り替えることもできます。リポジトリを完全に削除したい場合は、<guimenu>削除</guimenu>をクリックします。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>更新</term>
    <listitem>
     <para>
      リポジトリを更新する際には、リポジトリの内容の説明(パッケージ名、バージョンなど)がYaSTで使用するローカルキャッシュにダウンロードされます。これは、CDやDVDなどの静的リポジトリでは1回で十分ですが、内容が頻繁に変更されるリポジトリでは頻繁な更新が必要です。リポジトリのキャッシュを最新の状態に保つ最も簡単な方法は、<guimenu>自動的に更新する</guimenu>の選択です。手動更新を行うには、<guimenu>更新</guimenu>をクリックして、オプションの1つを選択します。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>ダウンロードしたパッケージを維持します</guimenu>
    </term>
    <listitem>
     <para>
      インストールの前に、リモートリポジトリからのパッケージをダウンロードします。これらのパッケージは、デフォルトでは、インストールが正常に完了すると削除されます。<guimenu>ダウンロードしたパッケージを維持します</guimenu>を有効にすると、ダウンロードしたパッケージが削除されません。ダウンロードの場所は、 <filename>/etc/zypp/zypp.conf</filename>に設定されます。これは、デフォルトでは、<filename>/var/cache/zypp/packages</filename>です。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>優先度</guimenu>
    </term>
    <listitem>
     <para>
      リポジトリの<guimenu>優先度</guimenu>は、<literal>1</literal>～<literal>200</literal>の値です。ここで、<literal>1</literal>は最高の優先度、<literal>200</literal>は最低の優先度です。YaSTで追加した新しいリポジトリの優先度は、デフォルトで<literal>99</literal>です。特定のリポジトリに関して優先度値が何であってもよい場合は、値を<literal>0</literal>に設定しても、そのリポジトリにデフォルト優先度(<literal>99</literal>)を適用できます。パッケージが2つ以上のリポジトリにある場合は、優先度の最も高いリポジトリが優先して使用されます。これは、ローカルリポジトリ(たとえば、DVD)に高い優先度を与えることによって、インターネットから不必要にパッケージをダウンロードしないようにする場合に有用です。
     </para>
     <important>
      <title>優先度対バージョン</title>
      <para>
       優先度の最も高いリポジトリが、常に、優先されます。したがって、更新リポジトリが常に最高の優先度(デフォルトでは20)を持つようにしてください。さもないと、次のオンラインアップデートまで更新されない古いバージョンをインストールしてしまう可能性があります。
      </para>
      
     </important>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>名前とURL</term>
    <listitem>
     <para>
      リポジトリ名またはリポジトリのURLを変更するには、それをシングルクリックでリストから選択し、次に、<guimenu>編集</guimenu>をクリックします。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </section>

 <section xml:id="sec-y2-sw-repo-gpg-keys">
  <title>リポジトリキーの管理</title>
  <para>
   ソフトウェアリポジトリには、その整合性確認のため、リポジトリメンテナのGPGキーで署名することができます。新しいリポジトリを追加するたびに、そのキーをYaSTでインポートできます。そのキーを他の任意のGPGキーのように検証し、キーが変更されていないことを確認してください。キーの変更を見つけた場合は、リポジトリに何らかの問題がある可能性があります。キーの変更の原因を突き止めるまで、リポジトリをインストールソースとして無効にしてください。
  </para>
  <para>
   インポートしたすべてのキーを管理するには、<guimenu>設定されたソフトウェアリポジトリ</guimenu>ダイアログで、<guimenu>GPG鍵...</guimenu>をクリックします。マウスでエントリを選択して、ウィンドウ下部にキーのプロパティを表示します。<guimenu>追加</guimenu>、<guimenu>編集</guimenu>、または<guimenu>削除</guimenu>をクリックすることで、該当する操作をキーに対して実行します。
  </para>
 </section>
</section>
