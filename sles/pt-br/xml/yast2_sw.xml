<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN"
"novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="yast2_sw.xml" id="cha-y2-sw">
 <title>Instalando ou removendo software</title><indexterm> <primary>YaST</primary> <secondary>software</secondary> </indexterm> <indexterm> <primary>configurando</primary> <secondary>software</secondary> </indexterm>
 <abstract>
  <para>
   Use a ferramenta de gerenciamento de software do YaST para pesquisar os componentes de software que deseja adicionar ou remover. O YaST resolve todas as dependências para você. Para instalar pacotes que não acompanham a mídia de instalação, adicione outros repositórios de software à configuração e deixe que o YaST os gerencie. Mantenha seu sistema atualizado gerenciando as atualizações de software com o applet de atualização.
  </para>
 </abstract>
 <para os="sles">
  Mude a coleção de softwares do seu sistema com o Gerenciador de Software do YaST. Este módulo do YaST está disponível em dois tipos de kit de ferramentas: Qt e ncurses; o tipo Qt está descrito aqui.
 </para>
 
 
 <note>
  <title>Confirmação e revisão das mudanças</title>
  <para>
   Durante a instalação, atualização ou remoção de pacotes, qualquer mudança no Gerenciador de Software não será aplicada imediatamente, mas apenas após sua confirmação clicando em <guimenu>Aceitar</guimenu> ou <guimenu>Aplicar</guimenu> respectivamente. O YaST mantém uma lista com todas as ações, assim você pode revisar e fazer as mudanças antes de aplicá-las ao sistema.
  </para>
 </note>
 <sect1 id="sec-onlineupdate-terms">
  <title>Definição de termos</title>

  <variablelist>
   <varlistentry>
    <term>Repositório</term>
    <listitem>
     <para>
      Um diretório local ou remoto incluindo pacotes e informações adicionais sobre eles (metadados do pacote).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>(Repositório) Álias</term>
    <listitem>
     <para>
      Um nome curto para um repositório usado por vários comandos Zypper. O álias pode ser escolhido pelo usuário ao adicionar um repositório e deve ser exclusivo.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Produto</term>
    <listitem>
     <para>
      Representa um produto completo, por exemplo, o <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Padrão</term>
    <listitem>
     <para>
      Um padrão é um grupo instalável de pacotes dedicado a um fim específico. Por exemplo, o padrão <systemitem>Laptop</systemitem> inclui todos os pacotes necessários a um ambiente de computação móvel. Os padrões definem as dependências dos pacotes (como os pacotes necessários ou recomendados) e vêm com uma pré-seleção de pacotes marcados para instalação. Isso garante que os pacotes mais importantes necessários a determinado propósito fiquem disponíveis no sistema após a instalação do padrão. Entretanto, não necessariamente todos os pacotes em um padrão estão pré-selecionados para instalação, e você pode marcar ou desmarcá-los manualmente em um padrão, de acordo com as suas necessidades e a sua vontade.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Pacote</term>
    <listitem>
     <para>
      Um pacote é um arquivo compactado em formato <literal>rpm</literal> que inclui os arquivos de determinado programa.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Patch</term>
    <listitem>
     <para>
      Um patch consiste em um ou mais pacotes e pode ser aplicado por meio de deltarpms. Ele também pode introduzir dependências nos pacotes que ainda não estão instalados.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Resolvível</term>
    <listitem>
     <para>
      Um termo genérico para produto, padrão, pacote ou patch. O tipo de resolvível usado com mais frequência é um pacote ou um patch.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term>deltarpm</term>
    <listitem>
     <para>
      Deltarpm consiste apenas na diferença binária entre duas versões definidas de um pacote e, portanto, tem o menor tamanho de download. Antes de ser instalado, o pacote RPM completo é reconstruído na máquina local.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Dependências de pacotes</term>
    <listitem>
     <para>
      Determinados pacotes dependem de outros, como as bibliotecas compartilhadas. Em outros termos, o pacote pode <literal>exigir</literal> outros pacotes (se os pacotes necessários não estiverem disponíveis, o pacote não será instalado). Além das dependências (requisitos de pacotes) que devem ser atendidas, alguns pacotes <literal>recomendam</literal> outros pacotes. Esses pacotes recomendados são instalados apenas se estiverem realmente disponíveis; do contrário, eles serão ignorados e o pacote que os recomendou será instalado de qualquer maneira.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 id="sec-y2-sw-qt">
  <title>Usando a interface do KDE (Qt)</title>

  

  <para>
   A interface do Qt do YaST é iniciada por padrão ao usar as áreas de trabalho do KDE, icewm e outros. Ela também é usada quando o YaST é chamado de um terminal remoto. Inicie o gerenciador de software do  Centro de Controle do YaST escolhendo <menuchoice> <guimenu>Software</guimenu> <guimenu>Gerenciamento de Software</guimenu> </menuchoice>.
  </para>

  <informalfigure>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_sw_manager.png" width="70%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_sw_manager.png" width="65%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </informalfigure>

  <sect2 id="sec-y2-sw-search">
   <title>Telas para pesquisa de pacotes e padrões</title>
   <para>
    O gerenciador de software do YaST pode instalar pacotes ou padrões de todos os repositórios habilitados. Ele oferece diferentes telas e filtros para facilitar a localização do software que está procurando. A tela <guimenu>Pesquisa </guimenu> é a tela padrão da janela. Para mudar a tela, clique em <guimenu>Ver</guimenu> e selecione uma das seguintes entradas na lista suspensa. A tela selecionada é aberta em uma nova guia.
   </para>
   <variablelist>
    <varlistentry>
     <term>Padrões</term>
     <listitem>
      <para>
       Lista todos os padrões disponíveis para instalação em seu sistema.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Grupos de Pacotes</term>
     <listitem>
      <para>
       Lista todos os pacotes classificados por grupos, como <guimenu>Gráficos</guimenu>, <guimenu>Programação</guimenu> ou <guimenu>Segurança</guimenu>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Grupos RPM</term>
     <listitem>
      <para>
       Lista todos os pacotes classificados por funcionalidade, com grupos e subgrupos. Por exemplo <menuchoice> <guimenu>Rede</guimenu> <guimenu>E-mail</guimenu> <guimenu>Clientes</guimenu> </menuchoice>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Idiomas</term>
     <listitem>
      <para>
       Filtro que lista todos os pacotes necessários para adicionar um novo idioma de sistema.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Repositórios</term>
     <listitem>
      <para>
       Filtro que lista os pacotes por repositório. Para selecionar mais de um repositório, pressione e segure a tecla <keycap function="control"/> e clique nos nomes dos repositórios. O <quote>pseudo-repositório</quote> <guimenu>@System</guimenu> lista todos os pacotes instalados.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Pesquisa</term>
     <listitem>
      <para>
       Permite pesquisar um pacote de acordo com determinados critérios. Digite um termo de pesquisa e pressione <keycap function="enter"/>. Refine a sua pesquisa especificando o local para <guimenu>Pesquisar em</guimenu> e mudando o <guimenu>Modo de Pesquisa</guimenu>. Por exemplo, se você não sabe o nome do pacote, mas sabe o nome do aplicativo que está procurando, tente incluir a <guimenu>Descrição</guimenu> do pacote no processo de pesquisa.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Resumo da instalação</term>
     <listitem>
      <para>
       Caso já tenha selecionado os pacotes para instalação, atualização ou remoção, esta tela mostrará as mudanças que serão aplicadas ao sistema assim que você clicar em <guimenu>Aceitar</guimenu>. Para filtrar os pacotes com determinado status nesta tela, ative ou desative as respectivas caixas de seleção. Pressione <keycombo> <keycap function="shift"/> <keycap>F1</keycap> </keycombo> para ver os detalhes sobre os flags de status.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <tip>
    <title>Encontrando pacotes que não pertencem a um repositório ativo</title>
    <para>
     Para listar todos os pacotes que não pertencem a um repositório ativo, escolha <menuchoice> <guimenu>Ver</guimenu> <guimenu>Repositórios</guimenu> <guimenu>@System</guimenu> </menuchoice> e depois escolha <menuchoice> <guimenu>Filtro Secundário</guimenu> <guimenu>Pacotes Não Mantidos</guimenu></menuchoice>. Isso é útil, por exemplo, se você apagou um repositório e deseja saber se não restou nenhum pacote desse repositório instalado.
    </para>
   </tip>
  </sect2>

  <sect2 id="sec-y2-sw-install">
   <title>Instalando e removendo pacotes ou padrões</title>

   <para>
    Determinados pacotes dependem de outros, como as bibliotecas compartilhadas. Por outro lado, alguns pacotes não podem coexistir com outros no sistema. Se possível, o YaST resolverá automaticamente as dependências ou conflitos. Se a sua escolha resultar em um conflito de dependência que não puder ser automaticamente resolvido, você precisará resolvê-lo manualmente, conforme descrito na <xref linkend="sec-y2-sw-deps"/>.
   </para>
   <note>
    <title>Remoção de pacotes</title>
    <para>
     Ao remover qualquer pacote, por padrão, o YaST só remove os pacotes selecionados. Para que o YaST remova também todos os outros pacotes que forem desnecessários após a remoção de um pacote especificado, selecione <menuchoice> <guimenu>Opções</guimenu> <guimenu>Limpar ao apagar pacotes</guimenu> </menuchoice>.
    </para>
   </note>
   <procedure>
    <step performance="required">
     <para>
      Pesquise por pacotes conforme descrito na <xref linkend="sec-y2-sw-search"/>.
     </para>
    </step>
    <step performance="required">
     <para>
      Os pacotes encontrados são listados no painel direito. Para instalar um pacote ou removê-lo, clique o botão direito do mouse nele e escolha <guimenu>Instalar</guimenu> ou <guimenu>Apagar</guimenu>. Se a opção relevante não estiver disponível, verifique o status do pacote indicado pelo símbolo que fica na frente do nome do pacote. Pressione <keycombo> <keycap function="shift"/> <keycap>F1</keycap> </keycombo> para ver a Ajuda.
     </para>
     <tip>
      <title>Aplicando uma ação a todos os pacotes da lista</title>
      <para>
       Para aplicar uma ação a todos os pacotes listados no painel direito, escolha a ação em <menuchoice> <guimenu>Pacote</guimenu> <guimenu>Tudo Nesta Lista</guimenu> </menuchoice>.
      </para>
     </tip>
    </step>
    <step performance="required">
     <para>
      Para instalar um padrão, clique o botão direito do mouse no nome do padrão e escolha <guimenu>Instalar</guimenu>. 
     </para>
    </step>
    <step performance="required">
     <para>
      Não é possível remover o padrão propriamente dito. Em vez disso, selecione os pacotes do padrão que deseja remover e marque-os para remoção.
     </para>
    </step>
    <step performance="required">
     <para>
      Para selecionar mais pacotes, repita as etapas mencionadas anteriormente. 
     </para>
    </step>
    <step performance="required">
     <para>
      Antes de aplicar as mudanças, você pode revisá-las ou modificá-las clicando em <menuchoice> <guimenu>Ver</guimenu> <guimenu>Resumo de Instalação</guimenu> </menuchoice>. Por padrão, todos os pacotes que terão seu status modificado são listados. 
     </para>
    </step>
    <step performance="required">
     <para>
      Para reverter o status de um pacote, clique o botão direito do mouse no pacote e selecione uma das seguintes entradas: <guimenu>Manter</guimenu>, se o pacote foi programado para ser apagado ou atualizado, ou <guimenu>Não instalar</guimenu>, se ele foi programado para instalação. Para abandonar todas as mudanças e fechar o Gerenciador de Software, clique em <guimenu>Cancelar</guimenu> e <guimenu>Abandonar</guimenu>
     </para>
    </step>
    <step performance="required">
     <para>
      Quando tiver concluído, clique em <guimenu>Aceitar</guimenu> para aplicar as mudanças.
     </para>
    </step>
    <step performance="required">
     <para>
      Se o YaST encontrar dependências em outros pacotes, será apresentada uma lista dos pacotes que foram escolhidos adicionalmente para instalação, atualização ou remoção. Clique em <guimenu>Continuar</guimenu> para aceitá-los.
     </para>
     <para>
      Após a instalação, atualização ou remoção de todos os pacotes selecionados, o Gerenciador de Software do YaST será terminado automaticamente.
     </para>
    </step>
   </procedure>
   <note>
    <title>Instalando pacotes de fonte</title>
    <para>
     Não é possível instalar pacotes de origem com o Gerenciador de Software do YaST. Use a ferramenta de linha de comando <command>zypper</command> para esse procedimento.  Para obter mais informações, consulte a <xref linkend="sec-zypper-softman-sources"/>.
    </para>
   </note>
  </sect2>

  <sect2 id="sec-y2-sw-update">
   <title>Atualizando Pacotes</title>
   <para>
    Em vez de atualizar pacotes individuais, você pode também atualizar todos os pacotes instalados ou todos os pacotes de determinado repositório. Ao atualizar pacotes em massa, geralmente os seguintes aspectos são considerados:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      prioridades dos repositórios que fornecem o pacote,
     </para>
    </listitem>
    <listitem>
     <para>
      arquitetura do pacote (por exemplo, x86_64, i686, i586),
     </para>
    </listitem>
    <listitem>
     <para>
      número da versão do pacote,
     </para>
    </listitem>
    <listitem>
     <para>
      fornecedor do pacote.
     </para>
    </listitem>
   </itemizedlist>
   <para>
    O aspecto que tem a maior importância na escolha das atualizações candidatas depende da respectiva opção de atualização escolhida.
   </para>
   <procedure>
    <step performance="required">
     <para>
      Para atualizar todos os pacotes instalados para a versão mais recente, escolha <menuchoice> <guimenu>Pacote</guimenu> <guimenu>Todos os Pacotes</guimenu> <guimenu>Atualizar se houver versão mais nova disponível</guimenu> </menuchoice> no menu principal.
     </para>
     <para>
      Todos os repositórios são marcados para as possíveis atualizações candidatas, usando a seguinte política: o YaST primeiro tenta restringir a pesquisa aos pacotes com a mesma arquitetura e fornecedor do pacote instalado. Se a pesquisa for positiva, a <quote>melhor</quote> atualização candidata será selecionada de acordo com o processo a seguir. No entanto, se não for encontrado nenhum pacote comparativo do mesmo fornecedor, a pesquisa será expandida a todos os pacotes com a mesma arquitetura. Se ainda assim nenhum pacote comparativo for encontrado, todos os pacotes serão considerados e a <quote>melhor</quote> atualização candidata será selecionada de acordo com os seguintes critérios:
     </para>
     <orderedlist spacing="normal">
      <listitem>
       <para>
        Prioridade do repositório: Preferência ao pacote do repositório que tem a prioridade mais alta.
       </para>
      </listitem>
      <listitem>
       <para>
        Se essa seleção resultar em mais de um pacote, escolha o que tem a <quote>melhor</quote> arquitetura (melhor opção: corresponder à arquitetura do pacote instalado; do contrário: x86_64 &gt; i686 &gt; i586).
       </para>
      </listitem>
     </orderedlist>
     <para>
      Se o pacote resultante tiver um número de versão maior do que o pacote instalado, o pacote instalado será atualizado e substituído pela atualização candidata selecionada.
     </para>
     <para>
      Essa opção tenta evitar as mudanças na arquitetura e no fornecedor dos pacotes instalados; porém, sob determinadas circunstâncias, elas serão toleradas.
     </para>
     <note>
      <title>Atualizar sempre</title>
      <para>
       Em vez disso, se você escolher <menuchoice> <guimenu>Pacote</guimenu> <guimenu>Todos os Pacotes</guimenu> <guimenu>Atualizar sempre</guimenu> </menuchoice>, basicamente os mesmos critérios serão aplicados, mas o pacote candidato encontrado será sempre instalado. Portanto, essa opção pode levar à instalação de uma versão menos eficiente de alguns pacotes.
      </para>
     </note>
    </step>
    <step performance="required">
     <para>
      Para verificar se os pacotes de uma atualização em massa vêm de determinado repositório:
     </para>
     <substeps performance="required">
      <step performance="required">
       <para>
        Escolha o repositório do qual será feita a atualização, conforme descrito na <xref linkend="sec-y2-sw-search"/> .
       </para>
      </step>
      <step performance="required">
       <para>
        Na lateral direita da janela, clique em <guimenu>Comutar pacotes do sistema para as versões neste repositório</guimenu>. Isso permitirá explicitamente ao YaST mudar o fornecedor do pacote quando os pacotes forem substituídos.
       </para>
       <para>
        Assim que você clicar em <guimenu>Aceitar</guimenu> para prosseguir, todos os pacotes instalados serão substituídos pelos pacotes derivados desse repositório, se disponível. Isso pode levar a mudanças no fornecedor e na arquitetura e, até mesmo, à instalação de uma versão menos eficiente de alguns pacotes.
       </para>
      </step>
      <step performance="required">
       <para>
        Para que isso não aconteça, clique em <guimenu>Cancelar comutação de pacotes do sistema para versões no repositório</guimenu>. Observe que você só pode cancelar essa opção antes de clicar no botão <guimenu>Aceitar</guimenu>.
       </para>
      </step>
     </substeps>
    </step>
    <step performance="required">
     <para>
      Antes de aplicar as mudanças, você pode revisá-las ou modificá-las clicando em <menuchoice> <guimenu>Ver</guimenu> <guimenu>Resumo de Instalação</guimenu> </menuchoice>. Por padrão, todos os pacotes que terão seu status modificado são listados. 
     </para>
    </step>
    <step performance="required">
     <para>
      Se todas as opções forem definidas de acordo com a sua vontade, confirme as mudanças clicando em <guimenu>Aceitar</guimenu> para iniciar a atualização em massa.
     </para>
    </step>
   </procedure>
  </sect2>





  <sect2 id="sec-y2-sw-deps">
   <title>Verificando as dependências de software</title>
   <para>
    A maioria dos pacotes é dependente de outros. Se um pacote, por exemplo, usa uma biblioteca compartilhada, ele é dependente do pacote que fornece essa biblioteca. Por outro lado, alguns pacotes não podem coexistir entre si, provocando um conflito (por exemplo, só é possível instalar um Mail Transfer Agent: sendmail ou postfix). Ao instalar ou remover software, o Gerenciador de Software verifica se não há dependências ou conflitos não resolvidos para assegurar a integridade do sistema.
   </para>
   <para>
    Caso exista apenas uma solução para resolver uma dependência ou um conflito, eles serão resolvidos automaticamente. Várias soluções podem causar conflito que precisa ser resolvido manualmente. Se a solução de um conflito envolver mudança de fornecedor ou arquitetura, também será preciso resolver manualmente. Ao clicar em <guimenu>Aceitar</guimenu> para aplicar qualquer mudança no Gerenciador de Software, será exibida uma visão geral de todas as ações realizadas pelo resolver automático, que você precisará confirmar.
   </para>
   <para>
    Por padrão, as dependências são verificadas automaticamente. A verificação é realizada sempre que você muda o status de um pacote (por exemplo, marcando o pacote para instalação ou remoção). Esse recurso em geral é útil, mas pode se tornar exaustivo quando um conflito de dependência é resolvido manualmente. Para desabilitar essa função, desmarque <menuchoice> <guimenu>Dependências</guimenu> <guimenu>Verificar Automaticamente</guimenu> </menuchoice>. Faça a verificação manual de uma dependência clicando em <menuchoice> <guimenu>Dependências</guimenu> <guimenu>Verificar Agora</guimenu></menuchoice>. A verificação de consistência é sempre realizada quando você confirma sua seleção pelo botão <guimenu>Aceitar</guimenu>.
   </para>
   <para>
    Para revisar as dependências de um pacote, clique o botão direito do mouse nele e escolha <guimenu>Mostrar informações do solver</guimenu>. Aparece um mapa mostrando as dependências. Os pacotes já instalados aparecem em um frame verde.
   </para>
   <note>
    <title>Resolvendo Conflitos de Pacote Manualmente</title>
    <para>
     A menos que você tenha bastante experiência, siga as sugestões do YaST quanto à solução de conflitos de pacote; do contrário, talvez não seja possível resolvê-los. Lembre-se de que toda mudança feita possivelmente gera outros conflitos, portanto, você pode acabar com um número crescente de conflitos. Se isso acontecer, você deverá <guimenu>Cancelar</guimenu> o Gerenciador de Software, <guimenu>Abandonar</guimenu> todas as mudanças e iniciar novamente.
    </para>
   </note>
   <figure id="fig-y2-sw-packconfl">
    <title>Gerenciamento de conflitos do Gerenciador de Software</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast2_package_conflict.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast2_package_conflict.png" width="65%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>
 </sect1>
 
 <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="yast2_sw_repo.xml" parse="xml"/>
 <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="opensuseupdater.xml" parse="xml"/>
</chapter>
