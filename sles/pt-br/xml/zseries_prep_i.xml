<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
    type="text/xml"
    title="Profiling step"
?>
<!DOCTYPE sect1
[
   <!ENTITY % entities SYSTEM "entity-decl.ent">
   %entities;
]>


<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<section xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1" xml:base="zseries_prep_i.xml" xml:id="sec-zseries-prep">
 <title>Preparando para a instalação</title>

 <para>
  Nesta seção, aprenda como tornar os dados acessíveis para instalação, instalar o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> usando métodos diferentes, preparar e usar a reinicialização (IPL) do sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. Também saberá mais sobre configuração e instalação de rede.
 </para>

 <section xml:id="sec-prep-makeavail">
  <title>Disponibilizando os dados de instalação</title><indexterm> <primary>preparando</primary> <secondary>disponibilizando os dados de instalação</secondary> </indexterm> <indexterm> <primary>tornando os dados de instalação disponíveis</primary> </indexterm>
  <para>
   Esta seção apresenta informações detalhadas para tornar os dados de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> para IBM System z acessíveis para instalação. Dependendo do seu computador e ambiente de sistema, escolha entre a instalação via NFS ou FTP. Se estiver executando estações de trabalho Microsoft Windows em seu ambiente, você também poderá usar a rede Windows (inclusive o protocolo SMB) para instalar o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> no sistema IBM System z.
  </para>
  <tip>
   <title>Reinicialização (IPL) do DVD</title>
   <para>
    A partir do Service Pack 1 do SUSE Linux Enterprise Server Versão 10, é possível reinicializar (IPL) do DVD e usar o DVD como meio de instalação. Isso é muito prático quando você tem restrições de configuração do servidor de instalação que fornece as mídias de instalação pela rede. O pré-requisito é uma unidade de DVD SCSI conectada a FCP.
   </para>
  </tip>
  <note>
   <title>Sem instalação <quote>do disco rígido</quote></title>
   <para>
    Não é possível instalar por disco rígido inserindo o conteúdo do DVD em uma partição no DASD.
   </para>
  </note>
  <section xml:id="sec-prep-makeavail-linuxws">
   <title>Usando uma estação de trabalho Linux ou o DVD do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase></title><indexterm> <primary>disponibilizando os dados de instalação</primary> <secondary>estação de trabalho Linux</secondary> </indexterm>
   <para>
    Se houver uma estação de trabalho Linux em execução no seu computador, use-a para enviar os dados de instalação ao processo de instalação do IBM System z por NFS ou FTP. Se a estação de trabalho Linux for executada no <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, você poderá configurar o servidor de instalação (NFS ou FTP) usando o módulo do YaST <guimenu>Servidor de Instalação</guimenu>, conforme descrito na <xref linkend="sec-deployment-remoteinst-instserver-sles9"/>.
   </para>
   <section xml:id="sec-prep-makeavail-linuxws-nfs">
    <title>Por NFS</title>
    <para>
     Use o NFS (sistema de arquivos de rede) para tornar a mídia de instalação disponível.
    </para>
    <important>
     <title>Exportando dispositivos montados com o NFS</title>
     <para>
      A exportação da raiz do sistema de arquivos (<filename>/</filename>) não implica exportar dispositivos montados, como DVD. Nomeie explicitamente o ponto de montagem em <filename>/etc/exports</filename>:
     </para>
     <screen>/media/dvd  *(ro)</screen>
     <para>
      Após mudar esse arquivo, reinicie o servidor NFS com o comando <command>rcnfsserver</command> <option>restart</option>.
     </para>
    </important>
   </section>
   <section xml:id="sec-prep-makeavail-linuxws-ftp">
    <title>Por FTP</title>
    <para>
     A configuração de um servidor FTP em um sistema Linux envolve a instalação do software do servidor, como wuftpd ou proftpd, assim como outras tarefas de configuração possíveis. A etapa de instalação com o YaST é direta: selecione o pacote a ser instalado e inicie a instalação. Ignore a configuração do servidor FTP se nenhum FTP anônimo tiver de ser usado para a instalação. Em vez disso, use um login de FTP com nome de usuário e senha válidos. Convém criar uma conta de usuário apenas para essa tarefa. O daemon do FTP não precisa ser iniciado manualmente. Pode ser iniciado por inetd se for solicitada uma conexão FTP. Para ativar as novas configurações, digite <command>rcinetd</command> <option>restart</option> ou <command>rcxinetd</command> <option>restart</option>.
    </para>
   </section>
   <section xml:id="sec-prep-makeavail-linuxws-oncd">
    <title><phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> no DVD</title>
    <para>
     O DVD1 do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> para IBM System z contém uma imagem do Linux inicializável para estações de trabalho baseadas em Intel e uma imagem para o System z.
    </para>
    <para>
     Para as estações de trabalho baseadas em Intel, inicialize desse DVD, responda às perguntas relativas ao seu idioma e layout de teclado e selecione <guimenu>Iniciar sistema de resgate</guimenu>. Você precisa de pelo menos 64 MB de RAM para isso. Nenhum espaço em disco é necessário porque todo o sistema de recuperação reside na RAM da estação de trabalho. Este método requer alguma experiência com Linux e rede, porque você precisa configurar a rede da estação de trabalho manualmente.
    </para>
    <para>
     Para o System z, reinicialize (IPL) seu convidado LPAR/VM por esse DVD, conforme descrito na <xref linkend="sec-prep-ipling-lpar-dvd"/>. Após digitar seus parâmetros de rede, o sistema de instalação tratará o DVD como a origem dos dados de instalação. Como o System z não pode ter um terminal compatível com X11 diretamente conectado, escolha entre a instalação por VNC ou SSH. O SSH também oferece uma instalação gráfica através do túnel da conexão X por meio de SSH com <command>ssh -X</command>.
    </para>
   </section>
  </section>
  <section xml:id="sec-prep-makeavail-windowsws">
   <title>Usando uma estação de trabalho do Microsoft Windows</title><indexterm> <primary>disponibilizando os dados de instalação</primary> <secondary>estação de trabalho Windows</secondary> </indexterm>
   <para>
    Se houver uma estação de trabalho Microsoft Windows disponível na sua rede, use esse computador para tornar a mídia de instalação disponível. A maneira mais fácil de fazer isso é usando o protocolo SMB, já incluído no sistema operacional Windows. Verifique se você ativou <guimenu>SMB over TCP/IP</guimenu> (SMB sobre TCP/IP) já que habilita o encapsulamento de pacotes SMB em pacotes TCP/IP. Os detalhes podem ser encontrados na ajuda online do Windows ou em outra documentação relacionada ao Windows que aborde redes. Outra opção é usar FTP. Isso também requer algum software de terceiros para Windows.
   </para>
   <section xml:id="sec-prep-makeavail-windowsws-smb">
    <title>Com SMB</title>
    <para>
     Para tornar a mídia de instalação disponível via SMB, insira o DVD 1 do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> na unidade de DVD da estação de trabalho Windows. Em seguida, crie um novo compartilhamento usando a letra da unidade de DVD-ROM e disponibilize-a para todos na rede.
    </para>
    
    <para>O caminho de instalação no YaST pode ser:</para>
    <screen>smb://<replaceable>DOMAIN</replaceable>;<replaceable>USER</replaceable>:<replaceable>PW</replaceable>@<replaceable>SERVERNAME</replaceable>/<replaceable>SHAREPATH</replaceable></screen>
     <para>Em que os marcadores significam:</para>
     <variablelist>
       <varlistentry>
         <term><replaceable>DOMAIN</replaceable></term>
         <listitem>
           <para>Grupo de trabalho opcional ou domínio de diretório ativo.</para>
         </listitem>
       </varlistentry>
       <varlistentry>
         <term><replaceable>USER</replaceable></term><term><replaceable>PW</replaceable></term>
         <listitem>
           <para>Nome de usuário e senha opcionais de um usuário com acesso a esse servidor e seu compartilhamento.</para>
         </listitem>
       </varlistentry>
       <varlistentry>
         <term><replaceable>SERVERNAME</replaceable></term>
         <listitem>
           <para>O nome do servidor que hospeda o(s) compartilhamento(s).</para>
         </listitem>
       </varlistentry>
       <varlistentry>
         <term><replaceable>SHAREPATH</replaceable></term>
         <listitem>
           <para>O caminho para o(s) compartilhamento(s).</para>
         </listitem>
       </varlistentry>
     </variablelist>
     
     
     <para/>
    
     
   </section>
   <section xml:id="sec-prep-makeavail-windowsws-nfs">
    <title>Com NFS</title>
    <para>
     Consulte a documentação fornecida com o produto de terceiros que habilita os serviços do servidor NFS para a estação de trabalho do Windows. A unidade de DVD-ROM usada para os DVDs do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> deve estar no caminho do NFS disponível.
    </para>
   </section>
   <section xml:id="sec-prep-makeavail-windowsws-ftp">
    <title>Com FTP</title>
    <para>
     Consulte a documentação fornecida com o produto de terceiros que habilita os serviços do servidor FTP para a estação de trabalho do Windows. A unidade de DVD-ROM usada para os DVDs do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> deve estar no caminho do FTP disponível.
    </para>
    <para>
     O servidor FTP que acompanha algumas versões do Microsoft Windows implementa apenas um subconjunto do conjunto de comandos do FTP e não é adequado para fornecimento dos dados de instalação. No entanto, outros produtos (como o servidor FTP que faz parte do Hummingbird Exceed ou do WAR-FTPD) foram relatados como funcionais.
    </para>
   </section>
   <section>
    <title>Usando uma unidade de DVD SCSI conectada a FCP</title>
    <para>
     Depois que você preparar a IPL do DVD SCSI conforme descrito na <xref linkend="sec-info-iplopt-dvd"/>, o sistema de instalação usará o DVD como a mídia de instalação. Nesse caso, você não precisará da mídia de instalação em um servidor FTP, NFS ou SMB. Entretanto, você precisa dos dados de configuração de rede para o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, pois deve configurar a rede durante a instalação para realizar uma instalação gráfica por VNC ou por X canalizada por SSH.
    </para>
   </section>
  </section>
  <section xml:id="sec-prep-makeavail-zpxe-cobbler">
   <title>Usando um servidor Cobbler para o zPXE</title>
   <para>
    A reinicialização (IPL) da rede requer um servidor Cobbler para fornecer o kernel, o initrd e os dados de instalação. A preparação do servidor Cobbler requer quatro etapas:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      Importação dos dados de instalação
     </para>
    </listitem>
    <listitem>
     <para>
      Adição de uma distribuição
     </para>
    </listitem>
    <listitem>
     <para>
      Adição de perfis
     </para>
    </listitem>
    <listitem>
     <para>
      Adição de sistemas
     </para>
    </listitem>
   </itemizedlist>
   
   <section xml:id="sec-prep-makeavail-zpxe-cobbler-import">
    <title>Importação dos dados de instalação</title>
    <para>
     A importação da mídia exige uma fonte de instalação disponível no servidor Cobbler, seja de DVD ou de uma fonte de rede. Execute o seguinte comando para importar os dados:
    </para>
    <screen>cobbler import --path=<replaceable>PATH</replaceable><co xml:id="cobbler-import-path"/> --name=<replaceable>IDENTIFIER</replaceable><co xml:id="cobbler-import-dirname"/> --arch=s390x</screen>
    <calloutlist>
     <callout arearefs="cobbler-import-path">
      <para>
       Ponto de montagem dos dados de instalação.
      </para>
     </callout>
     <callout arearefs="cobbler-import-dirname">
      <para>
       Uma string que identifica o produto importado, por exemplo <quote>sles11_sp3_s390x</quote>. Essa string é usada como o nome do subdiretório no qual os dados da instalação são copiados. No servidor Cobbler executado no SUSE Linux Enterprise, trata-se do <filename>/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFICADOR</replaceable></filename>. Esse caminho poderá ser diferente se o Cobbler for executado em outro sistema operacional.
      </para>
     </callout>
    </calloutlist>
   </section>
   <section xml:id="sec-prep-makeavail-zpxe-cobbler-add-distro">
    <title>Adição de uma distribuição</title>
    <para>
     Adicionando uma distribuição, você solicita ao Cobbler para fornecer o kernel e o initrd necessários para reinicialização (IPL) via zPXE. Execute o seguinte comando no servidor Cobbler para adicionar o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> para IBM System z:
    </para>
    <screen>cobbler distro add --arch=s390x --breed=suse --name="<replaceable>IDENTIFIER</replaceable>"<co xml:id="cobbler-add-identifier"/> \
  --os-version=sles10<co xml:id="cobbler-add-os"/> \
  --initrd=/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>/boot/s390x/initrd<co xml:id="cobbler-add-initrd"/> \
  --kernel=/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>/boot/s390x/vmrdr.ikr<co xml:id="cobbler-add-kernel"/> \
  --kopts="install=http://cobbler.example.com/cobbler/ks_mirror/<replaceable>IDENTIFIER</replaceable>"<co xml:id="cobbler-add-server"/>
    </screen>
    <calloutlist>
     <callout arearefs="cobbler-add-identifier">
      <para>
       Identificador personalizado para a distribuição, por exemplo <quote>SLES <phrase role="productname"><phrase os="sles;sled;slerte">11 SP4</phrase></phrase> System z</quote>. Deve ser exclusivo.
      </para>
     </callout>
     <callout arearefs="cobbler-add-os">
      <para>
       Identificador do sistema operacional. Use <literal>sles10</literal>.
      </para>
     </callout>
     <callout arearefs="cobbler-add-initrd">
      <para>
       Caminho para o initrd. A primeira parte do caminho (<filename>/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFICADOR</replaceable>/</filename>) depende do local para onde o Cobbler importou os dados e do nome do subdiretório escolhido na hora de importar os dados de instalação.
      </para>
     </callout>
     <callout arearefs="cobbler-add-kernel">
      <para>
       Caminho para o kernel. A primeira parte do caminho (<filename>/srv/www/cobbler/ks_mirror/<replaceable>IDENTIFICADOR</replaceable>/</filename>) depende do local para onde o Cobbler importou os dados e do nome do subdiretório escolhido na hora de importar os dados de instalação.
      </para>
     </callout>
     <callout arearefs="cobbler-add-server">
      <para>
       URL para o diretório de instalação no servidor Cobbler.  
      </para>
     </callout>
    </calloutlist>
   </section>
  </section>
  
  <section xml:id="sec-prep-makeavail-zpxe-cobbler-profile">
   <title>Adição de perfis</title>
   <para>
    Com um perfil, é possível adicionar outras opções à distribuição; por exemplo, adicionar um arquivo do AutoYaST para uma instalação automatizada. Você pode especificar vários perfis por distribuição; no mínimo um deve ser criado.
   </para>
   <screen>cobbler profile add
   --name=<replaceable>PROFILENAME</replaceable><co xml:id="cobbler-profile-name"/> --distro=<replaceable>DISTRIBUTION</replaceable><co xml:id="cobbler-profile-distro"/> --kickstart=<replaceable>PATH_TO_AUTOYAST_FILE</replaceable><co xml:id="cobbler-profile-kickstart"/></screen>
   <calloutlist>
    <callout arearefs="cobbler-profile-name">
     <para>
      Nome exclusivo do perfil.
     </para>
    </callout>
    <callout arearefs="cobbler-profile-distro">
     <para>
      Distribuição à qual o perfil deve se aplicar. Use a string especificada com <option>--name=<replaceable>IDENTIFICADOR</replaceable></option> na etapa de importação aqui.
     </para>
    </callout>
    <callout arearefs="cobbler-profile-kickstart">
     <para>
      Especifique o caminho para o arquivo do AutoYaST de uma instalação automatizada aqui. Este parâmetro é opcional.
     </para>
    </callout>
   </calloutlist>
  </section>
  
  <section xml:id="sec-prep-makeavail-zpxe-cobbler-system">
   <title>Adição de sistemas</title>
   <para>
    A última etapa necessária é adicionar sistemas ao servidor Cobbler. A adição do sistema deve ser feita para cada convidado do System z que tenha que ser inicializado pelo zPXE. Os convidados são identificados por seu ID de usuário z/VM (no exemplo a seguir, é assumido um ID chamado <quote>LINUX01</quote>). Para adicionar um sistema, execute o seguinte comando:
   </para>

   <screen>cobbler system add --name=LINUX01 --hostname=linux01.example.com \
--ip=192.168.2.103 --subnet=192.168.2.255 --netmask=255.255.255.0 \
--name-servers=192.168.1.116 --name-servers-search=example.com \
--gateway=192.168.2.1 --kopts="<replaceable>KERNEL_OPTIONS</replaceable>"</screen>

   <para>
    Com a opção <option>--kopts</option>, é possível especificar o kernel e os parâmetros de instalação que você normalmente especifica no parmfile. Os parâmetros são inseridos como uma lista separada por espaço no formato <replaceable>PARÂMETRO1=VALOR1 PARÂMETRO2=VALOR2</replaceable>. O instalador solicitará os parâmetros ausentes. Para uma instalação completamente automatizada, você precisa especificar todos os parâmetros para o projeto de rede, os DASDs e fornecer um arquivo do AutoYaST. Veja a seguir um exemplo de um convidado equipado com uma interface OSA que usa os mesmos parâmetros de rede mencionados acima.
   </para>
   <screen>--kopts=" \
AutoYaST=http://192.168.0.5/autoinst.xml \
Hostname=linux01.example.com \
Domain=example.com \
HostIP=192.168.2.103 \
Gateway=192.168.2.1 \
Nameserver=192.168.1.116 \
Searchdns=example.com \
InstNetDev=osa; \
Netmask=255.255.255.0 \
Broadcast=192.168.2.255 \
OsaInterface=qdio \
OsaMedium=eth \
Layer2=0 \
PortNo=0 \
ReadChannel=0.0.0600 \
WriteChannel=0.0601 \
DataChannel=0.0.0602 \
Portname=DT70 \
DASD=600"</screen>
  </section>
 </section>

 <section xml:id="sec-prep-inst-types">
  <title>Tipos de instalação</title><indexterm> <primary>instalação</primary> <secondary>LPAR</secondary> </indexterm> <indexterm> <primary>instalação</primary> <secondary>z/VM</secondary> </indexterm>
  <para>
   Esta seção apresenta informações sobre as etapas que devem ser realizadas para instalar o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> para cada modo de instalação e onde encontrar as informações apropriadas. Após realizar as preparações mencionadas nos capítulos anteriores, siga a visão geral do modo de instalação desejado para instalar o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> no sistema.
  </para>
  <para>
   Conforme descrito na <xref linkend="sec-prep-makeavail"/>, há dois modos de instalação diferentes para Linux no IBM System z:
  </para>
  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     Instalação LPAR
    </para>
   </listitem>
   <listitem>
    <para>
     Instalação z/VM
    </para>
   </listitem>
  </itemizedlist>
  <procedure xml:id="pro-prep-inst-types-lpar">
   <title>Visão geral da instalação da LPAR</title><indexterm> <primary>instalação LPAR</primary> <secondary>visão geral</secondary> </indexterm>
   <step>
    <para>
     Prepare os dispositivos necessários para instalação. Consulte a <xref linkend="sec-prep-prep-ipl-natlpar"/>.
    </para>
   </step>
   <step>
    <para>
     Reinicialize (IPL) o sistema de instalação. Consulte a <xref linkend="sec-prep-ipling-lpar"/>.
    </para>
   </step>
   <step>
    <para>
     Configure a rede. Consulte a <xref linkend="sec-prep-netcfg"/>.
    </para>
   </step>
   <step>
    <para>
     Conecte-se ao sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. Consulte a <xref linkend="sec-prep-connect"/>.
    </para>
   </step>
   <step>
    <para>
     Inicie a instalação usando o YaST e reinicialize (IPL) o sistema instalado. Consulte o <xref linkend="cha-inst"/>.
    </para>
   </step>
  </procedure>
  <procedure xml:id="pro-prep-inst-types-vm">
   <title>Visão geral da instalação z/VM</title><indexterm> <primary>instalação z/VM</primary> <secondary>visão geral</secondary> </indexterm>
   <step>
    <para>
     Prepare os dispositivos necessários para instalação. Consulte a <xref linkend="sec-prep-prep-ipl-vm"/>.
    </para>
   </step>
   <step>
    <para>
     Reinicialize (IPL) o sistema de instalação. Consulte a <xref linkend="sec-prep-ipling-vm"/>.
    </para>
   </step>
   <step>
    <para>
     Configure a rede. Consulte a <xref linkend="sec-prep-netcfg-vm"/>.
    </para>
   </step>
   <step>
    <para>
     Conecte-se ao sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. Consulte a <xref linkend="sec-prep-connect"/>.
    </para>
   </step>
   <step>
    <para>
     Inicie a instalação usando o YaST e reinicialize (IPL) o sistema instalado. Consulte o <xref linkend="cha-inst"/>.
    </para>
   </step>
  </procedure>
 </section>

 <section xml:id="sec-prep-prep-ipl">
  <title>Preparando a reinicialização (IPL) do sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase></title>
  <para/>
  <section xml:id="sec-prep-prep-ipl-natlpar">
   <title>Instalação LPAR</title><indexterm> <primary>instalação LPAR</primary> <secondary>preparando o IPL</secondary> </indexterm> <indexterm> <primary>preparando o IPL</primary> <secondary>instalação LPAR</secondary> </indexterm>
   <para>
    Configure o sistema IBM System z para ser iniciado no modo ESA/S390 ou apenas LINUX com o perfil de ativação e o IOCDS apropriados. Consulte a documentação da IBM para obter mais dados sobre como realizar essa tarefa.
   </para>
   <section xml:id="sec-prep-prep-ipl-natlpar-iocds">
    <title>IOCDS: anexando e configurando dispositivos</title>
    <para>
     A instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> precisa de pelo menos dois dispositivos: um DASD e um dispositivo de conexão de rede. Para executar o IPL a partir de uma fita, um dispositivo de fita também deve estar acessível. Dispositivos são configurados e anexados a um LPAR no IOCDS (input output configuration data set — conjunto de dados de configuração de entrada saída). Este exemplo define um DASD, um dispositivo de rede OSA-2 e um dispositivo de fita para LPAR Z1. Para obter mais informações sobre como configurar o IOCDS para Linux, consulte a documentação do hardware IBM da sua máquina.
    </para>
    <example xml:id="ex-prep-prep-ipl-natlpar-iocds">
     <title>Um exemplo de IOCDS</title>
     <screen>CHPID PATH=(CSS(0),FD),PCHID=120,TYPE=FC
CHPID PATH=(CSS(0),FE),PCHID=320,TYPE=OSD
CHPID PATH=(CSS(0),10),PCHID=3A0,TYPE=CNC

CNTLUNIT CUNUMBR=FD00,PATH=((CSS(0),FD)),UNITADD=((00,1)),UNIT=2105
IODEVICE ADDRESS=(FD00,1),CUNUMBR=(FD00),UNIT=3390B,UNITADD=00

CNTLUNIT CUNUMBR=FE20,PATH=((CSS(0),FE)),UNIT=OSA
IODEVICE ADDRESS=(FE20,1),CUNUMBR=(FE20),UNIT=OSA
IODEVICE ADDRESS=(FEFE,1),CUNUMBR=(FE20),UNIT=OSAD

CNTLUNIT CUNUMBR=100A,PATH=((CSS(0),10)),UNIT=3480,UNITADD=((0A,1))
IODEVICE ADDRESS=(100A,1),CUNUMBR=(100A),UNIT=3480,UNITADD=00</screen>
    </example>
    <para>
     Prossiga com a <xref linkend="sec-prep-ipling-lpar"/>.
    </para>
   </section>
  </section>
  <section xml:id="sec-prep-prep-ipl-vm">
   <title>Instalação z/VM</title><indexterm> <primary>instalação z/VM</primary> <secondary>preparando o IPL</secondary> </indexterm> <indexterm> <primary>preparando o IPL</primary> <secondary>instalação z/VM</secondary> </indexterm>
   <section xml:id="sec-prep-prep-ipl-vm-linux-guest">
    <title>Adicionando um convidado Linux</title><indexterm> <primary>instalação z/VM</primary> <secondary>convidado Linux</secondary> </indexterm>
    <para>
     A primeira etapa é anexar e formatar um ou vários DASDs no sistema a ser usado pelo convidado Linux no z/VM. Em seguida, crie um novo usuário no z/VM. O exemplo mostra o diretório para um usuário <literal>LINUX1</literal> com a senha <literal>LINPWD</literal>, 256 MB de memória (extensível até 1024 MB), 32 MB de RAM expandida (XSTORE), alguns minidiscos (MDISK), duas CPUs e um dispositivo OSA QDIO.
    </para>
    <tip>
     <title>Atribuindo memória a convidados z/VM</title>
     <para>
      Ao atribuir memória a um convidado z/VM, verifique se o tamanho da memória é adequado às necessidades do seu tipo de instalação preferido. Consulte a <xref linkend="sec-info-sysreq-sysreq-hw-mem"/>. Para definir o tamanho de memória para 512MB, use o comando <command>CP DEFINE STORAGE 512M</command>. Após a conclusão da instalação, redefina o tamanho da memória para o valor desejado.
     </para>
    </tip>
    <example xml:id="ex-prep-prep-ipl-vm-linux-guest-config">
     <title>Configuração de um diretório z/VM</title>
     <screen>USER LINUX1 LINPWD 256M 1024M G 
*____________________________________________
* LINUX1 
*____________________________________________
* This VM Linux guest has two CPUs defined.

CPU 01 CPUID 111111 
CPU 02 CPUID 111222 
IPL CMS PARM AUTOCR 
IUCV ANY 
IUCV ALLOW 
MACH ESA 10 
OPTION MAINTCCW RMCHINFO 
SHARE RELATIVE 2000 
XSTORE 32M 
CONSOLE 01C0 3270 A 
SPOOL 000C 2540 READER * 
SPOOL 000D 2540 PUNCH A 
SPOOL 000E 3203 A 
* OSA QDIO DEVICE DEFINITIONS 
DEDICATE 9A0 9A0 
DEDICATE 9A1 9A1 
DEDICATE 9A2 9A2 
* 
LINK MAINT 0190 0190 RR 
LINK MAINT 019E 019E RR 
LINK MAINT 019D 019D RR 
* MINIDISK DEFINITIONS 
MDISK 201 3390 0001 0050 DASD40 MR ONE4ME TWO4ME THR4ME 
MDISK 150 3390 0052 0200 DASD40 MR ONE4ME TWO4ME THR4ME 
MDISK 151 3390 0253 2800 DASD40 MR ONE4ME TWO4ME THR4ME</screen>
    </example>
    <para>
     Este exemplo usa o minidisco 201 como disco pessoal do convidado. O minidisco 150 com 200 cilindros é o dispositivo de troca do Linux. O disco 151 com 2800 cilindros mantém a instalação do Linux.
    </para>
    <para>
     Agora adicione (como usuário <systemitem class="username">MAINT</systemitem>) o convidado ao diretório de usuário com <command>DIRM FOR LINUX1 ADD</command>. Digite o nome do convidado (<literal>LINUX1</literal>) e pressione <keycap>F5</keycap>. Configure o ambiente do usuário com:
    </para>
    <screen>DIRM DIRECT 
DIRM USER WITHPASS</screen>
    <para>
     O último comando retorna um número de arquivo de leitor. Este número é necessário para o próximo comando:
    </para>
    <screen>RECEIVE &lt;number&gt; USER DIRECT A (REPL)</screen>
    <para>
     Atribua os diretórios ao convidado com <command>DISKMAP USER DIRECT A</command>. Agora, você pode efetuar login no convidado como o usuário <systemitem class="username">LINUX1</systemitem>.
    </para>
    <para>
     Se não tiver a opção <literal>dirmaint</literal> disponível, consulte a documentação da IBM para configurar esse usuário.
    </para>
    <para>
     Prossiga com a <xref linkend="sec-prep-ipling-vm"/>.
    </para>
   </section>
  </section>
 </section>

 <section xml:id="sec-prep-ipling">
  <title>Reinicializando (IPL) o sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase></title>
  <para/>
  <section xml:id="sec-prep-ipling-lpar">
   <title>Instalação LPAR</title><indexterm> <primary>instalação LPAR</primary> <secondary>IPL do sistema de instalação</secondary> </indexterm> <indexterm> <primary>IPL</primary> <secondary>instalação LPAR</secondary> </indexterm>
   <para>
    Há várias formas de reinicializar (IPL) o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> em um LPAR. A preferida é usar o recurso <guimenu>Carregar do CD-ROM ou do servidor</guimenu> do SE ou do HMC.
   </para>
   <section xml:id="sec-prep-ipling-lpar-cdrom">
    <title>IPL do DVD-ROM</title>
    <para>
     Marque o LPAR para instalação e selecione <guimenu>Carregar do CD-ROM ou do servidor</guimenu>. Deixe o campo do local de arquivo em branco ou digite o caminho do diretório root do primeiro DVD-ROM e selecione para continuar. Na lista de opções exibida, escolha a seleção padrão. <guimenu>Agora, a opção </guimenu>Operating system messages (Mensagens do sistema operacional) deveria mostrar as mensagens de inicialização do kernel.
    </para>
   </section>
   <section xml:id="sec-prep-ipling-lpar-dvd">
    <title>Reinicialização (IPL) do DVD SCSI conectado a FCP</title>
    <para>
     Você pode usar o procedimento <guimenu>Carregar</guimenu>, selecionando <guimenu>SCSI</guimenu> como <guimenu>Tipo de carga</guimenu> para reinicializar (IPL) do SCSI. Digite o WWPN (Worldwide port name — nome de porta mundial) e o LUN (Logical unit number — número da unidade lógica) fornecidos pelo armazenamento ou ponte SCSI (16 dígitos, sem omitir os 0s à direita). O seletor do programa de inicialização deve ser 2. Use o seu adaptador FCP como <guimenu>Endereço de carregamento</guimenu> e reinicialize (IPL).
    </para>
   </section>
   <section xml:id="sec-prep-ipling-lpar-tape">
    <title>Executando o IPL a partir da fita conectada por ESCON ou FICON</title>
    <para>
     Se não for possível reinicializar (IPL) pelo DVD, crie uma fita de canal conectada da qual reinicializar (IPL) a imagem de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. Use o botão <guimenu>LOAD</guimenu> (Carregar) no SE ou HMC com o endereço do dispositivo de fita como o endereço de carregamento para reinicializar (IPL) o sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>.
    </para>
    <para>
     Há várias maneiras de criar uma fita IPLable. Uma é copiar os arquivos:
    </para>
    <screen>/boot/s390x/tapeipl.ikr
/boot/s390x/parmfile
/boot/s390x/initrd</screen>
    <para>
     como arquivos binários do DVD 1 (por exemplo, usando o FTP a partir de uma estação de trabalho Linux).
    </para>
    <para>
     Nomeie-os
    </para>
    <screen>SLES11 IMAGE
SLES11 PARM
SLES11 INITRD</screen>
    <para>
     e grave-os em uma fita com o REXX do exemplo.
    </para>
    <important>
     <title>Transferindo binários usando o FTP</title>
     <para>
      Não faça upload dos arquivos como <literal>fixed 80</literal>. Armazene-os como <literal>fixed 1024</literal>. Use o comando FTP <command>locsite fix 1024</command>.
     </para>
    </important>
    <example xml:id="sec-prep-ipling-lpar-tape-create">
     <title>Script REXX para criar uma fita IPLable</title>
     <screen>'REWIND 181'
'FILEDEF IN1 DISK' SLES11 IMAGE A
'FILEDEF IN2 DISK' SLES11 PARM A
'FILEDEF IN3 DISK' SLES11 INITRD A
'FILEDEF OUT TAP1 (RECFM F BLOCK 1024 LRECL 1024 PERM'
say 'Writing: ' left(file1,23)
'MOVEFILE IN1 OUT'
say 'Writing: ' left(file2,23)
'MOVEFILE IN2 OUT'
say 'Writing: ' left(file3,23)
'MOVEFILE IN3 OUT'
say 'Done.'
'REWIND 181'
 exit</screen>
    </example>
    <para>
     A fita desse script é anexada como 181. Ajuste o script às suas necessidades.
    </para>
   </section>
  </section>
  <section xml:id="sec-prep-ipling-vm">
   <title>Instalação z/VM</title><indexterm> <primary>instalação z/VM</primary> <secondary>IPL do sistema de instalação</secondary> </indexterm> <indexterm> <primary>IPL</primary> <secondary>instalação z/VM</secondary> </indexterm>
   <para>
    Esta seção explica a reinicialização (IPL) do sistema de instalação para instalar o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> para IBM System z em um sistema z/VM.
   </para>
   <section xml:id="sec-prep-ipling-vm-reader">
    <title>Reinicialização (IPL) do leitor z/VM</title>
    <para>
     Para transferir o sistema de instalação via FTP, é necessário ter uma conexão TCP/IP ativa e um programa cliente de FTP em seu convidado z/VM recém-definido. A configuração de TCP/IP para z/VM está fora do escopo deste manual. Consulte a documentação apropriada da IBM.
    </para>
    <para>
     Efetue login como convidado z/VM Linux para IPL. Torne o conteúdo do diretório <filename>/boot/s390x</filename> no DVD 1 do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> para IBM System z disponível por FTP na rede. Nesse diretório, obtenha os arquivos <filename>vmrdr.ikr</filename>, <filename>initrd</filename>, <filename>parmfile</filename> e <filename>sles11.exec</filename>. Transfira os arquivos com um tamanho de bloco fixo de 80 caracteres. Especifique-o com o comando FTP <command>locsite fix 80</command>. É importante copiar <filename>vmrdr.ikr</filename> (o kernel do Linux) e <filename>initrd</filename> (a imagem de instalação) como arquivos binários; portanto, use o modo de transferência <literal>binário</literal>. <filename>parmfile</filename> e <filename>sles11.exec</filename> devem ser transferidos em modo ASCII.
    </para>
    <para>
     O exemplo mostra as etapas necessárias. Neste exemplo, os arquivos necessários são acessíveis de um servidor FTP no endereço IP <literal>192.168.0.3</literal> e o login é <systemitem class="username">lininst</systemitem>. Poderá diferir para a sua rede.
    </para>
    <example xml:id="ex-prep-ipling-vm-reader-ftp-ftptrans">
     <title>Transferindo os binários via FTP</title>
     <screen>FTP 192.168.0.3
VM TCP/IP FTP Level 530
Connecting to 192.168.0.3, port 21
220 ftpserver FTP server (Version wu-2.4.2-academ[BETA-18](1)
Thu Feb 11 16:09:02 GMT 2010) ready.
USER
lininst
331 Password required for lininst
PASS
******
230 User lininst logged in.
Command:
binary
200 Type set to I
Command:
locsite fix 80
Command:
get /media/dvd1/boot/s390x/vmrdr.ikr sles11.image
200 PORT Command successful
150 Opening BINARY mode data connection for /media/dvd1/boot/s390x/vmrdr.ikr
(6757376 bytes)
226 Transfer complete.
6757376 bytes transferred in 8.826 seconds.
Transfer rate 766.70 Kbytes/sec.
Command:
get /media/dvd1/boot/s390x/initrd sles11.initrd
200 PORT Command successful
150 Opening BINARY mode data connection for /media/dvd1/boot/s390x/initrd
(12654815 bytes)
226 Transfer complete.
12194534 bytes transferred in 16.520 seconds.
Transfer rate 766.70 Kbytes/sec.
Command:
ascii
200 Type set to A
Command:
get /media/dvd1/boot/s390x/parmfile sles11.parmfile
150 Opening ASCII mode data connection for /media/dvd1/boot/s390x/parmfile
(71 bytes)
226 Transfer complete.
71 bytes transferred in 0.092 seconds.
Transfer rate 0.71 Kbytes/sec.
Command:
get /media/dvd1/boot/s390x/sles11.exec sles11.exec
150 Opening ASCII mode data connection for /media/dvd1/boot/s390x/sles11.exec
(891 bytes)
226 Transfer complete.
891 bytes transferred in 0.097 seconds.
Transfer rate 0.89 Kbytes/sec.
Command:
quit</screen>
    </example>
    <para>
     Use o script REXX sles11.exec cujo download acabou de ser feito para executar o IPL do sistema de instalação do Linux. Esse script inicializa o kernel, parmfile e o disco RAM inicial no leitor para IPL.
    </para>
    <example xml:id="sex-prep-ipling-vm-reader-startscript-slesexec">
     <title>SLES11 EXEC</title>
     <screen>/* REXX LOAD EXEC FOR SUSE LINUX S/390 VM GUESTS       */
/* LOADS SUSE LINUX S/390 FILES INTO READER            */
SAY ''
SAY 'LOADING SLES11 FILES INTO READER...'
'CP CLOSE RDR'
'PURGE RDR ALL'
'SPOOL PUNCH * RDR'
'PUNCH SLES11 IMAGE A (NOH'
'PUNCH SLES11 PARMFILE A (NOH'
'PUNCH SLES11 INITRD A (NOH'
'I 00C'</screen>
    </example>
    <para>
     Com este script, é possível reinicializar (IPL) o sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> com o comando <command>sles11</command>. O kernel do Linux é iniciado e imprime suas mensagens de inicialização.
    </para>
    <para>
     Para continuar a instalação, vá para a <xref linkend="sec-prep-netcfg-vm"/>.
    </para>
   </section>
   <section>
    <title>Reinicialização (IPL) do DVD SCSI conectado a FCP</title>
    <para>
     Para reinicializar (IPL) no z/VM, prepare o processo de IPL do SCSI usando o parâmetro SET LOADDEV:
    </para>
    <screen>SET LOADDEV PORTNAME 200400E8 00D74E00 LUN 00020000 00000000 BOOT 2</screen>
    <para>
     Após definir o parâmetro LOADDEV com os valores adequados, reinicialize (IPL) seu adaptador FCP, por exemplo:
    </para>
    <screen>IPL FC00</screen>
    <para>
     Para continuar a instalação, continue na <xref linkend="sec-prep-netcfg-vm"/>.
    </para>
   </section>
   <section xml:id="sec-prep-ipling-vm-tape">
    <title>Executando o IPL a partir da fita conectada por ESCON ou FICON</title>
    <para>
     Se não for possível reinicializar (IPL) pelo leitor z/VM, crie uma fita de canal conectada da qual reinicializar (IPL) a imagem de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. Para obter instruções, consulte a <xref linkend="sec-prep-ipling-lpar-tape"/>.
    </para>
    <para>
     Para continuar a instalação, continue na <xref linkend="sec-prep-netcfg-vm"/>.
    </para>
   </section>
   <section xml:id="sec-prep-ipling-vm-zpxe">
    <title>Reinicialização (IPL) de um servidor Cobbler com o zPXE</title>
    <para>
     Para reinicializar (IPL) de um servidor Cobbler com o zPXE, você precisa transferir o script <filename>zpxe.exec</filename> por FTP do servidor Cobbler para o convidado z/VM. O convidado z/VM precisa de uma conexão TCP/IP ativa e um programa cliente FTP.
    </para>
    <para>
     Efetue login como convidado Linux no z/VM para reinicializar (IPL) e transferir o script com um tamanho fixo de 80 caracteres no modo ASCII (consulte o <xref linkend="ex-prep-ipling-vm-reader-ftp-ftptrans"/>). O script <filename>zpxe.exec</filename> está disponível no servidor Cobbler no ftp://<replaceable>IP_DO_SERVIDOR_COBBLER</replaceable>/<replaceable>DIRETÓRIO_DE_INSTALAÇÃO_zSERIES</replaceable>/boot/s390x/zpxe.exec. O local exato do <replaceable>DIRETÓRIO_DE_INSTALAÇÃO_zSERIES</replaceable> depende se você importou os dados de instalação no servidor Cobbler (consulte a <xref linkend="sec-prep-makeavail-zpxe-cobbler-import"/> para obter os detalhes).
    </para>
    <para>
     O <filename>zpxe.exec</filename> deve supostamente substituir o <filename>PROFILE EXEC</filename> do convidado. Faça uma cópia de backup do <filename>PROFILE EXEC</filename> existente e renomeie <filename>ZPXE EXEC</filename> para <filename>PROFILE EXEC</filename>. Se preferir, chame <filename>ZPXE EXEC</filename> do <filename>PROFILE EXEC</filename> existente usando uma nova linha com o seguinte conteúdo: <literal>'ZPXE EXEC'</literal>.
    </para>
    <para>
     A última etapa é criar um arquivo de configuração <filename>ZPXE CONF</filename> que informa ao <filename>ZPXE EXEC</filename> qual servidor Cobbler deve ser contatado e em qual disco executar IPL. Execute <command>xedit zpxe conf a</command> e crie <filename>ZPXE CONF</filename> com o seguinte conteúdo (substitua os dados de exemplo de acordo):
    </para>
    <screen>HOST cobbler.example.com
IPLDISK 600</screen>
    <para>
     No próximo login em seu convidado z/VM, o servidor Cobbler será conectado. Se estiver programada uma instalação no servidor Cobbler, ela será executada. Para programar a instalação, execute o seguinte comando no servidor Cobbler:
    </para>
    <screen>cobbler system edit --name <replaceable>ID</replaceable><co xml:id="cobbler-sysedit-id"/> --netboot-enabled 1<co xml:id="cobbler-sysedit-netboot"/> --profile <replaceable>PROFILENAME</replaceable><co xml:id="cobbler-sysedit-profile"/></screen>
    <calloutlist>
     <callout arearefs="cobbler-sysedit-id">
      <para>
       ID do usuário z/VM.
      </para>
     </callout>
     <callout arearefs="cobbler-sysedit-netboot">
      <para>
       Habilitar reinicialização (IPL) da rede.
      </para>
     </callout>
     <callout arearefs="cobbler-sysedit-profile">
      <para>
       Nome de um perfil existente, consulte a <xref linkend="sec-prep-makeavail-zpxe-cobbler-profile"/>.
      </para>
     </callout>
    </calloutlist>
   </section>
  </section>
 </section>

 <section xml:id="sec-prep-netcfg">
  <title>Configuração de rede</title>
  <para/><indexterm> <primary>instalação LPAR</primary> <secondary>configuração de rede</secondary> </indexterm> <indexterm> <primary>configuração de rede</primary> <secondary>instalação LPAR</secondary> </indexterm>
  <para>
   Aguarde até que o kernel tenha realizado as suas rotinas de inicialização. Se você estiver instalando em modo básico ou em um LPAR, abra as <guimenu>Mensagens do Sistema Operacional</guimenu> no HMC ou no SE.
  </para>
  <para>
   Primeiro, escolha <guimenu>Iniciar Instalação ou Sistema</guimenu> no menu principal linuxrc e, em seguida, <guimenu>Iniciar Instalação ou Atualização</guimenu> para iniciar o processo de instalação. Selecione <guimenu>Network</guimenu> (Rede) como a mídia de instalação, depois selecione o tipo de protocolo de rede que vai usar para a instalação. A <xref linkend="sec-prep-makeavail"/> descreve como disponibilizar os dados de instalação para os diversos tipos de conexões de rede. Atualmente, <guimenu>FTP</guimenu>, <guimenu>HTTP</guimenu>, <guimenu>NFS</guimenu> e <guimenu>SMB/CIFS</guimenu> (compartilhamento de arquivos do Windows) são aceitos.
  </para>
  <para>
   Agora, configure o dispositivo de rede através do qual os dados de instalação serão recebidos: <guimenu>OSA-2 ou OSA Express</guimenu> ou <guimenu>HiperSockets</guimenu>. Os seguintes adaptadores de rede ainda estão disponíveis e são utilizáveis, mas não mais aceitos: CTC, ESCON, IUCV. Em seguida, escolha a interface de barramento CCW e o meio físico (<guimenu>Ethernet</guimenu>). Como resultado, o respectivo driver será instalado e você verá as mensagens de kernel correspondentes.
  </para>
  <para>
   Continuando a instalação, o linuxrc exibirá uma lista de possíveis canais utilizáveis de leitura, gravação e, se aplicável, dados. Depois de digitar os endereços de cada canal, é possível que você também precise digitar informações adicionais, como o nome da porta para placas de Ethernet OSA.
  </para>
  <para>
   Em seguida, decida se usará a configuração automática DHCP para configurar os parâmetros de interface de rede. Como o DHCP só funciona em alguns dispositivos e requer configurações de hardware especiais, provavelmente você escolherá <guimenu>NÃO</guimenu> aqui. Nesse caso, os parâmetros de rede de seu dispositivo de rede de instalação serão solicitados:
  </para>
  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     O endereço IP do sistema a ser instalado
    </para>
   </listitem>
   <listitem>
    <para>
     A máscara de rede correspondente
    </para>
   </listitem>
   <listitem>
    <para>
     O endereço IP de um gateway para acessar o servidor
    </para>
   </listitem>
   <listitem>
    <para>
     O endereço IP do seu DNS (domain name server — servidor de nomes de domínio)
    </para>
   </listitem>
  </itemizedlist>
  <para>
   Se usar uma placa de rede OSA Express, você agora será solicitado a fornecer um <guimenu>número de porta relativo</guimenu>. Isso foi adicionado para oferecer suporte aos novos dispositivos de rede OSA Express 3 de 2 portas. Se não estiver usando um dispositivo OSA Express 3, digite <literal>0</literal>. As placas OSA Express também têm a opção de serem executadas em um modo de <quote>suporte da camada 2 de OSI</quote> ou de usarem o modo de <quote>camada 3</quote> mais antigo e comum. O modo de placa afeta todos os sistemas que compartilham o dispositivo, incluindo os sistemas em outros LPARs. Em caso de dúvida, especifique <literal>2</literal> para fins de compatibilidade com o modo padrão usado por outros sistemas operacionais, como z/VM e z/OS. Consulte seu administrador de hardware para obter mais informações sobre essas opções.
  </para>
  <section xml:id="sec-prep-netcfg-vm">
   <title>Instalação z/VM</title><indexterm> <primary>instalação z/VM</primary> <secondary>configuração de rede</secondary> </indexterm> <indexterm> <primary>configuração de rede</primary> <secondary>instalação z/VM</secondary> </indexterm>
   <para>
    Depois que o kernel tiver concluído as rotinas de inicialização, responda a algumas perguntas relativas à configuração de rede. Primeiro, selecione o tipo de conexão de rede a ser usado: OSA Express ou HiperSockets. Neste exemplo de instalação é usado OSA Express.
   </para>
   <para>
    O sistema agora exibe uma possível configuração de OSA. Escolha primeiro se usará QDIO ou LCS OSA. Em seguida, escolha o meio físico a ser usado e digite os endereços do dispositivo. Se preferir outra configuração, digite o endereço de dispositivo do canal de leitura OSA (0.0.0700 neste exemplo) e o canal de gravação OSA (0.0.0701) e o canal de controle OSA (0.0.0702). Depois de digitar os canais, insira o nome de porta à qual a placa OSA será conectada.
   </para>
   <para>
    O <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> tenta agora carregar o módulo de rede criando uma linha de parâmetro com as informações fornecidas e exibindo todos os módulos carregados. O carregamento terá sido bem-sucedido quando você obtiver um resultado como:
   </para>
   <example xml:id="ex-prep-netcfg-vm-param">
    <title>Parâmetros do driver de dispositivos de rede</title>
    <screen>(portname YSW2)
(Port 0)
qdio: 0.0.0702 OSA on SC 3 using AI:1 QEBSM:0 PCI:1 TDD:1 SIGA:RW AO
qeth.736dae: 0.0.0700: Device is a Guest LAN QDIO card (level: V540)
with link type GuestLAN QDIO (portname: YSW2)
qeth.47953b: 0.0.0700: Hardware IP fragmentation not supported on eth0
qeth.066069: 0.0.0700: Inbound source MAC-address not supported on eth0
qeth.d7fdb4: 0.0.0700: VLAN enabled
qeth.e90c78: 0.0.0700: Multicast enabled
qeth.5a9d02: 0.0.0700: IPV6 enabled
qeth.184d8a: 0.0.0700: Broadcast enabled
qeth.dac2aa: 0.0.0700: Using SW checksumming on eth0.
qeth.9c4c89: 0.0.0700: Outbound TSO not supported on eth0
</screen>
   </example>
   <para>
    Em seguida, digite o endereço IP, a máscara de rede e o gateway padrão. Para instalar por iucv ou ctc, digite informações adicionais, como o endereço do peer (para um adaptador ponto a ponto) ou o nome da porta.
   </para>
   <para>
    Por fim, são solicitados o endereço IP do servidor DNS e o tamanho de MTU. O tamanho da MTU sempre deve corresponder ao usado pela rede na qual você está se conectando.
   </para>
   <para>
    Agora é exibido um resumo. Confirme se a sua entrada está correta. Antes de iniciar a rede, digite uma senha que será válida apenas durante a instalação. Depois de ter executado o IPL no sistema instalado, digite a senha raiz <emphasis>real</emphasis>.
   </para>
   <para>
    Com todos os parâmetros básicos configurados, a rede será iniciada. Verifique a saída de ifconfig, que deve conter duas entradas: uma conexão de loopback (lo) e uma conexão (eth0, ctc0, escon0, iucv0 ou hsi0) com configurações corretas.
   </para>
   <example xml:id="ex-prep-netcfg-vm-ifconfig">
    <title>Exemplo de ifconfig</title>
    <screen>/sbin/ifconfig eth0 : 
	Link encap:Ethernet  HWaddr 02:00:01:00:00:27  
        inet addr:192.168.0.1  Bcast:192.168.0.255  Mask:255.255.255.0
        inet6 addr: fe80::200:100:100:27/64 Scope:Link
        UP BROADCAST RUNNING MULTICAST  MTU:1492  Metric:1
        RX packets:0 errors:0 dropped:0 overruns:0 frame:0
        TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
        collisions:0 txqueuelen:1000 
        RX bytes:0 (0.0 Mb)  TX bytes:0 (0.0 Mb)</screen>
   </example>
  </section>
 </section>

 <section xml:id="sec-prep-connect">
  <title>Conectando-se ao sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase></title><indexterm> <primary>instalação LPAR</primary> <secondary>conectando-se ao sistema de instalação</secondary> </indexterm> <indexterm> <primary>conectando-se ao sistema de instalação</primary> <secondary>instalação LPAR</secondary> </indexterm> <indexterm> <primary>instalação z/VM</primary> <secondary>conectando-se ao sistema de instalação</secondary> </indexterm> <indexterm> <primary>conectando-se ao sistema de instalação</primary> <secondary>instalação z/VM</secondary> </indexterm>
  <para>
   Após configurar sua conexão de rede, o linuxrc solicitará os detalhes da origem da instalação escolhida anteriormente no processo, por exemplo, o endereço IP do servidor e o diretório de localização dos dados.
  </para>
  <para>
   Por fim, o linuxrc desejará saber que tipo de exibição você deseja usar para controlar o procedimento de instalação. As escolhas possíveis são <literal>X11</literal> (Sistema X Window), <literal>VNC</literal> (protocolo Virtual Network Computing), <literal>SSH</literal> (modo de texto ou instalação X11 via Secure Shell) ou <literal>Console ASCII</literal>.
  </para>
  <para>
   Quando a última opção é escolhida (<literal>Console ASCII</literal>), o YaST é iniciado no modo de texto, e você pode executar a instalação diretamente em seu terminal. Consulte o <xref linkend="cha-yast-text"/> para obter instruções de uso.
  </para>
  <note>
   <title>Emulação de terminal para o console ASCII</title>
   <para>
    Para trabalhar com o YaST no modo de texto, ele deve ser executado em um terminal com emulação VT220/Linux (também chamado de <literal>console ASCII</literal>). Você não pode usar o YaST em um terminal 3270, por exemplo.
   </para>
  </note>
  <section xml:id="sec-inst-connect-vnc-inst">
   <title>Iniciando a instalação para VNC</title><indexterm> <primary>VNC</primary> <secondary>iniciando a instalação</secondary> </indexterm>
   <procedure>
    <step>
     <para>
      Uma vez escolhida a opção de instalação <literal>VNC</literal>, o servidor VNC é iniciado. Uma curta observação exibida no console fornece informações sobre qual endereço IP e número de exibição são necessários para conexão com o vncviewer. Alternativamente, é dado um URL para entrada no seu browser habilitado para Java para conexão com o sistema de instalação.
     </para>
    </step>
    <step>
     <para>
      Inicie um aplicativo cliente VNC no sistema cliente. Use o vncviewer ou o cliente Java VNC e um browser da Web habilitado para Java.
     </para>
    </step>
    <step>
     <para>
      Digite o endereço IP e o número de exibição do sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> quando solicitado.
     </para>
     <para>
      Se você se conectar por meio de um browser habilitado para Java, digite um URL que contém o endereço IP do sistema de instalação e o número de porta adequado no formato:
     </para>
     <screen>http://&lt;IP address of installation system&gt;:5801/</screen>
    </step>
    <step>
     <para>
      Depois que a conexão for estabelecida, comece a instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> com o YaST.
     </para>
    </step>
   </procedure>
  </section>
  <section xml:id="sec-inst-connect-x">
   <title>Iniciando a instalação para o Sistema X Window</title><indexterm> <primary>X</primary> <secondary>iniciando a instalação</secondary> </indexterm>
   <important>
    <title>Mecanismo de autenticação X</title>
    <para>
     A instalação direta com o Sistema X Window utiliza um mecanismo de autenticação primitivo baseado em nomes de host. Este mecanismo está desabilitado nas versões atuais do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. É preferível a instalação com SSH ou VNC.
    </para>
   </important>
   <procedure>
    <step>
     <para>
      Verifique se o servidor X permite que o cliente (o sistema que está instalado) se conecte. Defina a variável <command>DISPLAYMANAGER_XSERVER_TCP_PORT_6000_OPEN="sim"</command> no arquivo <filename>/etc/sysconfig/displaymanager</filename>. Depois, reinicie o servidor X e permita que o cliente se vincule ao servidor usando <command>xhost &lt;endereço IP do cliente&gt;</command>.
     </para>
    </step>
    <step>
     <para>
      Ao ser solicitado no sistema de instalação, digite o endereço IP da máquina em que o servidor X está sendo executado.
     </para>
    </step>
    <step>
     <para>
      Espere até que o YaST seja aberto e inicie a instalação.
     </para>
    </step>
   </procedure>
  </section>
<?dbfo-need height="20em"?>


  <section xml:id="sec-inst-connect-ssh">
   <title>Iniciando a instalação para SSH</title><indexterm> <primary>ssh</primary> <secondary>iniciando a instalação</secondary> </indexterm>
   <para>
    Para conectar-se a um sistema de instalação chamado earth usando SSH, execute <command>ssh -X earth</command>. Se a sua estação de trabalho for executada no Microsoft Windows, use o cliente ssh e telnet e o emulador de terminal putty, disponível em <link xlink:href="http://www.chiark.greenend.org.uk/~sgtatham/putty/"/>. Defina <guimenu>Habilitar o encaminhamento X11</guimenu> em putty, sob <menuchoice> <guimenu>Conexão</guimenu> <guimenu>SSH</guimenu> <guimenu>X11</guimenu> </menuchoice>.
   </para>
   <para>
    Aparece um prompt de login. Digite <literal>root</literal> e efetue login com a sua senha. Digite <command>yast2</command> para iniciar o YaST.
   </para>
   <para>
    Continue seguindo a descrição detalhada do procedimento de instalação que pode ser encontrado no <xref linkend="cha-inst"/>.
   </para>
  </section>
 </section>
</section>
