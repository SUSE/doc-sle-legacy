<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
    type="text/xml"
    title="Profiling step"
?>
<!DOCTYPE chapter
[
   <!ENTITY % entities SYSTEM "entity-decl.ent">
   %entities;
]>


<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1" xml:base="yast2_sw.xml" xml:id="cha-y2-sw"><title>Installation et suppression de logiciels</title><info><abstract>
  <para>
   Utilisez l'outil de gestion des logiciels de YaST pour rechercher les composants logiciels à ajouter ou à supprimer. YaST résout toutes les dépendances. Pour installer des paquetages non livrés avec le support d'installation, ajoutez des dépôts de logiciels à votre configuration et laissez YaST les gérer. Maintenez votre système à jour en gérant les mises à jour de logiciels à l'aide de l'applet de mise à jour.
  </para>
 </abstract></info>
 <indexterm> <primary>YaST</primary> <secondary>logiciels</secondary> </indexterm> <indexterm> <primary>configuration</primary> <secondary>logiciels</secondary> </indexterm>
 
 <para os="sles">
  Modifiez la collection de logiciels de votre système via le gestionnaire de logiciels YaST. Ce module YaST est disponible en deux variantes de toolkit : Qt et ncurses. La variante Qt est décrite ici.
 </para>
 
 
 <note>
  <title>Confirmation et vérification des modifications</title>
  <para>
   Lors de l'installation, de la mise à jour ou de la suppression des paquetages, les modifications apportées au gestionnaire de logiciels ne sont pas appliquées immédiatement, mais seulement quand vous les confirmez en cliquant respectivement sur <guimenu>Accepter</guimenu> ou <guimenu>Appliquer</guimenu>. YaST conserve une liste répertoriant toutes les actions, qui vous permet de vérifier et de modifier vos changements avant de les appliquer au système.
  </para>
 </note>
 <section xml:id="sec-onlineupdate-terms">
  <title>Définition des termes utilisés</title>

  <variablelist>
   <varlistentry>
    <term>Dépôt</term>
    <listitem>
     <para>
      Répertoire local ou distant contenant des paquetages logiciels et des informations supplémentaires sur ces paquetages (métadonnées de paquetage).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Alias (de dépôt)</term>
    <listitem>
     <para>
      Nom court donné à un dépôt et utilisé par plusieurs commandes de l'outil zypper. L'alias peut être choisi par l'utilisateur lors de l'ajout d'un dépôt ; il doit être unique.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Produit</term>
    <listitem>
     <para>
      Représente un produit complet, par exemple <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Modèle</term>
    <listitem>
     <para>
      Un modèle est un groupe de paquetages installable et ayant un rôle spécifique. Par exemple, le modèle <systemitem>Ordinateur portable</systemitem> contient tous les paquetages nécessaires dans un environnement d'informatique mobile. Les modèles définissent des dépendances de paquetages (comme les paquetages requis ou recommandés) et sont fournis avec une présélection de paquetages marqués en vue d'une installation. Ceci garantit que les paquetages les plus importants nécessaires dans un but spécifique sont disponibles sur votre système après l'installation du modèle. Toutefois, les paquetages d'un modèle ne sont pas forcément tous présélectionnés pour installation et vous pouvez en sélectionner ou en désélectionner certains dans un modèle en fonction de vos besoins.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Paquetage</term>
    <listitem>
     <para>
      Un paquetage est un fichier compressé au format <literal>rpm</literal> qui contient les fichiers d'un programme particulier.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Correctif</term>
    <listitem>
     <para>
      Un correctif comporte un ou plusieurs paquetages et peut être appliqué via deltarpms. Il peut également introduire des dépendances dans les paquetages qui ne sont pas encore installés.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Correctif</term>
    <listitem>
     <para>
      Terme générique désignant un produit, un modèle, un logiciel ou un correctif. Les types les plus utilisés sont le logiciel ou le correctif.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term>deltarpm</term>
    <listitem>
     <para>
      Correctif ne contenant que les différentiels binaires compris entre deux versions définies d'un paquetage. Il a la taille de téléchargement la plus petite. Avant son installation, l'intégralité du paquetage RPM est reconstruit sur la machine locale.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Dépendances des paquetages</term>
    <listitem>
     <para>
      Certains paquetages, comme les bibliothèques partagées, dépendent d'autres paquetages. En d'autres termes, un paquetage peut <literal>nécessiter</literal> la présence d'autres paquetages. Si les paquetages requis ne sont pas disponibles, le paquetage ne peut pas être installé. En plus des dépendances (exigences de paquetages) obligatoires, certains paquetages <literal>recommandent</literal> la présence d'autres paquetages. Ces paquetages recommandés ne sont installés que s'ils sont actuellement disponibles. Dans le cas contraire, ils sont ignorés et le paquetage qui les recommande est installé malgré tout.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </section>
 <section xml:id="sec-y2-sw-qt">
  <title>Utilisation de l'interface KDE (Qt)</title>

  

  <para>
   L'interface Qt de YaST s'ouvre par défaut lors de l'utilisation des bureaux KDE, icewm et autres. Elle est également utilisée lorsque YaST est appelé depuis un terminal distant. Démarrez le gestionnaire de logiciels à partir du centre de contrôle YaST en sélectionnant <menuchoice> <guimenu>Logiciel</guimenu> <guimenu>Gestion des logiciels</guimenu> </menuchoice>.
  </para>

  <informalfigure>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_sw_manager.png" width="70%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_sw_manager.png" width="65%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </informalfigure>

  <section xml:id="sec-y2-sw-search">
   <title>Vues de recherche de paquetages ou de modèles</title>
   <para>
    Le gestionnaire de logiciels YaST peut installer des paquetages ou des modèles à partir de tous les dépôts actifs. Il offre plusieurs vues et filtres qui facilitent la recherche du logiciel. La vue <guimenu>Rechercher </guimenu> est la vue par défaut de la fenêtre. Pour changer de vue, cliquez sur <guimenu>Vue</guimenu> et sélectionnez l'une des entrées suivantes dans la liste déroulante. La vue sélectionnée s'ouvre dans un nouvel onglet.
   </para>
   <variablelist>
    <varlistentry>
     <term>Schémas</term>
     <listitem>
      <para>
       Répertorie tous les modèles pouvant être installés sur votre système.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Groupes de paquetages</term>
     <listitem>
      <para>
       Répertorie tous les paquetages classés par groupes tels que <guimenu>Graphiques</guimenu>, <guimenu>Programmation</guimenu> ou <guimenu>Sécurité</guimenu>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Groupes RPM</term>
     <listitem>
      <para>
       Répertorie tous les paquetages triés par fonctionnalité en groupes et en sous-groupes. Exemple : <menuchoice> <guimenu>Réseautique</guimenu> <guimenu>E-mail</guimenu> <guimenu>Clients</guimenu> </menuchoice>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Langues</term>
     <listitem>
      <para>
       Filtre permettant de répertorier tous les paquetages nécessaires pour ajouter une nouvelle langue système.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Référentiels</term>
     <listitem>
      <para>
       Filtre permettant de trier les paquetages par dépôt. Pour sélectionner plusieurs dépôts, maintenez la touche <keycap function="control"/> enfoncée en cliquant sur les noms des dépôts. Le <quote>dépôt pseudo</quote> <guimenu>@System</guimenu> répertorie tous les paquetages actuellement installés.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Rechercher</term>
     <listitem>
      <para>
       Vous permet de rechercher un paquetage en fonction de certains critères. Entrez le mot sur lequel la recherche va être effectuée, puis appuyez sur <keycap function="enter"/>. Affinez votre recherche en spécifiant les champs <guimenu>Rechercher dans</guimenu> et en modifiant le champ <guimenu>Mode de recherche</guimenu>. Par exemple, si vous ne connaissez pas le nom du paquetage, mais seulement celui de l'application recherchée, essayez d'inclure la <guimenu>description</guimenu> du paquetage dans le processus de recherche.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Résumé de l'installation</term>
     <listitem>
      <para>
       Si vous avez déjà sélectionné des paquetages en vue d'une installation, d'une mise à jour ou d'une suppression, cette vue affiche les modifications qui seront appliquées à votre système dès que vous cliquerez sur <guimenu>Accepter</guimenu>. Pour filtrer les paquetages par état dans cette vue, cochez ou décochez les cases correspondantes. Appuyez sur <keycombo> <keycap function="shift"/> <keycap>F1</keycap> </keycombo> pour obtenir des détails sur les indicateurs d'état.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <tip>
    <title>Recherche de paquetages n'appartenant pas à un dépôt actif</title>
    <para>
     Pour répertorier tous les paquetages qui n'appartiennent pas à un dépôt actif, sélectionnez <menuchoice> <guimenu>Vue</guimenu> <guimenu>dépôts</guimenu> <guimenu>@System</guimenu> </menuchoice>, puis <menuchoice> <guimenu>Filtre secondaire</guimenu> <guimenu>Paquetages non pris en charge</guimenu></menuchoice>. Par exemple, cela s'avère utile si vous avez supprimé un dépôt et si vous souhaitez vous assurer qu'il ne reste plus de paquetage provenant de ce dépôt.
    </para>
   </tip>
  </section>

  <section xml:id="sec-y2-sw-install">
   <title>Installation et suppression des paquetages ou des modèles</title>

   <para>
    Certains paquetages, comme les bibliothèques partagées, dépendent d'autres paquetages. Par ailleurs, certains paquetages ne peuvent pas coexister avec d'autres sur le système. Si possible, YaST résout automatiquement ces dépendances ou ces conflits. Si votre choix entraîne un conflit de dépendances qui ne peut être résolu automatiquement, vous devez le résoudre manuellement en suivant la procédure décrite dans la <xref linkend="sec-y2-sw-deps"/>.
   </para>
   <note>
    <title>Suppression de paquetages</title>
    <para>
     Lors de la suppression de paquetages, YaST supprime par défaut les paquetages sélectionnés uniquement. Si vous souhaitez que YaST supprime également tous les autres paquetages devenus inutiles après la suppression du paquetage spécifié, sélectionnez <menuchoice> <guimenu>Options</guimenu> <guimenu>Nettoyer lors de la suppression de paquetages</guimenu> </menuchoice>.
    </para>
   </note>
   <procedure>
    <step>
     <para>
      Recherchez les paquetages conformément à la procédure décrite dans la <xref linkend="sec-y2-sw-search"/>.
     </para>
    </step>
    <step>
     <para>
      Les paquetages trouvés s'affichent dans le volet droit. Pour installer ou supprimer un paquetage, cliquez dessus avec le bouton droit de la souris et sélectionnez <guimenu>Installer</guimenu> ou <guimenu>Supprimer</guimenu>. Si l'option appropriée n'est pas disponible, vérifiez l'état du paquetage marqué par le symbole situé en regard de son nom. Appuyez sur <keycombo> <keycap function="shift"/> <keycap>F1</keycap> </keycombo> pour obtenir de l'aide.
     </para>
     <tip>
      <title>Application d'une action sur tous les paquetages répertoriés</title>
      <para>
       Pour appliquer une action sur tous les paquetages répertoriés dans le volet droit, choisissez une action dans <menuchoice> <guimenu>Paquetage</guimenu> <guimenu>Tout dans cette liste</guimenu> </menuchoice>.
      </para>
     </tip>
    </step>
    <step>
     <para>
      Pour installer un modèle, cliquez avec le bouton droit de la souris sur son nom et sélectionnez <guimenu>Installer</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Il est impossible de supprimer un modèle en tant que tel. Sélectionnez plutôt les paquetages d'un modèle à supprimer et marquez-les pour suppression.
     </para>
    </step>
    <step>
     <para>
      Pour sélectionner davantage de paquetages, répétez les étapes ci-dessus. 
     </para>
    </step>
    <step>
     <para>
      Avant d'appliquer vos modifications, vous pouvez les vérifier ou les modifier en cliquant sur <menuchoice> <guimenu>Afficher</guimenu> <guimenu>Résumé de l'installation</guimenu> </menuchoice>. Tous les paquetages qui changeront d'état sont affichés par défaut. 
     </para>
    </step>
    <step>
     <para>
      Pour réappliquer l'état d'un paquetage, cliquez dessus avec le bouton droit de la souris et sélectionnez l'une des entrées suivantes : <guimenu>Conserver</guimenu> si sa suppression ou sa mise à jour a été programmée ou <guimenu>Ne pas installer</guimenu> si son installation a été programmée. Pour abandonner toutes les modifications et fermer le gestionnaire de logiciels, cliquez sur <guimenu>Annuler</guimenu> et <guimenu>Abandonner</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Lorsque vous avez terminé, cliquez sur <guimenu>Accepter</guimenu> pour appliquer vos modifications.
     </para>
    </step>
    <step>
     <para>
      Si YaST a trouvé des dépendances sur d'autres paquetages, une liste des paquetages ayant été choisis pour l'installation, la mise à jour ou la suppression s'affiche. Cliquez sur <guimenu>Continuer</guimenu> pour les accepter.
     </para>
     <para>
      Une fois que les paquetages sélectionnés sont installés, mis à jour ou supprimés, le gestionnaire de logiciels YaST termine le processus automatiquement.
     </para>
    </step>
   </procedure>
   <note>
    <title>Installation des paquetages sources</title>
    <para>
     Actuellement, le gestionnaire de logiciels YaST ne permet pas l'installation de paquetages sources. Pour y parvenir, utilisez l'outil de la ligne de commande <command>zypper</command>. Pour plus d'informations, reportez-vous à la <xref linkend="sec-zypper-softman-sources"/>.
    </para>
   </note>
  </section>

  <section xml:id="sec-y2-sw-update">
   <title>Mise à jour des paquetages</title>
   <para>
    Au lieu de mettre à jour des paquetages individuels, vous pouvez également mettre à jour tous les paquetages installés ou tous les paquetages provenant d'un dépôt spécifique. En cas de mise à jour de masse des paquetages, les points suivants sont généralement pris en compte :
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      Priorités des dépôts fournissant le paquetage
     </para>
    </listitem>
    <listitem>
     <para>
      Architecture du paquetage (par exemple x86_64, i686, i586)
     </para>
    </listitem>
    <listitem>
     <para>
      Numéro de version du paquetage
     </para>
    </listitem>
    <listitem>
     <para>
      Fournisseur du paquetage
     </para>
    </listitem>
   </itemizedlist>
   <para>
    Le point le plus important pour le choix des candidats à la mise à jour dépend de l'option de mise à jour que vous avez sélectionnée.
   </para>
   <procedure>
    <step>
     <para>
      Pour mettre à jour tous les paquetages installés vers la dernière version, sélectionnez <menuchoice> <guimenu>Paquetage</guimenu> <guimenu>Tous les paquetages</guimenu> <guimenu>Mettre à jour si une nouvelle version est disponible</guimenu> </menuchoice> dans le menu principal.
     </para>
     <para>
      Tous les dépôts sont sélectionnés en tant que candidats potentiels à la mise à jour conformément à la stratégie suivante : YaST commence par essayer de limiter la recherche aux paquetages ayant la même architecture et le même fournisseur que le paquetage installé. Si la recherche propose des résultats, le <quote>meilleur</quote> candidat à la mise à jour est sélectionné conformément au processus ci-dessous. Toutefois, si aucun paquetage comparable du même fournisseur n'est trouvé, la recherche est élargie à tous les paquetages ayant la même architecture. Si aucun paquetage correspondant n'est trouvé, tous les paquetages sont considérés et le <quote>meilleur</quote> candidat à la mise à jour est sélectionné en fonction des critères suivants :
     </para>
     <orderedlist spacing="normal">
      <listitem>
       <para>
        Priorité du dépôt : privilégiez le paquetage provenant du dépôt ayant la priorité la plus élevée.
       </para>
      </listitem>
      <listitem>
       <para>
        Si plusieurs paquetages sont sélectionnés, choisissez celui présentant la <quote>meilleure</quote> architecture (meilleur choix : faire correspondre l'architecture avec celle du paquetage installé, ou x86_64 &gt; i686 &gt; i586).
       </para>
      </listitem>
     </orderedlist>
     <para>
      Si le paquetage trouvé dispose d'un numéro de version supérieur à celui du paquetage installé, ce dernier sera mis à jour et remplacé par le candidat à la mise à jour sélectionné.
     </para>
     <para>
      Cette option tente d'éviter les modifications au niveau de l'architecture et du fournisseur pour les paquetages installés, mais il arrive qu'elles soient tolérées.
     </para>
     <note>
      <title>Mise à jour inconditionnelle</title>
      <para>
       Si vous sélectionnez <menuchoice> <guimenu>Paquetage</guimenu> <guimenu>Tous les paquetages</guimenu> <guimenu>Mettre à jour sans condition</guimenu> </menuchoice>, les mêmes critères s'appliqueront, mais le paquetage candidat sera installé de façon inconditionnelle. Cette option peut donc entraîner des mises à niveau vers des versions antérieures de certains paquetages.
      </para>
     </note>
    </step>
    <step>
     <para>
      Pour s'assurer que le paquetage prévu pour une mise à jour de masse provient d'un dépôt spécifique, procédez comme suit :
     </para>
     <substeps performance="required">
      <step>
       <para>
        Sélectionnez le dépôt à partir duquel vous souhaitez procéder à la mise à jour conformément à la procédure décrite dans la <xref linkend="sec-y2-sw-search"/> .
       </para>
      </step>
      <step>
       <para>
        À droite de la fenêtre, cliquez sur <guimenu>Basculer les paquetages système vers les versions dans ce dépôt</guimenu>. Ceci permet explicitement à YaST de modifier le fournisseur du paquetage lors du remplacement des paquetages.
       </para>
       <para>
        Lorsque vous cliquez sur <guimenu>Accepter</guimenu>, tous les paquetages installés sont remplacés par ceux qui proviennent de ce dépôt, le cas échéant. Ceci peut entraîner des changements au niveau du fournisseur et de l'architecture, voire la mise à niveau vers une version antérieure de certains paquetages.
       </para>
      </step>
      <step>
       <para>
        Pour éviter ceci, cliquez sur <guimenu>Annuler le basculement des paquetages du système vers les versions dans ce dépôt</guimenu>. Notez que vous ne pourrez plus annuler après avoir cliqué sur le bouton <guimenu>Accepter</guimenu>.
       </para>
      </step>
     </substeps>
    </step>
    <step>
     <para>
      Avant d'appliquer vos modifications, vous pouvez les vérifier ou les modifier en cliquant sur <menuchoice> <guimenu>Afficher</guimenu> <guimenu>Résumé de l'installation</guimenu> </menuchoice>. Tous les paquetages qui changeront d'état sont affichés par défaut. 
     </para>
    </step>
    <step>
     <para>
      Si toutes les options sont définies conformément à vos besoins, confirmez vos modifications en cliquant sur <guimenu>Accepter</guimenu> pour lancer la mise à jour de masse.
     </para>
    </step>
   </procedure>
  </section>





  <section xml:id="sec-y2-sw-deps">
   <title>Contrôle des dépendances logicielles</title>
   <para>
    La plupart des paquetages dépendent d'autres paquetages. Par exemple, si un paquetage utilise une bibliothèque partagée, il dépend alors du paquetage fournissant cette bibliothèque. Par ailleurs, certains paquetages ne peuvent pas coexister les uns avec les autres sous peine d'engendrer un conflit (par exemple, vous pouvez installer un seul agent de transfert de messages électroniques : Sendmail ou Postfix). Lors de l'installation ou de la suppression d'un logiciel, le gestionnaire de logiciels s'assure que tous les conflits ou dépendances sont résolus pour garantir l'intégrité du système.
   </para>
   <para>
    S'il n'existe qu'une solution permettant de résoudre une dépendance ou un conflit, ces derniers sont résolus automatiquement. Les solutions multiples entraînent toujours un conflit qui nécessite une résolution manuelle. Si la résolution du conflit implique un changement de fournisseur ou d'architecture, elle doit également être exécutée manuellement. Lorsque vous cliquez sur <guimenu>Accepter</guimenu> pour appliquer les modifications dans le gestionnaire de logiciels, vous obtenez un aperçu de toutes les actions déclenchées par le résolveur automatique que vous devrez confirmer.
   </para>
   <para>
    Par défaut, les dépendances sont automatiquement contrôlées. Un contrôle est exécuté à chaque fois que l'état d'un paquetage change (par exemple, lors de la définition d'un paquetage en vue de son installation ou de sa suppression). En général, cette opération est utile mais peut vite devenir fastidieuse lors de la résolution manuelle d'un conflit de dépendances. Pour désactiver cette fonction, désélectionnez <menuchoice> <guimenu>Dépendances</guimenu> <guimenu>Vérification automatique</guimenu> </menuchoice>. Pour exécuter un contrôle de dépendance manuel, sélectionnez <menuchoice> <guimenu>Dépendances</guimenu> <guimenu>Vérifier maintenant</guimenu></menuchoice>. Une vérification de cohérence est effectuée à chaque fois que vous confirmez votre sélection avec <guimenu>Accepter</guimenu>.
   </para>
   <para>
    Pour vérifier les dépendances d'un paquetage, cliquez dessus avec le bouton droit de la souris, puis sélectionnez <guimenu>Afficher les informations sur le solutionneur</guimenu>. Une carte des dépendances s'affiche. Les paquetages déjà installés s'affichent dans un cadre vert.
   </para>
   <note>
    <title>Résolution manuelle des conflits de paquetages</title>
    <para>
     Si vous n'êtes pas un utilisateur expérimenté, il est recommandé de suivre les suggestions de YaST relatives au traitement des conflits de paquetages pour pouvoir les résoudre. Gardez à l'esprit que toute modification peut déclencher d'autres conflits. Vous pouvez donc rapidement faire face à une accumulation de conflits. Dans de telles circonstances, <guimenu>annulez</guimenu> le gestionnaire de logiciels, <guimenu>abandonnez</guimenu> toutes vos modifications, puis redémarrez.
    </para>
   </note>
   <figure xml:id="fig-y2-sw-packconfl">
    <title>Gestion d'un conflit dans le gestionnaire de logiciels</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="yast2_package_conflict.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="yast2_package_conflict.png" width="65%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </section>
 </section>
 
 <xi:include href="yast2_sw_repo.xml" parse="xml"/>
 <xi:include href="opensuseupdater.xml" parse="xml"/>
</chapter>
