<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
    type="text/xml"
    title="Profiling step"
?>
<!DOCTYPE sect1
[
   <!ENTITY % entities SYSTEM "entity-decl.ent">
   %entities;
]>


<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<section xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1" xml:base="yast2_sw_repo.xml" xml:id="sec-y2-sw-instsource">
 <title>Gestion des services et des dépôts de logiciels</title>

 <para>
  Si vous souhaitez installer un logiciel tiers, ajoutez des dépôts de logiciels à votre système. Par défaut, les dépôts de produits tels que le DVD <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> <phrase role="productname"><phrase os="sles;sled;slerte">11 SP4</phrase></phrase> et le dépôt de mise à jour correspondant, sont automatiquement configurés <phrase os="sles;sled;">une fois le système enregistré. Pour plus d'informations sur l'enregistrement,
reportez-vous à la <xref linkend="sec-i-yast2-conf-manual-cc"/></phrase>. En fonction du produit sélectionné initialement, un dépôt de produits complémentaires distinct pour les langues, avec des traductions, des dictionnaires, etc., peut également être configuré.
 </para>

 <para>
  Pour gérer les dépôts, lancez YaST et sélectionnez <menuchoice> <guimenu>Logiciel</guimenu> <guimenu>Dépôts de logiciels</guimenu></menuchoice>. La boîte de dialogue <guimenu>Dépôts de logiciels configurés</guimenu> s'ouvre. Vous pouvez gérer ici les abonnements aux <guimenu>services</guimenu> en modifiant la <guimenu>vue</guimenu> dans le coin droit de la boîte de dialogue et en la définissant sur <guimenu>Tous les services</guimenu>. Dans ce contexte, un service est un <guimenu>service d'index de dépôts</guimenu> (RIS - Repository Index Service) qui peut contenir un ou plusieurs dépôts de logiciels. Un tel service peut être modifié de façon dynamique par son administrateur ou son fournisseur.
 </para>

 <para>
  Chaque dépôt fournit des fichiers décrivant le contenu du dépôt (noms des paquetage, versions, etc.). Ces fichiers de description du dépôt sont téléchargés dans un cache local utilisé par YaST. Pour garantir leur intégrité, les dépôts de logiciels peuvent être signés avec la clé GPG du mainteneur des dépôts. À chaque fois que vous ajoutez un nouveau dépôt, YaST vous propose d'importer sa clé. 
 </para>

 <warning>
  <title>Approbation des sources de logiciels externes</title>
  <para>
   Avant d'ajouter des dépôts de logiciels externes à votre liste de dépôts, assurez-vous qu'ils sont approuvés. <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> n'est pas responsable en cas d'éventuels problèmes résultant de l'installation de logiciels à partir de dépôts tiers.
  </para>
 </warning>

 <section xml:id="sec-y2-sw-instsource-add">
  <title>Ajout de dépôts de logiciels</title>
  <para>
   Vous pouvez ajouter des dépôts depuis un disque dur local, un support amovible (CD, DVD ou périphérique de stockage de masse USB) ou un réseau.
  </para>
  <para>
   Pour ajouter des dépôts depuis la boîte de dialogue <guimenu>Dépôts de logiciels configurés</guimenu> dans YaST, procédez comme suit :
  </para>
  <procedure>
   <step>
    <para>
     Cliquez sur <guimenu>Ajouter</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Dans la liste des <guimenu>types de supports</guimenu> disponibles, spécifiez le type correspondant à votre dépôt :
    </para>
    <para>
     Pour les sources réseau, il est généralement suffisant d'utiliser l'option par défaut <guimenu>Spécifier l'URL</guimenu>.
    </para>
    <para>
     Pour ajouter un dépôt depuis un support amovible ou un disque dur local, sélectionnez l'option appropriée et insérez le support ou connectez le périphérique à la machine.
    </para>
   </step>
   <step>
    <para>
     Vous pouvez choisir l'option <guimenu>Télécharger les fichiers de description du dépôt</guimenu> maintenant. Si l'option n'est pas sélectionnée, YaST téléchargera automatiquement les fichiers ultérieurement si nécessaire. Cliquez sur <guimenu>Suivant</guimenu> pour continuer.
    </para>
   </step>
   <step>
    <para>
     Lors de l'ajout d'un dépôt depuis le réseau, entrez les données demandées. Pour continuer, cliquez sur <guimenu>Suivant</guimenu>.
    </para>
   </step>
   <step>
    <para>
     En fonction du dépôt que vous avez ajouté, il peut vous être demandé de choisir si vous souhaitez importer la clé GPG avec laquelle il a été signé ou si vous souhaitez accepter une licence.
    </para>
    <para>
     Une fois ces messages confirmés, YaST téléchargera et analysera les métadonnées et ajoutera le dépôt à la liste de <guimenu>dépôts configurés</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Réglez si nécessaire les <guimenu>propriétés</guimenu> du dépôt conformément à la procédure décrite dans <xref linkend="sec-y2-sw-instsource-manage"/> ou confirmez vos modifications en cliquant sur <guimenu>OK</guimenu> pour fermer la boîte de dialogue de configuration.
    </para>
   </step>
  </procedure>
  <para>
   Vous pouvez désormais installer le logiciel à partir de ce dépôt, conformément à la procédure décrite dans la <xref linkend="sec-y2-sw-qt"/>.
  </para>
  
  
 </section>

 <section xml:id="sec-y2-sw-instsource-manage">
  <title>Gestion des propriétés des dépôts</title>
  <para>
   L'aperçu <guimenu>Dépôts de logiciels configurés</guimenu> des <guimenu>Dépôts de logiciels</guimenu> vous permet de modifier les propriétés des dépôts suivantes :
  </para>
  <variablelist>
   <varlistentry>
    <term>État</term>
    <listitem>
     <para>
      L'état du dépôt peut être <guimenu>Activé</guimenu> ou <guimenu>Désactivé</guimenu>. Les paquetages que vous pouvez installer ne proviennent que des dépôts activés. Pour désactiver temporairement un dépôt, cliquez sur <guimenu>Désactiver</guimenu>. Vous pouvez également double-cliquer sur le nom d'un dépôt pour changer son état. Si vous souhaitez supprimer totalement un dépôt, cliquez sur <guimenu>Supprimer</guimenu>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Rafraîchir</term>
    <listitem>
     <para>
      Lors du rafraîchissement d'un dépôt, la description de son contenu (noms des paquetages, versions, etc.) est téléchargée dans un cache local utilisé par YaST. Il suffit d'effectuer cette manipulation une fois pour les dépôts statiques, comme les CD ou les DVD, alors que les dépôts dont le contenu est souvent modifié doivent être rafraîchis fréquemment. La façon la plus simple de conserver le cache d'un dépôt à jour consiste à sélectionner <guimenu>Rafraîchir automatiquement</guimenu>. Pour exécuter un rafraîchissement manuel, cliquez sur <guimenu>Rafraîchir</guimenu>, puis sélectionnez l'une des options.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>Conserver les paquetages téléchargés</guimenu>
    </term>
    <listitem>
     <para>
      Les paquetages des dépôts distants sont téléchargés avant d'être installés. Ils sont supprimés par défaut en cas d'installation réussie. L'activation de l'option <guimenu>Conserver les paquetages téléchargés</guimenu> permet d'empêcher la suppression des paquetages téléchargés. L'emplacement de téléchargement est configuré dans <filename>/etc/zypp/zypp.conf</filename>. Il s'agit par défaut du dossier <filename>/var/cache/zypp/packages</filename>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>Priorité</guimenu>
    </term>
    <listitem>
     <para>
      La <guimenu>priorité</guimenu> d'un dépôt est une valeur comprise entre <literal>1</literal> et <literal>200</literal>, avec <literal>1</literal> correspondant à la priorité la plus élevée et <literal>200</literal>, la plus faible. Tout nouveau dépôt ajouté avec YaST est associé par défaut à une priorité de <literal>99</literal>. Si vous n'accordez pas d'importance à la valeur de la priorité d'un dépôt spécifique, vous pouvez également la définir sur <literal>0</literal> pour lui attribuer la priorité par défaut (<literal>99</literal>). Si un paquetage est disponible dans plusieurs dépôts, le dépôt ayant la plus haute priorité est prioritaire. Ceci est utile si vous souhaitez éviter de télécharger des paquetages inutiles depuis Internet en attribuant à un dépôt local (un DVD par exemple) une priorité plus élevée.
     </para>
     <important>
      <title>Priorité ou version</title>
      <para>
       Le dépôt ayant la priorité la plus élevée est prioritaire dans tous les cas. Ainsi, assurez-vous que le dépôt de mise à jour a toujours la priorité la plus élevée (20 par défaut), faute de quoi vous risquez d'installer une version obsolète qui ne sera pas mise à jour avant la prochaine mise à jour en ligne.
      </para>
      
     </important>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Nom et URL</term>
    <listitem>
     <para>
      Pour modifier le nom ou l'URL d'un dépôt, sélectionnez-le dans la liste, puis cliquez sur <guimenu>Modifier</guimenu>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </section>

 <section xml:id="sec-y2-sw-repo-gpg-keys">
  <title>Gestion des clés de dépôts</title>
  <para>
   Pour garantir leur intégrité, les dépôts de logiciels peuvent être signés avec la clé GPG du mainteneur des dépôts. À chaque fois que vous ajoutez un nouveau dépôt, YaST vous propose d'importer sa clé. Vérifiez-la comme toutes les autres clés GPG et assurez-vous qu'elle ne change pas. Si vous détectez un changement de clé, il est possible que le dépôt soit à l'origine du problème. Désactivez le dépôt en tant que source d'installation jusqu'à ce que la cause du changement de clé soit identifiée.
  </para>
  <para>
   Pour gérer toutes les clés importées, cliquez sur <guimenu>Clés GPG...</guimenu> dans la boîte de dialogue <guimenu>Dépôts de logiciels configurés</guimenu>. Sélectionnez une entrée pour afficher les principales priorités en bas de la fenêtre. Cliquez sur <guimenu>Ajouter</guimenu>, <guimenu>Modifier</guimenu> ou <guimenu>Supprimer</guimenu> pour ajouter, modifier ou supprimer des clés.
  </para>
 </section>
</section>
