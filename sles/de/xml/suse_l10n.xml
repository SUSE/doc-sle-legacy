<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sect1 PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN"
"novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<sect1 xml:base="suse_l10n.xml" id="sec.suse.l10n">
 <title>Sprach- und länderspezifische Einstellungen</title><indexterm> <primary>System</primary> <secondary>Lokalisierung</secondary> </indexterm> <indexterm> <primary>I18N</primary> </indexterm> <indexterm> <primary>L10N</primary> </indexterm> <indexterm> <primary>Internationalisierung</primary> </indexterm> <indexterm> <primary>Lokalisierung</primary> </indexterm>

 <para>
  Das System wurde zu einem großen Teil internationalisiert und kann an lokale Gegebenheiten angepasst werden. Die Internationalisierung (<emphasis>I18N</emphasis>) ermöglicht spezielle Lokalisierungen (<emphasis>L10N</emphasis>). Die Abkürzungen I18N und L10N wurden von den ersten und letzten Buchstaben der englischsprachigen Begriffe und der Anzahl der dazwischen stehenden ausgelassenen Buchstaben abgeleitet.
 </para>

 <para>
  Die Einstellungen werden mit <systemitem>LC_</systemitem>-Variablen vorgenommen, die in der Datei <filename>/etc/sysconfig/language</filename> definiert sind. Dies bezieht sich nicht nur auf die <emphasis>native Sprachunterstützung </emphasis>, sondern auch auf die Kategorien <emphasis>Meldungen</emphasis> (Sprache) <emphasis>Zeichensatz</emphasis>, <emphasis>Sortierreihenfolge</emphasis>, <emphasis>Uhrzeit und Datum</emphasis>, <emphasis>Zahlen</emphasis> und <emphasis>Währung</emphasis>. Diese Kategorien können direkt über eine eigene Variable oder indirekt mit einer Master-Variable in der Datei <filename>language</filename> festgelegt werden (weitere Informationen erhalten Sie auf der man-Seite zu <command>locale</command>). <indexterm> <primary>Konfigurationsdateien</primary> <secondary>language</secondary> </indexterm>
 </para>

 <variablelist>
  <varlistentry>
   <term><systemitem>RC_LC_MESSAGES</systemitem>, <systemitem>RC_LC_CTYPE</systemitem>, <systemitem>RC_LC_COLLATE</systemitem>, <systemitem>RC_LC_TIME</systemitem>, <systemitem>RC_LC_NUMERIC</systemitem>, <systemitem>RC_LC_MONETARY</systemitem> <indexterm> <primary>Variablen</primary> <secondary>Umgebung</secondary> </indexterm>
   </term>
   <listitem>
    <para>
     Diese Variablen werden ohne das Präfix <systemitem>RC_</systemitem> an die Shell weitergegeben und stehen für die aufgelisteten Kategorien. Die betreffenden Shell-Profile werden unten aufgeführt. Die aktuelle Einstellung lässt sich mit dem Befehl <command>locale</command> anzeigen.
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term><systemitem>RC_LC_ALL</systemitem>
   </term>
   <listitem>
    <para>
     Sofern diese Variable festgelegt ist, setzt Sie die Werte der bereits erwähnten Variablen außer Kraft.
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term><systemitem>RC_LANG</systemitem>
   </term>
   <listitem>
    <para>
     Falls keine der zuvor genannten Variablen festgelegt ist, ist dies das Fallback. Standardmäßig wird nur <systemitem>RC_LANG</systemitem> festgelegt. Dadurch wird es für die Benutzer einfacher, eigene Werte einzugeben.
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term><systemitem>ROOT_USES_LANG</systemitem>
   </term>
   <listitem>
    <para>
     Eine Variable, die entweder den Wert <literal>yes</literal> oder den Wert <literal>no</literal> aufweist. Wenn die Variable auf <literal>no</literal> gesetzt ist, funktioniert <systemitem class="username">root</systemitem> immer in der POSIX-Umgebung.
    </para>
   </listitem>
  </varlistentry>
 </variablelist>

 <para>
  Die Variablen können über den sysconfig-Editor von YaST (siehe <xref linkend="sec.boot.sysconfig.edit"/>) festgelegt werden. Der Wert einer solchen Variable enthält den Sprachcode, den Ländercode, die Codierung und einen Modifier. Die einzelnen Komponenten werden durch Sonderzeichen verbunden:
 </para>

<screen>
  LANG=&lt;language&gt;[[_&lt;COUNTRY&gt;].&lt;Encoding&gt;[@&lt;Modifier&gt;]]
</screen>

 <sect2>
  <title>Beispiele</title>
  <para>
   Sprach- und Ländercode sollten immer gleichzeitig eingestellt werden. Die Spracheinstellungen entsprechen der Norm ISO 639, die unter <ulink url="http://www.evertype.com/standards/iso639/iso639-en.html"/> und <ulink url="http://www.loc.gov/standards/iso639-2/"/> verfügbar ist. Die Ländercodes sind in ISO 3166 aufgeführt (siehe <ulink url="http://en.wikipedia.org/wiki/ISO_3166"/>).


  </para>
  <para>
   Es ist nur sinnvoll, Werte festzulegen, für die verwendbare Beschreibungsdateien unter <filename>/usr/lib/locale</filename> zu finden sind. Anhand der Dateien in <filename>/usr/share/i18n</filename> können mit dem Befehl <command>localedef</command> zusätzliche Beschreibungsdateien erstellt werden. Die Beschreibungsdateien sind Bestandteil des Pakets <systemitem>glibc-i18ndata</systemitem>. Eine Beschreibungsdatei für <literal>en_US.UTF-8</literal> (für Englisch und USA) kann beispielsweise wie folgt erstellt werden:
  </para>

  
<screen>
localedef -i en_US -f UTF-8 en_US.UTF-8
</screen>
  <variablelist>
   <varlistentry>
    <term>
<systemitem>LANG=en_US.UTF-8</systemitem>
    </term>
    <listitem>
     <para>
      Dies ist die Standardeinstellung, wenn während der Installation US-Englisch ausgewählt wurde. Wenn Sie eine andere Sprache ausgewählt haben, wird diese Sprache ebenfalls mit der Zeichencodierung UTF-8 aktiviert.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
<systemitem>LANG=en_US.ISO-8859-1</systemitem> <indexterm> <primary>Kodierung</primary> <secondary>ISO-8859-1</secondary> </indexterm>
    </term>
    <listitem>
     <para>
      Hiermit wird als Sprache Englisch, als Land die USA und als Zeichensatz <literal>ISO-8859-1 </literal> festgelegt. In diesem Zeichensatz wird das Eurozeichen nicht unterstützt, es kann jedoch gelegentlich in Programmen nützlich sein, die nicht für die <literal>UTF-8</literal>-Unterstützung aktualisiert wurden. Die Zeichenkette, mit der der Zeichensatz definiert wird (in diesem Fall <literal>ISO-8859-1</literal>), wird anschließend von Programmen, wie Emacs, ausgewertet.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term><systemitem>LANG=en_IE@euro</systemitem>
    </term>
    <listitem>
     <para>
      Im oben genannten Beispiel wird das Eurozeichen explizit in die Spracheinstellung aufgenommen. Diese Einstellung ist nun grundsätzlich überflüssig, da UTF-8 auch das Eurosymbol enthält. Sie ist nur nützlich, wenn eine Anwendung ISO-8859-15 anstelle von UTF-8 unterstützt.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   In früheren Versionen war es erforderlich, <command>SuSEconfig</command> im Anschluss an alle Änderungen an <filename>/etc/sysconfig/language</filename> auszuführen. SuSEconfig hat die Änderungen dann in <filename>/etc/SuSEconfig/profile</filename> und <filename>/etc/SuSEconfig/csh.login</filename> geschrieben. Bei der Anmeldung wurden diese Dateien durch <filename>/etc/profile</filename> (für die Bash-Shell) oder durch <filename>/etc/csh.login</filename> (für tcsh) gelesen.
  </para>
  <para>
   In den aktuellen Versionen wurde <filename>/etc/SuSEconfig/profile</filename> durch <filename>/etc/profile.d/lang.sh</filename> und <filename>/etc/SuSEconfig/csh.login</filename> durch <filename>/etc/profile.de/lang.csh</filename> ersetzt. Wenn sie jedoch vorhanden sind, werden beide alten Dateien bei der Anmeldung weiterhin gelesen.
  </para>
  <para>
   Der Prozessablauf sieht nun wie folgt aus:
  </para>
  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     Für die Bash: <filename>/etc/profile</filename> liest <filename>/etc/profile.d/lang.sh</filename>, die ihrerseits <filename>/etc/sysconfig/language</filename> analysiert.
    </para>
   </listitem>
   <listitem>
    <para>
     Für tcsh: <filename>/etc/profile</filename> liest <filename>/etc/profile.d/lang.csh</filename>, die ihrerseits <filename>/etc/sysconfig/language</filename> analysiert.
    </para>
   </listitem>
  </itemizedlist>
  <para>
   So wird sichergestellt, dass sämtliche Änderungen an <filename>/etc/sysconfig/language</filename> bei der nächsten Anmeldung in der entsprechenden Shell verfügbar sind, ohne dass zuerst SuSEconfig ausgeführt werden muss.<indexterm> <primary>Konfigurationsdateien</primary> <secondary>Sprache</secondary> </indexterm><indexterm> <primary>Konfigurationsdateien</primary> <secondary>Profil</secondary> </indexterm> <indexterm> <primary>Konfigurationsdateien</primary> <secondary>/etc/profile.d/lang.sh</secondary> </indexterm>
  </para>
  <para>
   Die Benutzer können die Standardeinstellungen des Systems außer Kraft setzen, indem Sie die Datei <filename>~/.bashrc</filename> entsprechend bearbeiten. Wenn Sie die systemübergreifende Einstellung <literal>en_US</literal> für Programmmeldungen beispielsweise nicht verwenden möchten, nehmen Sie beispielsweise <systemitem>LC_MESSAGES=es_ES</systemitem> auf, damit die Meldungen stattdessen auf Spanisch angezeigt werden.
  </para>
 </sect2>

 <sect2 id="sec.suse.l10n.dot.i18n">
  <title>Locale-Einstellungen in <filename>~/.i18n</filename></title>
  <para>
   Wenn Sie mit den Locale-Systemstandardwerten nicht zufrieden sind, können Sie die Einstellungen in <filename>~/.i18n</filename> ändern. Achten Sie dabei jedoch auf die Einhaltung der Bash-Scripting-Syntax. Die Einträge in <filename>~/.i18n</filename> setzen die Systemstandardwerte aus <filename>/etc/sysconfig/language</filename> außer Kraft. Verwenden Sie dieselben Variablennamen, jedoch ohne die <literal>RC_</literal>-Präfixe für den Namespace, also beispielsweise <literal>LANG</literal> anstatt <literal>RC_LANG</literal>:
  </para>
<screen>LANG=cs_CZ.UTF-8
LC_COLLATE=C
</screen>
 </sect2>

 <sect2 id="sec.suse.l10n.fallback">
  <title>Einstellungen für die Sprachunterstützung</title>
  <para>
   Die Dateien in der Kategorie <emphasis>Meldungen</emphasis> werden generell im entsprechenden Sprachverzeichnis (wie beispielsweise <filename>en</filename>) gespeichert, damit ein Fallback vorhanden ist. Wenn Sie für <systemitem>LANG</systemitem> den Wert <literal>en_US</literal> festlegen und in <filename>/usr/share/locale/en_US/LC_MESSAGES</filename> keine Meldungsdatei vorhanden ist, wird ein Fallback auf <filename>/usr/share/locale/en/LC_MESSAGES</filename> ausgeführt.
  </para>
  <para>
   Darüber hinaus kann eine Fallback-Kette definiert werden, beispielsweise für Bretonisch zu Französisch oder für Galizisch zu Spanisch oder Portugiesisch:
  </para>
  <para>
   <systemitem>LANGUAGE=„br_FR:fr_Fr“</systemitem>
  </para>
  <para>
   <systemitem>LANGUAGE=„gl_ES:es_ES:pt_PT“</systemitem>
  </para>
  <para>
   Wenn Sie möchten, können Sie die norwegischen Varianten Nynorsk und Bokmål (mit zusätzlichem Fallback auf <literal>no</literal>) verwenden:
  </para>
  <para>
   <systemitem>LANG=„nn_NO“</systemitem>
  </para>
  <para>
   <systemitem>LANGUAGE=„nn_NO:nb_NO:no“</systemitem>
  </para>
  <para>
   oder
  </para>
  <para>
   <systemitem>LANG=„nb_NO“</systemitem>
  </para>
  <para>
   <systemitem>LANGUAGE=„nb_NO:nn_NO:no“</systemitem>
  </para>
  <para>
   Beachten Sie, das bei Norwegisch auch <systemitem>LC_TIME</systemitem> anders behandelt wird.
  </para>
  

  <para>
   Ein mögliches Problem ist, dass ein Trennzeichen, das zum Trennen von Zifferngruppen verwendet wird, nicht richtig erkannt wird. Dies passiert, wenn <systemitem>LANG</systemitem> auf einen aus zwei Buchstaben bestehenden Sprachcode wie <literal>de</literal> eingestellt ist, die Definitionsdatei, die glibc verwendet, jedoch in <filename>/usr/share/lib/de_DE/LC_NUMERIC</filename> gespeichert ist. Daher muss <systemitem>LC_NUMERIC</systemitem> auf <literal>de_DE</literal> gesetzt sein, damit das System die Trennzeichendefinition erkennen kann.
  </para>
 </sect2>

 <sect2 id="sec.suse.l10n.info">
  <title>Weiterführende Informationen</title>
  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     <emphasis>The GNU C Library Reference Manual</emphasis>, Kapitel <quote>Locales and Internationalization</quote>. Dieses Handbuch ist in <systemitem>glibc-info</systemitem> enthalten. <phrase os="sles;sled">Das Paket befindet sich im SUSE Linux Enterprise-SDK (Software Development Kit). Das SDK ist ein Add-on-Produkt für SUSE Linux Enterprise und ist unter <ulink url="http://download.suse.com/"/> als Download verfügbar. </phrase>
    </para>
   </listitem>
   <listitem>
    <para>
     Markus Kuhn, <emphasis>UTF-8 and Unicode FAQ for Unix/Linux</emphasis>, momentan verfügbar unter <ulink url="http://www.cl.cam.ac.uk/~mgk25/unicode.html"/>.
    </para>
   </listitem>
   <listitem>
    <para>
     <emphasis>Unicode-Howto</emphasis> von Bruno Haible, verfügbar unter <ulink url="http://tldp.org/HOWTO/Unicode-HOWTO-1.html"/>.
    </para>
   </listitem>
  </itemizedlist>
 </sect2>
</sect1>
