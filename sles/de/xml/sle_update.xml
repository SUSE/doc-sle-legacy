<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN"
"novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="sle_update.xml" id="cha.update.sle">
 <title>Aktualisieren von SUSE Linux Enterprise</title>
 <abstract>
  <para>
   SUSE® Linux Enterprise (SLE) bietet die Möglichkeit, ein vorhandenes System ohne komplette Neuinstallation auf die neue Version zu aktualisieren. Es ist keine neue Installation erforderlich. Bestehende Daten, wie Home-Verzeichnisse und Systemkonfigurationen, bleiben erhalten. Während des Lebenszyklus des Produkts können Sie Service Packs anwenden, mit denen Sie die Systemsicherheit erhöhen, Fehler in der Software beheben und Zugriff auf neue Funktionen erhalten. Führen Sie die Installation von einem lokalen CD- oder DVD-Laufwerk oder von einer zentralen Netzwerkinstallationsquelle durch.
  </para>
 </abstract>
 <sect1 id="sec.update.terminology">
  <title>Terminologie</title>

  <para>
   In diesem Kapitel werden verschiedene Begriffe verwendet. Lesen Sie zum besseren Verständnis der Informationen die unten stehenden Definitionen.
  </para>

  <variablelist>
   <varlistentry>
    <term>Rückportierung</term>
    <listitem>
     <para>
      Bei der Rückportierung werden bestimmte Änderungen aus einer neueren Software-Version auf eine ältere Version angewendet. Dies ist am häufigsten beim Beheben von Sicherheitslücken in älteren Software-Komponenten der Fall. In der Regel gehört dieser Vorgang auch zu einem Wartungsmodell, bei dem Verbesserungen oder (seltener) neue Funktionen bereitgestellt werden.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term>Deltarpm</term>
    <listitem>
     <para>
      Ein deltarpm besteht nur aus der binären diff zwischen zwei definierten Versionen eines Pakets und hat daher die kleinste Downloadgröße. Vor der Installation muss das vollständige RPM-Paket auf dem lokalen Rechner neu aufgebaut werden.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Downstream</term>
    <listitem>
     <para>
      Bildlicher Ausdruck, wie Software in der Open-Source-Welt entwickelt wird (vgl. <emphasis>Upstream</emphasis>). Mit <emphasis>Downstream</emphasis> werden Personen oder Organisationen wie SUSE bezeichnet, die den Upstream-Quellcode in andere Software integrieren und so eine Distribution zusammenstellen, die dann von den Endbenutzern verwendet wird. So wandert die Software in Downstream-Richtung von den Entwicklern über die Integratoren bis hin zu den Endbenutzern.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Online-Migration</term>
    <listitem>
     <para>
      Aktualisierung auf ein Service Pack (SP), bei der die erforderlichen Patches über die Online-Aktualisierungswerkzeuge (statt über die Installationsmedien) installiert werden. Dadurch werden alle Pakete des installierten Systems auf den neuesten Zustand (einschließlich Aktualisierungen) von SP3- plus SP2-Aktualisierungen aktualisiert.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term>Paket</term>
    <listitem>
     <para>
      Ein Paket ist eine komprimierte Datei im <literal>RPM</literal>-Format, die die Dateien für ein bestimmtes Programm enthält oder auch optionale Komponenten wie Konfigurationen, Beispiele und Dokumentation.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term>Patch</term>
    <listitem>
     <para>
      Ein Patch enthält mindestens ein Paket und kann per deltarpms angewendet werden. Unter Umständen werden auch Abhängigkeiten zu Paketen aufgebaut, die noch nicht installiert wurden.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Service Packs (SP)</term>
    <listitem>
     <para>
      Kombiniert mehrere Patches zu einem Formular, das einfach zu installieren bzw. bereitzustellen ist. Service Packs sind nummeriert und enthalten üblicherweise Sicherheits-Fixes, Upgrades oder Programmerweiterungen.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Upstream</term>
    <listitem>
     <para>
      Bildlicher Ausdruck, wie Software in der Open-Source-Welt entwickelt wird (vgl. <emphasis>Downstream</emphasis>). Mit <emphasis>Upstream</emphasis> wird das ursprüngliche Projekt, der Autor oder der Betreuer einer Software bezeichnet, die als Quellcode verteilt wird. Rückmeldungen, Patches, Funktionsoptimierungen und andere Verbesserungen wandern von den Endbenutzern oder Beteiligten zu den Upstream-Entwicklern. Diese entscheiden, ob die Anforderung integriert oder abgelehnt wird.
     </para>
     <para>
      Wenn die Projektmitglieder entscheiden, die Anforderung zu integrieren, wird diese in den neuen Versionen der Software auftreten. Eine akzeptierte Anforderung bietet Nutzen für alle Beteiligten.
     </para>
     <para>
      Falls eine Anforderung abgelehnt wird, kommen hierfür unterschiedliche Gründe in Betracht. Die Anforderung weist einen Status auf, der nicht den Richtlinien des Projekts entspricht, sie ist ungültig, wurde bereits integriert oder liegt nicht im Interesse oder im Gesamtplan des Projekts. Eine nicht akzeptierte Anforderung erschwert die Arbeit für die Upstream-Entwickler, da sie ihre Patches mit dem Upstream-Code synchron halten müssen. Diese Vorgehensweise wird daher weitestgehend vermieden, ist jedoch in einigen Fällen unumgänglich.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term>Aktualisierung</term>
    <listitem>
     <para>
      Installation einer neueren <emphasis>Unterversion</emphasis> eines Pakets.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Aufrüstung</term>
    <listitem>
     <para>
      Installation einer neueren <emphasis>Hauptversion </emphasis>eines Pakets oder einer Distribution, die <emphasis>neue Funktionen</emphasis> enthält.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 id="sec.update.nmm">
  <title>Wartungsmodell für SUSE Linux Enterprise 11</title>

  <para>
   Das neue Wartungsmodell für SUSE Linux Enterprise 11 kombiniert Flexibilität und Kontrolle über Ihre Service Packs. Es bietet folgende Vorteile:
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     Service Packs sind weniger umfangreich und können einfacher getestet und implementiert werden.
    </para>
   </listitem>
   <listitem>
    <para>
     Ermöglicht eine Beibehaltung älterer Versionen, jedoch mit Support für das gesamte System.
    </para>
   </listitem>
   <listitem>
    <para>
     Reagiert zwischen Service Packs durch selektive Verbesserungen auf Marktanforderungen und ermöglicht mehr Aktualisierungen im allgemeinen Aktualisierungs-Repository. Durch Auswahl der Verbesserungen werden längere Abstände zwischen Service Packs weniger problematisch.
    </para>
   </listitem>
  </itemizedlist>

  <sect2 id="sec.update.background">
   <title>Hintergrundinformationen</title>
   <para>
    In den letzten Jahren haben die Kunden in ihren Rückmeldungen einen deutlichen Wunsch nach Verbesserungen ausgedrückt. Aus diesem Grund hat SUSE die Bereitstellung von Aktualisierungen an die Benutzer in einigen Punkten überarbeitet:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      Bei SLES 9 gab es nur ein einziges Aktualisierungs-Repository, in dem alle Aktualisierungen gesammelt wurden; es sollte jedoch nur die letzte Versionsaktualisierung unterstützt werden.
     </para>
    </listitem>
    <listitem>
     <para>
      Mit SLES 10 SP1 wurde ein <quote>SP-spezifisches Repository</quote> eingeführt. Dies bedeutet, dass alle Aktualisierungen für ein bestimmtes Service Pack in einem bestimmten Repository bereitstehen. Wenn die Benutzer sich direkt bei Novell Customer Center registriert haben und dann auf ein neueres Service Pack migrieren, verlieren sie den Zugang zu den früheren Repositorys. Benutzer mit SMT oder SUSE Manager konnten und können dagegen weiterhin beliebige SP-Kanäle abonnieren. Der wichtigste Grund für diese Änderung war die geplante sechsmonatige Übergangsfrist (n-1 Service Pack-Support), damit die Kunden das veröffentlichte Service Pack begutachten können und ein gewisses Zeitfenster für die Migration erhalten, in dem sie weiterhin mit ihrem bisherigen SP unterstützt werden.
     </para>
    </listitem>
    <listitem>
     <para>
      SLES 11 GA und SLES 11 SP1 folgten dem Modell aus SLES 10. Mit SLES 11 SP2 wurde ein neues Repository-Modell mit den folgenden Bestandteilen eingeführt:
     </para>
     <orderedlist numeration="lowerroman" spacing="normal">
      <listitem>
       <para>
        Das Aktualisierungs-Repository für SLES 11 SP1 blieb weiterhin abonniert. Alle Aktualisierungen, die auch für SP2 galten, wurden ebenfalls oder ausschließlich im SP1-Aktualisierungs-Repository veröffentlicht. Dies bedeutet, dass die Aktualisierungen nicht gegen die so aufrechterhaltene ABI- und API-Kompatibilität verstoßen.
       </para>
      </listitem>
      <listitem>
       <para>
        Das Aktualisierungs-Repository für SLES 11 SP2 enthält ausschließlich die aktuellen und innovative Aktualisierungen, die (aus verschiedenen Gründen) nicht im SP1-Aktualisierungs-Repository bereitgestellt werden können. Darüber hinaus wurde ein Kern-Repository eingeführt, das als <quote>Schlupfloch</quote> für Pakete fungiert, die weder im SP1- noch im SP2-Aktualisierungs-Repository veröffentlicht wurden.
       </para>
      </listitem>
      <listitem>
        <para>SLES 11 SP4 wird über ein ähnliches Kanalmodell verfügen wie SLES 10. Das Modell gilt als die schnellste und einfachste Weise, Aktualisierungen für ein bestimmtes Service Pack bereitzustellen. Alle Aktualisierungen werden über einen besonderen Aktualisierungskanal bereitgestellt. Zusätzliche Kanäle werden auf dem Rechner zur Verfügung gestellt, aber die alten Kanäle werden entfernt. </para>
      </listitem>
     </orderedlist>
    </listitem>
   </itemizedlist>
   <para>
    <xref linkend="fig.update.maintenance.evolution"/> stellt einige der oben genannten Aspekte vor.
   </para>
   <figure id="fig.update.maintenance.evolution">
    <title>Weiterentwicklung der Wartungsbereitstellung (gilt auch für SLED)</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="new-maintenance-model.svg" width="75%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="new-maintenance-model.png" width="75%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Unsere Produkte haben einen 10-jährigen Lebenszyklus: 10 Jahre allgemeiner Support und 3 Jahre erweiterter Support. Größere Versionen werden alle 4 Jahre und Service Packs alle 18 Monate veröffentlicht. Der langfristige Service Pack-Support (Long Term Service Pack Support) bietet ein erweitertes Fenster bzw. einen verlängerten Lebenszyklus für Hauptversionen <xref linkend="fig.update.maintenance.long-term-service-pack"/>).
   </para>
   <figure id="fig.update.maintenance.long-term-service-pack">
    <title>Langfristiger Service Pack-Support</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="long-term-service-pack-support.svg" width="75%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="long-term-service-pack-support.png" width="75%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Der langfristige Service Pack-Support muss explizit abonniert werden – entweder in der Standardversion oder in der Prioritätsversion. Er wirkt sich nicht auf die Bedingungen der L1- oder L2-Verträge aus. Sicherheitsaktualisierungen werden <quote>proaktiv</quote> behandelt: Dies sind alle nicht durch den Benutzer bedingten Updates aufgrund kritischer Sicherheitslücken, lokaler Root Exploits im Kernel oder anderer Root Exploits, die ohne Benutzerinteraktion direkt ausführbar sind.
   </para>
  </sect2>

  <sect2 id="sec.update.supportlevel-lifecycle">
   <title>Supportstufen</title>
   <para>
    Der Bereich für erweiterte Supportstufen beginnt in Jahr 8 und endet in Jahr 10. Sie umfassen fortlaufende L3-Diagnose auf technischer Ebene und rückwirkende Behebung kritischer Fehler. Diese Supportstufen führen proaktiv Updates für einfache lokale Root-Exploits in Kernel sowie für andere Root-Exploits durch, die direkt ohne Benutzerinteraktion ausgeführt werden können. Darüber hinaus werden vorhandene Workloads, Softwarestapel und Hardware mit einer limitierten Paketausschlussliste unterstützt. Einen Überblick finden Sie in <xref linkend="tab.security-and-bug-fixes"/>.
   </para>
   <table id="tab.security-and-bug-fixes">
    <title>Sicherheitsupdates und Fehlerbehebungen</title>
    <tgroup cols="6">
     <colspec colname="c1"/>
     <colspec colname="c2"/>
     <colspec colname="c3"/>
     <colspec colname="c4"/>
     <colspec colname="c5"/>
     <colspec colname="c6"/>
     <thead>
      <row>
       <entry/>
       <entry namest="c2" nameend="c5" align="center">
        <para>
         – Allgemeiner Support –
        </para>
       </entry>
       <entry>
        <para>
         Erweiterter Support
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Thema
        </para>
       </entry>
       <entry>
        <para>
         Aktueller SP 
        </para>
       </entry>
       <entry>
        <para>
         SP (n-1)
<?dblinebreak ?>


         6 Monate
        </para>
       </entry>
       <entry>
        <para>
         SP (n-1)
<?dblinebreak ?>


         mit LTSS
        </para>
       </entry>
       <entry>
        <para>
         Jahr 6 und 7
<?dblinebreak ?>


         mit LTSS
        </para>
       </entry>
       <entry>
        <para>
         Jahr 8, 9, 10
<?dblinebreak ?>


         mit LTSS
        </para>
       </entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>
        <para>
         L1/L2 Technische Services
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Proaktive Wartung
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry/>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry/>
      </row>
      <row>
       <entry>
        <para>
         Treiberaktualisierungen über PLDP
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry/>
       <entry/>
      </row>
      <row>
       <entry>
        <para>
         Proaktive Sicherheitsupdates
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry/>
      </row>
      <row>
       <entry>
        <para>
         L3 Technischer Support
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Backports verfügbar
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry/>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </sect2>

  <sect2 id="sec.update.nmm.channels">
   <title>Kanalmodell</title>
   <para os="sles">
    Beim bisherigen Wartungsmodell waren <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> zwei Kanäle zugewiesen: <literal>SLES11-SPx-Pool</literal> und <literal>SLES11-SPx-Updates</literal>. Während der Online-Migration auf SPx+1 wurden diese Kanäle vorübergehend durch <literal>SLES11-SPx-Online</literal> ersetzt.
   </para>
   
   <para>
    Mit SUSE Linux Enterprise SP 2 wurde das Kanal-Layout so geändert, dass die Vorteile des neuen Wartungsmodells unterstützt werden. <xref linkend="tab.update.nmm.channels.sp2"/> enthält eine Liste aller Kanäle von SP1 bis SP3.
   </para>
   <table id="tab.update.nmm.channels.sp2">
    <title>Kanal-Layout für SUSE Linux Enterprise 11 SP1, SP2 und SP3</title>

    <tgroup cols="3">
     <colspec colnum="1" colname="c1" colwidth="1.2*"/>
     <colspec colnum="2" colname="c2" colwidth="3*"/>
     <colspec colnum="3" colname="c3" colwidth="3*"/>
     <thead>
      <row>
       <entry>
        <para>
         Typ
        </para>
       </entry>
       <entry>
        <para>
         SLES
        </para>
       </entry>
       <entry>
        <para>
         SLED
        </para>
       </entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>
        <para>
         Erforderliche Kanäle
        </para>
       </entry>
       <entry>
        <para>
         SP1
        </para>
        <simplelist>
         <member><literal>SLES11-SP1-Pool</literal> </member> <member><literal>SLES11-SP1-Updates</literal> </member>
        </simplelist>
        <para>
         SP2
        </para>
        <simplelist>
         <member><literal>SLES11-SP1-Pool</literal> </member> <member><literal>SLES11-SP1-Updates</literal> </member> <member><literal>SLES11-SP2-Core</literal> </member> <member><literal>SLES11-SP2-Updates</literal> </member>
        </simplelist>
        <para>
         SP3
        </para>
        <simplelist>
         <member><literal>SLES11-SP3-Pool</literal> </member> <member><literal>SLES11-SP3-Updates</literal> </member>
        </simplelist>
         <para>SP4</para>
         <simplelist>
           <member><literal>SLES11-SP4-Pool</literal> </member> <member><literal>SLES11-SP4-Updates</literal></member>
         </simplelist>
       </entry>
       <entry>
        <para>
         SP1
        </para>
        <simplelist>
         <member><literal>SLED11-SP1-Pool</literal> </member> <member><literal>SLED11-SP1-Updates</literal> </member>
        </simplelist>
        <para>
         SP2
        </para>
        <simplelist>
         <member><literal>SLED11-SP1-Pool</literal> </member> <member><literal>SLED11-SP1-Updates</literal> </member> <member><literal>SLED11-SP2-Core</literal> </member> <member><literal>SLED11-SP2-Updates</literal> </member>
        </simplelist>
        <para>
         SP3
        </para>
        <simplelist>
         <member><literal>SLED11-SP3-Pool</literal> </member> <member><literal>SLED11-SP3-Updates</literal> </member>
        </simplelist>
        <para>SP4</para>
         <simplelist>
           <member><literal>SLED11-SP4-Pool</literal> </member> <member><literal>SLED11-SP4-Updates</literal></member>
         </simplelist>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Optionale Kanäle
        </para>
       </entry>
       <entry>
        <para>
         SP1
        </para>
        <simplelist>
         <member><literal>SLES11-SP1-Debuginfo-Pool</literal> </member> <member><literal>SLES11-SP1-Debuginfo-Updates</literal> </member>
        </simplelist>
        <para>
         SP2
        </para>
        <simplelist>
         <member><literal>SLES11-SP2-Debuginfo-Core</literal> </member> <member><literal>SLES11-SP2-Debuginfo-Updates</literal> </member> <member><literal>SLES11-Extras</literal> </member> <member><literal>SLES11-SP2-Extension-Store</literal> </member>
        </simplelist>
        <para>
         SP3
        </para>
        <simplelist>
         <member><literal>SLES11-SP3-Debuginfo-Core</literal> </member> <member><literal>SLES11-SP3-Debuginfo-Updates</literal> </member> <member><literal>SLES11-SP3-Extension-Store</literal> </member> <member><literal>SLES11-Extra</literal> </member>
        </simplelist>
         <para>SP4</para>
         <simplelist>
           <member><literal>SLES11-SP4-Debuginfo-Pool</literal> </member> <member><literal>SLES11-SP4-Debuginfo-Updates</literal></member> <member><literal>SLES11-Extra</literal></member> <member><literal>SLES11-Security-Module</literal></member>
         </simplelist>
       </entry>
       <entry>
        <para>
         SP1
        </para>
        <simplelist>
         <member><literal>SLED11-SP1-Debuginfo-Pool</literal> </member> <member><literal>SLED11-SP1-Debuginfo-Updates</literal> </member>
        </simplelist>
        <para>
         SP2
        </para>
        <simplelist>
         <member><literal>SLED11-SP2-Debuginfo-Core</literal> </member> <member><literal>SLED11-SP2-Debuginfo-Updates</literal> </member> <member><literal>SLED11-Extras</literal> </member> <member><literal>SLED11-SP2-Extension-Store</literal> </member>
        </simplelist>
        <para>
         SP3
        </para>
        <simplelist>
         <member><literal>SLED11-SP3-Debuginfo-Core</literal> </member> <member><literal>SLED11-SP3-Debuginfo-Updates</literal> </member> <member><literal>SLED11-SP3-Extension-Store</literal> </member> <member><literal>SLED11-Extra</literal> </member>
        </simplelist>
         <para>SP4</para>
         <simplelist>
           <member><literal>SLED11-SP4-Debuginfo-Pool</literal> </member> <member><literal>SLED11-SP4-Debuginfo-Updates</literal></member>
         </simplelist>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Produktspezifisch (Beispiele)
        </para>
       </entry>
       <entry>
        <simplelist>
         <member><literal>SLES11-WebYaST-SP2-Pool</literal> </member> <member><literal>SLES11-WebYaST-SP2-Updates</literal> </member>
        </simplelist>
       </entry>
       <entry>
        <simplelist>
         <member><literal>SLED11-MSI-Updates</literal> </member>
        </simplelist>
       </entry>
      </row>
     </tbody>
    </tgroup>
   </table>
   <variablelist>
    <title>Beschreibung der erforderlichen Kanäle</title>
    <varlistentry>
     <term>Core</term>
     <listitem>
      <para>
       Teilmenge des entpackten Installationsmediums. Enthält lediglich die Pakete, die als <quote>Core</quote> von SPx gelten (etwa 30 % der gesamten Pakete). Die SP-Repositorys enthalten nur Pakete für ein bestimmtes SP und die zugehörigen Themen (beispielsweise Hardware-Befähigung). Nur in SP2.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Updates</term>
     <listitem>
      <para>
       Wartungspakete für Pakete im entsprechenden <literal>Core</literal>- oder <literal>Pool</literal>-Repository.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Pool</term>
     <listitem>
      <para>
       Enthält alle binären RPMs vom Installationsmedium, dazu Schemadaten und Supportstatus-Metadaten.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <variablelist>
    <title>Beschreibung der optionalen Kanäle</title>
    <varlistentry>
     <term>Debuginfo-Pool</term>
     <term>Debuginfo-Updates</term>
     <listitem>
      <para>
       Diese Kanäle enthalten statischen Inhalt. Dabei wird nur der Kanal <literal>Debuginfo-Updates</literal> aktualisiert. Aktivieren Sie diese Kanäle, wenn die Bibliotheken mit Informationen zur Fehlersuche installiert werden sollen.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Extension-Store</term>
     <listitem>
      <para> Zurzeit nicht verwendet. Soll Pakete für (künftige) Add-On-Produkte enthalten. Der Kanal „Extension Store“ ist ab SLES 11 SP4 nicht mehr verfügbar.</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>LTSS-Updates</term>
     <listitem>
      <para>
       Wartungsaktualisierungen für Pakete im entsprechenden <literal>Pool</literal>-Repository für Installationen mit LTSS (Long Term Support Service). Für diese Kanäle ist ein LTSS-Vertrag erforderlich.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <sect3 id="sec.update.nmm.channels.origin">
    <title>Ursprung der Pakete</title>
    <formalpara>
     <title>Einführung von SUSE Linux Enterprise 11 SP3/SP4</title>
     <para>Mit der Installation von SP3 stehen nur noch zwei Kanäle zur Verfügung: SLES11-SP3-Pool und SLES11-SP3-Updates. Alle vorherigen Kanäle aus SP2 sind sichtbar, jedoch nicht aktiviert. Diese deaktivierten Kanäle sind nur für Benutzer erforderlich, die besondere Anforderungen stellen. 
     </para>
    </formalpara>
   </sect3>
   <sect3 id="sec.update.nmm.channels.working">
    <title>Arbeiten mit Kanälen</title>
    <para>
     Bei der Registrierung erhält das System Kanäle vom Customer Center. Die Kanalnamen sind bestimmten URIs im Customer Center zugeordnet (siehe <ulink url="http://scc.suse.com"/>). Zum Auflisten aller verfügbaren Kanäle auf dem System geben Sie das folgende <command>zypper</command>-Kommando ein:
    </para>
<screen>zypper repos -u</screen>

    <para>
     Hiermit erhalten Sie eine Liste aller verfügbaren Kanäle auf dem System. Für jeden Kanal werden der Alias und der Name aufgeführt, und es ist angegeben, ob der Kanal aktiviert ist und jeweils auf den neuesten Stand gebracht wird. Mit der Option <option>-u</option> erhalten Sie außerdem die URI, von der der Kanal stammt.
    </para>
    <para>
     Zum Entfernen alter Kanäle (z. B. aus SP1) geben Sie das Kommando <command>zypper removerepo</command> und den Namen des oder der Kanäle ein. Mit dem folgenden Kommando entfernen Sie beispielsweise die alten Kanäle aus SP1 und SP2:
    </para>
<screen>zypper removerepo SLES11-SP1-Pool SLES11-SP1-Updates \
  SLE11-SP1-Debuginfo-Pool SLE11-SP1-Debuginfo-Updates \
  SLES11-SP2-Core SLES11-SP2-Updates \
  SLE11-SP2-Debuginfo-Core SLES11-SP2-Extension-Store\
  SLE11-SP2-Debuginfo-Updates</screen>
    <para>
     Sollen einige Kanäle wieder hinzugefügt werden, melden Sie sich bei <ulink url="http://www.novell.com/ncc"/> an und wählen Sie <menuchoice> <guimenu>My Products (Meine Produkte)</guimenu> <guimenu>Mirror Credentials (Berechtigungen spiegeln)</guimenu> </menuchoice> im Menü. Eine Liste mit URIs wird angezeigt; Sie können nur Kanäle aus dieser Produktliste hinzufügen. Mit dem folgenden Kommando (in einer Zeile und ohne den umgekehrten Schrägstrich) fügen Sie beispielsweise den SP2 Extension Store hinzu:
    </para>
<screen>zypper addrepo -n SLES11-SP2-Extension-Store \
 https://nu.novell.com/repo/$RCE/SLES11-SP2-Extension-Store/nu_novell_com:SLES11-SP2-Extension-Store</screen>
   </sect3>
    
    
  </sect2>
 
 </sect1>
  
 <sect1 id="sec.update.proc.prep.paths">
  <title>Unterstützte Aufrüstungspfade auf SLE SP4</title>


  <variablelist>
   <varlistentry>
    <term>Aufrüsten von SLES 8, SLES 9 und NLD 9</term>
    <listitem>
     <para>
      Für diese Versionen werden keine direkten Aufrüstungspfade unterstützt. Stattdessen wird eine Neuinstallation empfohlen.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Aufrüsten von SUSE Linux Enterprise 10 (mit beliebigem Service Pack)</term>
    <listitem>
      
     <para>Für die Aufrüstung von SLES 10 GA und SPx oder SLES 11 GA oder SP1 auf SLES 11 SP3 stehen mehrere Aufrüstungspfade zur Auswahl, für die ggf. zusätzliche Aufrüstungsschritte erforderlich sind:</para>
      <itemizedlist mark="bullet" spacing="normal">
        <listitem>
          <para>SLES 10 GA -&gt; SLES 10 SP1 -&gt; SLES 10 SP2 -&gt; SLES 10 SP3 -&gt; SLES 10 SP4 -&gt; SLES 11 SP3 oder</para>
        </listitem>
        <listitem>
          <para>SLES 11 GA -&gt; SLES 11 SP1 -&gt; SLES 11 SP2 -&gt; SLES 11 SP3 -&gt; SLES 11 SP4</para>
        </listitem>
      </itemizedlist>
     <para>Die Aufrüstung von SLES 10 SP4 wird über bootfähige Medien (auch PXE-Boot) unterstützt. Weitere Informationen finden Sie in den Versionshinweisen unter <ulink url="https://www.suse.com/releasenotes/x86_64/SUSE-SLES/11-SP4/#Update.General.Sequence"/>.
       </para>
      <para>
        Wichtiger Hinweis für SLED-Benutzer: Einige devel-Pakete wurden vom <literal>SLED11-SP2</literal>-Installationsmedium in das Repository <literal>SLED11-Extras</literal> verschoben. Damit beim Aufrüsten keine Abhängigkeitskonflikte auftreten, aktualisieren Sie dieses Repository, bevor Sie die eigentliche Aufrüstung starten. Führen Sie <command>yast2 repositories</command> aus und aktivieren Sie dort den Eintrag <literal>SLED11-Extras</literal>. Unter SLES ist dieser zusätzliche Schritt nicht erforderlich.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Aufrüsten von SUSE Linux Enterprise 11 GA</term>
    <listitem>
     <para>
      Es gibt keinen unterstützten direkten Migrationspfad zu SUSE Linux Enterprise 11 SP3. Zunächst müssen Sie SUSE Linux Enterprise 11 GA auf SP1 aktualisieren. Fahren Sie dann mit <xref linkend="sec.update.sle11sp1"/> und <xref linkend="sec.update.sle11sp2"/> fort.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Aufrüsten von SUSE Linux Enterprise 11 SP1</term>
    <listitem>
     <para>
      Weitere Informationen finden Sie unter <xref linkend="sec.update.sle11sp1"/>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Aufrüsten von SUSE Linux Enterprise 11 SP2</term>
    <listitem>
     <para>
      Weitere Informationen finden Sie unter <xref linkend="sec.update.sle11sp2"/>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Aufrüsten von SUSE Linux Enterprise 11 SP3</term>
    <listitem>
     <para>
      Weitere Informationen finden Sie unter <xref linkend="sec.update.sle11sp3"/>.
     </para>
    </listitem>
   </varlistentry> 
  </variablelist>

  <important>
   <title>Architekturübergreifende Aufrüstungen werden nicht unterstützt</title>
   <para>
    
    Architekturübergreifende Aufrüstungen (32 Bit auf 64 Bit bzw. 64 Bit auf 32 Bit) werden nicht unterstützt.
   </para>
  </important>
  
 </sect1>
 <sect1 id="sec.update.prep">
  <title>Allgemeine Vorbereitungen für die Aktualisierung</title>

  <para>
   Vor Beginn der Aktualisierung muss das System ordnungsgemäß vorbereitet werden. Zur Vorbereitung gehören unter anderem das Sichern der Daten und das Lesen der Versionshinweise.
  </para>

  <sect2 id="sec.update.prep.backup">
   <title>Anlegen einer Sicherungskopie</title>
   <para>
    Kopieren Sie die bestehenden Konfigurationsdateien vor der Aktualisierung auf ein separates Medium (wie ein Bandlaufwerk oder eine externe Festplatte), um die Daten zu sichern. Dies gilt hauptsächlich für die in <filename>/etc</filename> gespeicherten Dateien sowie einige der Verzeichnisse und Dateien in <filename>/var</filename> und <filename>/opt</filename>. Zudem empfiehlt es sich, die Benutzerdaten in <filename>/home</filename> (den <envar>HOME</envar>-Verzeichnissen) auf ein Sicherungsmedium zu schreiben. Melden Sie sich zur Sicherung dieser Daten als <systemitem class="username">root</systemitem> an. Nur der Benutzer <systemitem class="username">root</systemitem> verfügt über die Leseberechtigung für alle lokalen Dateien.
   </para>
   <para>
    Wenn Sie in YaST den Installationsmodus <guimenu>Vorhandenes System aktualisieren</guimenu> ausgewählt haben, können Sie später wahlweise eine (System-)Sicherung ausführen. Sie können alle geänderten Dateien und die Dateien aus dem Verzeichnis <filename>/etc/sysconfig</filename> einschließen. Dies ist allerdings keine vollständige Sicherung, da alle anderen wichtigen, oben genannten Verzeichnisse außer Acht gelassen werden. Die Sicherungskopie befindet sich im Verzeichnis<filename>/var/adm/backup</filename>.
   </para>
  </sect2>

  <sect2 id="sec.update.prep.disks">
   <title>Partitionierung und Festplattenspeicher</title>
   <para>
    Notieren Sie sich vor der Aktualisierung die Root-Partition. Mit dem Befehl <command>df /</command> können Sie den Gerätenamen der Root-Partition anzeigen. In <xref linkend="aus.update.df"/> ist <filename>/dev/sda3</filename> die Root-Partition, die Sie sich notieren sollten (eingehängt als <filename>/</filename>).
   </para>
   <example id="aus.update.df">
    <title>Über <command>df -h</command> angezeigte Liste</title>

<screen os="sles">Filesystem     Size  Used Avail Use% Mounted on
     /dev/sda3       74G   22G   53G  29% /
     tmpfs          506M     0  506M   0% /dev/shm
     /dev/sda5      116G  5.8G  111G   5% /home
     /dev/sda1       44G    4G   40G   9% /data</screen>
   </example>
   <para>
    Software weist normalerweise von Version zu Version mehr <quote>Umfang</quote> auf. Folglich sollten Sie vor dem Aktualisieren mit <command>df</command> den verfügbaren Partitionsspeicher überprüfen. Wenn Sie befürchten, dass demnächst kein Speicherplatz mehr zur Verfügung steht, sichern Sie die Daten vor der Aktualisierung und partitionieren Sie Ihr System neu. Es gibt keine Faustregel hinsichtlich des Speicherplatzes einzelner Partitionen. Die Platzanforderungen hängen von Ihrem bestimmten Partitionsprofil und von der ausgewählten Software ab.
   </para>
  </sect2>

  <sect2 id="sec.update.prep.vms">
   <title>Virtuelle Computer herunterfahren</title>
   <para>
    Wenn Ihr Rechner als VM-Hostserver für KVM oder Xen fungiert, müssen Sie vor der Aktualisierung alle aktiven VM-Gäste ordnungsgemäß herunterfahren. Andernfalls können Sie nach der Aktualisierung wahrscheinlich nicht mehr auf die Gäste zugreifen.
   </para>
  </sect2>

  <sect2 id="sec.update.prep.relnotes">
   <title>Versionsspezifische Anforderungen</title>
   <para>
    Die versionsspezifischen Anforderungen finden Sie in den Versionshinweisen, die der Aktualisierung beiliegen. Dort finden Sie auch weitere Informationen zum Aktualisierungsverfahren.
   </para>
   <para>
    Die aktuelle Fassung der Versionshinweise mit den neuesten Informationen zu <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> finden Sie online unter <ulink url="http://www.suse.com/doc/sles11/#additional"/>.
   </para>
  </sect2>
 </sect1>
 <sect1 id="sec.update.sle11sp1">
  <title>Aktualisieren von SLE 11 SP1 auf SLE 11 SP2</title>

  <para>
   Es werden verschiedene Methoden zur Aktualisierung eines Systems mit SUSE Linux Enterprise 11 SP1 auf Service Pack 2 unterstützt. Sie können wahlweise die erforderlichen Patches mit den Online-Aktualisierungswerkzeugen installieren (<quote>Online-Migration</quote>) oder die Aktualisierung über das Service Pack-Installationsmedium durchführen. Darüber hinaus lassen sich die Aktualisierungen über Server vornehmen, auf denen die Abonnementverwaltung oder SUSE Manager gehostet wird.
  </para>

  <para>
   Die Online-Migration wird durch die folgenden Werkzeuge unterstützt:
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     <guimenu>YaST Wagon</guimenu> (grafische Bedienoberfläche)
    </para>
   </listitem>
   <listitem>
    <para>
     <command>zypper</command> (Kommandozeile)
    </para>
   </listitem>
  </itemizedlist>

  <para>
   Alternativ können Sie das vollständige Service Pack-Medium (DVD-ISO-Image) herunterladen. Zum Starten der Aktualisierung booten Sie das System vom physischen Service Pack-Medium oder von einer Installationsquelle im Netzwerk.
  </para>

  <sect2 id="sec.update.sle11spx.online">
   <title>Online-Migration</title>
   <para>
    Die Aktualisierung des Systems mit der Online-Migration erfolgt aus dem laufenden System heraus. Sie müssen das System nur einmal nach Abschluss der Aktualisierung neu starten.
   </para>
   <sect3 id="sec.update.sle11spx.online.requirements">
    <title>Anforderungen</title>
    <para>
     Für eine Online-Aktualisierung gelten die nachstehenden Anforderungen. Beachten Sie auch <xref linkend="sec.update.prep"/>.
    </para>
    <variablelist>
     <varlistentry>
      <term>Produktregistrierung</term>
      <listitem>
       <para>
        Um eine Verbindung mit den Aktualisierungskanälen herstellen zu können, muss Ihr Produkt registriert sein. Ist dies nicht der Fall, starten Sie die Registrierung entweder mit dem Modul <guimenu>Novell Customer Center-Konfiguration</guimenu> in YaST oder mit dem Kommandozeilenwerkzeug <command>suse_register</command>.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Durchführung eines Online-Updates</term>
      <listitem>
       <para>
        Überprüfen Sie, ob die aktuellen Patches für die zurzeit installierte Version installiert sind. Führen Sie vor der Online-Migration zunächst ein Online-Update aus. Wenn Sie eine grafische Bedienoberfläche nutzen, starten Sie das YaST-Online-Update oder das Aktualisierungs-Miniprogramm. Führen Sie in der Kommandozeile die folgenden Kommandos aus (das letzte Kommando muss zweimal ausgeführt werden):
       </para>
<screen>zypper ref -s
zypper update -t patch
zypper update -t patch</screen>
       <para>
        Booten Sie das System bei Bedarf neu.
       </para>
       <para>
        Unter <xref linkend="cha.onlineupdate.you"/> oder <xref linkend="sec.zypper.softup"/> finden Sie weitere Informationen zu den Online-Update-Werkzeugen.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Software von Drittanbietern</term>
      <listitem>
       <para>
        Wenn Ihr Setup Drittanbieter-Software oder Zusatzsoftware umfasst, sollten Sie dieses Verfahren auf einem anderen Rechner testen, um sicherzustellen, dass beim Update alle Abhängigkeiten erhalten bleiben.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
    <important>
     <title>Vollständige Ausführung der Online-Migration wichtig</title>
     <para>
      Die Online-Migration muss stets von Anfang bis Ende ausgeführt werden. Wird eine laufende Online-Migration unterbrochen, so wird die Software des Systems unwiederbringlich beschädigt.
     </para>
    </important>
   </sect3>
   <sect3 id="sec.update.sle11spx.online.wagon">
    <title>Online-Migration mit YaST <guimenu>Wagon</guimenu></title>
     <para>Die erforderlichen Schritte für ein SLES 11 SP1-System finden Sie unter <ulink url="https://www.suse.com/support/kb/doc.php?id=7011872"/>. Das nachfolgende Verfahren gilt für die Online-Migration von SP2 zu SP3.</para>     
    <procedure>
     <step performance="required">
      <para>
       Wenn alle Anforderungen erfüllt sind (siehe <xref linkend="sec.update.sle11spx.online.requirements"/>), zeigt das Aktualisierungs-Miniprogramm in der Kontrollleiste eine Meldung an, dass eine Aufrüstung für die Distribution verfügbar ist. Klicken Sie darauf, um YaST <guimenu>Wagon</guimenu> zu starten. Alternativ führen Sie <command>/usr/sbin/wagon</command> als <systemitem class="username">root</systemitem> in der Kommandozeile aus.
      </para>
     </step>
     <step performance="required">
      <para>
       Bestätigen Sie das Dialogfeld <guimenu>Willkommen</guimenu> mit <guimenu>Weiter</guimenu>.
      </para>
     </step>
     <step performance="required">
      <para>
       Wenn <guimenu>Wagon</guimenu> feststellt, dass die Anforderungen nicht erfüllt sind (erforderliche Wartungs-Aktualisierungen sind verfügbar, jedoch noch nicht installiert), wird automatisch eine Selbstaktualisierung gestartet, und Sie müssen das System unter Umständen neu booten. Befolgen Sie die Anweisungen auf dem Bildschirm.
      </para>
     </step>
     <step performance="required">
      <para>
       Wählen Sie im nachfolgenden Dialogfeld die Aktualisierungsmethode aus. Mit <guimenu>Customer Center</guimenu> verwenden Sie die Standardeinrichtung (empfohlen).
      </para>
      <para>
       Klicken Sie auf <guimenu>Benutzerdefinierte URL</guimenu> und wählen Sie die Software-Kanäle für die Online-Migration aus. Eine Liste der Kanäle wird angezeigt, in der Sie die Kanäle je nach Bedarf manuell aktivieren, deaktivieren, hinzufügen und löschen können. Fügen Sie die Aktualisierungsquelle(n) für SP2 hinzu. Dies sind wahlweise das SP2-Installationsmedium oder die Kanäle <literal>SP2-Core</literal> und <literal>SP2-Updates</literal>. Durch Klicken auf  <guimenu>OK </guimenu> gelangen Sie zurück zum Dialogfeld <guimenu>Aktualisierungsmodus</guimenu>.
      </para>
      <para>
       Zum Prüfen der Änderungen, die im Rahmen des Aktualisierungsvorgangs erfolgt sind, wählen Sie <guimenu>Automatische Repository-Änderungen überprüfen</guimenu>.
      </para>
      <para>
       Fahren Sie mit <guimenu>Weiter</guimenu> fort.
      </para>
     </step>
     <step performance="required">
      <para>
       Das System wird erneut registriert. Während des Vorgangs werden die Kanäle <literal>SP2-Core</literal> und <literal>SP2-Updates</literal> dem System hinzugefügt (weitere Informationen siehe <xref linkend="sec.update.nmm.channels"/>). Bestätigen Sie das Hinzufügen der Kanäle.
      </para>
     </step>
     <step performance="required">
      <para>
       Wenn Sie im Dialogfeld <guimenu>Aktualisierungsmodus</guimenu> die Option <guimenu>Automatische Repository-Änderungen überprüfen</guimenu> ausgewählt haben, wird die Liste der Repositorys angezeigt, und Sie können Kanäle manuell aktivieren, deaktivieren, hinzufügen oder löschen. Klicken Sie abschließend auf <guimenu>OK</guimenu>.
      </para>
     </step>
     <step performance="required">
      <para>
       Wählen Sie den Migrationstyp aus:
      </para>
      <variablelist>
       <varlistentry>
        <term><guimenu>Full migration (Vollständige Migration)</guimenu>
        </term>
        <listitem>
         <para>
          Aktualisiert alle Pakete auf den aktuellen SP2-Stand.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term><guimenu>Minimal Migration (Minimale Migration)</guimenu>
        </term>
        <listitem>
         <para>
          Aktualisiert eine minimale Gruppe von Paketen auf den aktuellen SP2-Stand.
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
      <para>
       Mit <guimenu>Erweitert</guimenu> wählen Sie die Repositorys für die Aufrüstung manuell aus.
      </para>
      <para>
       Bestätigen Sie Ihre Auswahl.
      </para>
     </step>
     <step performance="required">
      <para>
       Der Bildschirm <guimenu>Einstellungen für Distributionsaktualisierung</guimenu> wird geöffnet. Hier sehen Sie eine Zusammenfassung der Aktualisierungskonfiguration. Die folgenden Abschnitte stehen zur Verfügung:
      </para>
      <variablelist>
       <varlistentry>
        <term><guimenu>Add-on-Produkte</guimenu>
        </term>
        <listitem>
         <para>
          Sie können Add-on-Produkte zu SUSE Linux Enterprise Server oder Drittanbieterprodukte hier hinzufügen.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term><guimenu>Optionen für das Update</guimenu>
        </term>
        <listitem>
         <para>
          Liste der Aktionen, die im Rahmen der Aktualisierung ausgeführt werden. Sie können festlegen, ob zunächst alle Pakete heruntergeladen und dann im Ganzen installiert werden sollen (Standardeinstellung, empfohlen) oder ob sie einzeln nacheinander heruntergeladen und installiert werden sollen.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term><guimenu>Pakete</guimenu>
        </term>
        <listitem>
         <para>
          Statistischer Überblick über die Aktualisierung.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>Sicherung</term>
        <listitem>
         <para>
          Legen Sie die Optionen für die Sicherung fest.
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
      <para>
       Klicken Sie zum Fortfahren auf <guimenu>Weiter</guimenu> und dann auf <guimenu>Start The Update (Aktualisierung starten)</guimenu>.
      </para>
      <important>
       <title>Abbrechen der Online-Migration</title>
       <para>
        Auf diesem Bildschirm sowie auf allen vorhergehenden Bildschirmen können Sie die Online-Migration schadlos abbrechen, <emphasis>bevor</emphasis> Sie auf <guimenu>Start The Update (Aktualisierung starten)</guimenu> klicken. Mit <guimenu>Abbrechen</guimenu> können Sie den Aktualisierungsvorgang verlassen und das System in dem Zustand wiederherstellen, den es vor dem Starten von YaST Wagon aufwies. Befolgen Sie die Anweisungen auf dem Bildschirm und führen Sie die Registrierung erneut aus, bevor Sie Wagon beenden, damit die SP2-Kanäle vom System entfernt werden.
       </para>
      </important>
     </step>
     <step performance="required">
      <para>
       Während des Aktualisierungsvorgangs werden die folgenden Schritte ausgeführt:
      </para>
      <substeps performance="required">
       <step performance="required">
        <para>
         Die Pakete werden aktualisiert.
        </para>
       </step>
       <step performance="required">
        <para>
         <command>SuSEconfig</command> wird ausgeführt.
        </para>
       </step>
       <step performance="required">
        <para>
         Das System wird neu gebootet (klicken Sie auf <guimenu>OK</guimenu>).
        </para>
       </step>
       <step performance="required">
        <para>
         Das soeben aktualisierte System wird erneut registriert.
        </para>
       </step>
      </substeps>
     </step>
     <step performance="required">
      <para>
       Das System wurde erfolgreich auf Service Pack 2 aktualisiert.
      </para>
     </step>
    </procedure>
    
   </sect3>
   <sect3 id="sec.update.sle11spx.online.zypper">
    <title>Online-Migration mit <command>zypper</command></title>
    <procedure>
     <step performance="required">
      <para>
       Wenn alle Anforderungen erfüllt sind (siehe <xref linkend="sec.update.sle11spx.online.requirements"/>), wurden die erforderlichen <quote>Produkte</quote> für die Online-Migration in <filename>/etc/products.d</filename> eingefügt. Mit dem folgenden Kommando erhalten Sie eine Liste dieser Produkte:
      </para>

<screen>zypper se -t product | grep -h -- "-migration" | cut -d'|' -f2</screen>
      <para>
       Dieses Kommando sollte zumindest <literal os="sles">SUSE_SLES-SP2-migration</literal> zurückgeben. Je nach Umfang der Installation werden weitere Produkte aufgelistet.
      </para>
     </step>
     <step performance="required">
      <para>
       Installieren Sie die Migrationsprodukte, die Sie mit dem vorherigen Schritt abgerufen haben, mit dem Kommando <command>zypper in -t product <replaceable>LIST_OF_PRODUCTS</replaceable></command>, beispielsweise
      </para>
<screen os="sles">zypper in -t product SUSE_SLES-SP2-migration</screen>

     </step>
     <step performance="required">
      <para>
       Registrieren Sie die Produkte, die Sie mit dem vorherigen Schritt installiert haben, damit die zugehörigen Aktualisierungskanäle verfügbar werden:
      </para>
<screen>suse_register -d 2 -L /root/.suse_register.log</screen>
     </step>
     <step performance="required">
      <para>
       Aktualisieren Sie die Repositorys und Services erneut:
      </para>
<screen>zypper ref -s</screen>
     </step>
     <step performance="required">
      <para>
       Prüfen Sie die Liste der abrufbaren Repositorys mit <command>zypper lr</command>. <emphasis>Mindestens</emphasis> die folgenden Repositorys müssen <guimenu>aktiviert</guimenu> sein:
      </para>
      <itemizedlist os="sles" mark="bullet" spacing="normal">
       <listitem>
        <para>
         <literal>SLES11-SP1-Pool</literal>
        </para>
       </listitem>
       <listitem>
        <para>
         <literal>SLES11-SP1-Updates</literal>
        </para>
       </listitem>
       <listitem>
        <para>
         <literal>SLES11-SP2-Core</literal>
        </para>
       </listitem>
       <listitem>
        <para>
         <literal>SLES11-SP2-Updates</literal>
        </para>
       </listitem>
      </itemizedlist>
      
      <para>
       Je nach Umfang der Installation müssen weitere Repositorys für Add-On-Produkte oder Erweiterungen aktiviert werden.
      </para>
      <para>
       Falls eines dieser Repositorys nicht aktiviert ist (die <literal>SP2</literal>-Repositorys werden mit diesem Verfahren nicht standardmäßig aktiviert), aktivieren Sie es mit <command>zypper modifyrepo --enable <replaceable>REPOSITORY ALIAS</replaceable></command>, beispielsweise:
      </para>
<screen os="sles">zypper modifyrepo --enable SLES11-SP2-Core SLES11-SP2-Updates</screen>

      <para>
       Enthält die Konfiguration Drittanbieter-Repositorys, die nicht mit SP2 kompatibel sind, deaktivieren Sie die betreffenden Repositorys mit <command>zypper modifyrepo --disable <replaceable>REPOSITORY ALIAS</replaceable></command>.
      </para>
     </step>
     <step performance="required">
      <para>
       Damit ist die Vorbereitung abgeschlossen, und Sie können die Distribution mit <command>zypper dup --from <replaceable>REPO 1</replaceable> --from <replaceable>REPO 2</replaceable> <replaceable>...</replaceable></command> aktualisieren. Führen Sie dabei in jedem Fall alle erforderlichen Repositorys mit <option>--from</option> auf, beispielsweise:
      </para>
<screen os="sles">zypper dup --from SLES11-SP2-Core --from SLES11-SP2-Updates</screen>

      <para>
       Bestätigen Sie mit <guimenu>y</guimenu>. Die Aufrüstung wird gestartet.
      </para>
     </step>
     <step performance="required">
      <para>
       Nach der Aufrüstung der Distribution mit dem vorherigen Schritt ist die minimale Migration abgeschlossen (eine minimale Teilmenge der Pakete wurde auf den aktuellen SP2-Stand aktualisiert). Überspringen Sie diesen Schritt, wenn keine vollständige Migration ausgeführt werden soll.
      </para>
      <para>
       Für eine vollständige Migration (alle Pakete werden auf den aktuellen SP2-Stand aktualisiert) führen Sie das folgende Kommando aus:
      </para>
<screen>zypper update -t patch</screen>
     </step>
     <step performance="required">
      <para>
       Damit ist die Aufrüstung auf SP2 abgeschlossen. Registrieren Sie nun das Produkt erneut:
      </para>
<screen>suse_register -d 2 -L /root/.suse_register.log</screen>
     </step>
     <step performance="required">
      <para>
       Booten Sie abschließend das System neu.
      </para>
     </step>
     <step performance="required">
      <para>
       Das System wurde erfolgreich auf Service Pack 2 aktualisiert.
      </para>
     </step>
    </procedure>
   </sect3>
  </sect2>

  <sect2 id="sec.update.sle11spx.medium">
   <title>Aktualisierung durch Booten von einer Installationsquelle</title>
   <para>
    Als Alternative zur Online-Migration (weitere Informationen finden Sie unter <xref linkend="sec.update.sle11spx.online"/>) können Sie Ihr System auch von einer Installationsquelle booten, also von einer DVD oder einer Netzwerkinstallationsquelle. Die Aktualisierung beginnt wie eine normale Installation.
   </para>
   <para>
    Die ISO-Images für Service Pack 2 sind bei <ulink url="http://download.novell.com/"/> erhältlich. Brennen Sie die Images auf eine DVD, oder bereiten Sie eine Netzwerkinstallationsquelle gemäß <xref linkend="sec.deployment.remoteinst.instserver"/> vor.
   </para>
   <sect3 id="sec.upgrade.install-from-dvd">
    <title>Aktualisieren von einem lokalen DVD-Laufwerk</title>
    <para>
     Vor Beginn einer neuen Installation eines SUSE Linux Enterprise-SP müssen Sie sicherstellen, dass alle Service Pack-Installationsmedien (DVDs) verfügbar sind.
    </para>
    <procedure id="upgrade.sp.instsp.fromsp">
     <title>Booten vom Service Pack-Medium</title>
     <step performance="required">
      <para>
       Legen Sie das erste SUSE Linux Enterprise-SP-Medium ein und booten Sie Ihren Rechner. Ein ähnlicher Startbildschirm wie bei der ursprünglichen Installation von SUSE Linux Enterprise 11 wird angezeigt.
      </para>
     </step>
     <step performance="required">
      <para>
       Wählen Sie <guimenu>Installation</guimenu> und fahren Sie dann gemäß den YaST-Installationsanweisungen in <xref linkend="cha.inst"/> fort.
      </para>
     </step>
    </procedure>
   </sect3>
   <sect3 id="sec.upgrade.install-from-network">
    <title>Aktualisieren von einer Netzwerkinstallationsquelle</title>
    <para>
     Vor der Aktualisierung eines SUSE Linux Enterprise-SP über eine Netzwerkinstallationsquelle müssen die folgenden Anforderungen erfüllt sein:
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       Eine Netzwerkinstallationsquelle ist gemäß <xref linkend="sec.deployment.remoteinst.instserver"/> eingerichtet.
      </para>
     </listitem>
     <listitem>
      <para>
       Eine funktionierende Netzwerkverbindung auf dem Installationsserver und dem Zielrechner, der einen Namensdienst, DHCP (optional, aber erforderlich für den PXE-Boot) und OpenSLP (optional) enthält, ist vorhanden.
      </para>
     </listitem>
     <listitem>
      <para>
       Die SUSE Linux Enterprise-SP-DVD 1 zum Booten des Zielsystems <emphasis>oder</emphasis> ein Zielsystem für PXE-Boot gemäß <xref linkend="sec.deployment.remoteinst.boot.pxeprep" xrefstyle="HeadingOnPage"/> ist vorhanden.
      </para>
     </listitem>
    </itemizedlist>
    <para>
     Detaillierte Informationen zum Starten der Aufrüstung von einem Remote-Server finden Sie unter <xref linkend="cha.deployment.remoteinst"/>.
    </para>
    <sect4 id="sec.upgrade.install-from-network.dvdboot">
     <title>Netzwerkinstallation – Booten von DVD</title>
     <para>
      Gehen Sie zum Ausführen einer Netzwerkinstallation mit der SP-DVD als Bootdatenträger wie folgt vor:
     </para>
     <procedure>
      <step performance="required">
       <para>
        Legen Sie die SUSE Linux Enterprise-SP-DVD 1 ein und booten Sie Ihren Rechner. Ein ähnlicher Startbildschirm wie bei der ursprünglichen Installation von SUSE Linux Enterprise 11 wird angezeigt.
       </para>
      </step>
      <step performance="required">
       <para>
        Wählen Sie <guimenu>Installation</guimenu>, um den SP-Kernel zu booten, und drücken Sie dann die Taste <keycap>F4</keycap>, um den Typ der Netzwerkinstallationsquelle auszuwählen (FTP, HTTP, NFS oder SMB).
       </para>
      </step>
      <step performance="required">
       <para>
        Geben Sie die entsprechenden Pfadinformationen ein oder wählen Sie <guimenu>SLP</guimenu> als Installationsquelle.
       </para>
      </step>
      <step performance="required">
       <para>
        Wählen Sie den entsprechenden Installationsserver aus den angebotenen aus oder geben Sie den Typ der Installationsquelle und deren Standort bei der Aufforderung der Bootoptionen an, wie unter <xref linkend="sec.i.yast2.source.network"/> beschrieben. YaST wird gestartet.
       </para>
       <para>
        Schließen Sie die Installation ab, wie in <xref linkend="sec.update.sle11spx.medium.update"/> beschrieben.
       </para>
      </step>
     </procedure>
    </sect4>
    <sect4 id="sec.upgrade.install-from-network.pxeboot">
     <title>Netzwerkinstallation – PXE-Boot</title>
     <para>
      Gehen Sie zum Ausführen einer Netzwerkinstallation eines SUSE Linux Enterprise-Service Packs über das Netzwerk wie folgt vor:
     </para>
     <procedure>
      <step performance="required">
       <para>
        Passen Sie den Setup Ihres DHCP-Servers an, um die für den PXE-Boot erforderlichen Adresseninformationen anzugeben, gemäß <xref linkend="sec.deployment.remoteinst.boot.pxeprep"/>.
       </para>
      </step>
      <step performance="required">
       <para>
        Richten Sie einen TFTP-Server ein, der das Boot-Image für den PXE-Boot beinhaltet.
       </para>
       <para>
        Verwenden Sie die erste CD oder DVD Ihres SUSE Linux Enterprise-Service Packs dafür oder folgen Sie den Anweisungen in <xref linkend="sec.deployment.remoteinst.boot.tftp"/>.
       </para>
      </step>
      <step performance="required">
       <para>
        Bereiten Sie den PXE-Boot und Wake-on-LAN auf dem Zielcomputer vor.
       </para>
      </step>
      <step performance="required">
       <para>
        Starten Sie den Boot des Zielsystems und verwenden Sie VNC, um sich entfernt mit der auf diesem Computer ausgeführten Installationsroutine zu verbinden. Weitere Informationen finden Sie unter <xref linkend="sec.deployment.remoteinst.monitor.vnc"/>.
       </para>
      </step>
      <step performance="required">
       <para>
        Schließen Sie die Installation ab, wie in <xref linkend="sec.update.sle11spx.medium.update"/> beschrieben.
       </para>
      </step>
     </procedure>
    </sect4>
   </sect3>
   <sect3 id="sec.update.sle11spx.medium.update">
    <title>Der Aktualisierungsvorgang</title>
    <para>
     Nach dem Booten vom Installationsmedium oder vom Netzwerk starten Sie die Aktualisierung wie folgt:
    </para>
    <procedure>
     <step performance="required">
      <para>
       Wählen Sie im Bildschirm <guimenu>Willkommen</guimenu> die <guimenu>Sprache</guimenu> und die Belegung der <guimenu>Tastatur</guimenu> aus, und nehmen Sie die Lizenzvereinbarung an. Fahren Sie mit <guimenu>Weiter</guimenu> fort.
      </para>
     </step>
     <step performance="required">
      <para>
       Wenn Sie von einem physischen Medium gebootet haben, prüfen Sie die Integrität des Mediums mit der <guimenu>Medienprüfung</guimenu>. Überspringen Sie diesen Schritt nur dann, wenn Sie das Medium bereits zuvor geprüft hatten.
      </para>
     </step>
     <step performance="required">
      <para>
       Wählen Sie im Bildschirm <guimenu>Installationsmodus</guimenu> die Option <guimenu>Aktualisieren</guimenu>. Klicken Sie auf <guimenu>Weiter</guimenu>. Der Aktualisierungsvorgang wird gestartet.
      </para>
     </step>
    </procedure>
   </sect3>
  </sect2>

  <sect2 id="sec.update.sle11spx.smt">
   <title>Aktualisieren über das Subscription Management Tool (SMT)</title>
   <para>
    Als Alternative zum Herunterladen der Aktualisierungen vom Novell-Aktualisierungsserver für jedes einzelne Client-System können Sie die Aktualisierungen mit dem Subscription Management Tool (SMT) für SUSE Linux Enterprise auf einen lokalen Server spiegeln.
   </para>
   <para>
    Dieses Werkzeug fungiert als Novell Customer Center-Proxy für Client-Registrierungen und als Software-Aktualisierungs-Repository. In der Dokumentation zu SMT unter <ulink url="http://www.suse.com/doc/smt11/"/> finden Sie einen Überblick über die Funktionen sowie Anweisungen zur Implementierung.
   </para>
  </sect2>

  <sect2 id="sec.update.sle11spx.manager">
   <title>Aktualisieren über SUSE Manager</title>
   <para>
    SUSE Manager ist eine Serverlösung für die Bereitstellung von Aktualisierungen, Patches und Sicherheitsreparaturen für SUSE Linux Enterprise-Clients. Hier finden Sie eine Reihe von Werkzeugen und eine webgestützte Bedienoberfläche für Verwaltungsaufgaben.
   </para>
   <para>
    In der Dokumentation zu SUSE Manager unter <ulink url="http://www.suse.com/doc/suse_manager/"/> finden Sie einen Überblick über die Funktionen sowie Anweisungen zum Einrichten des Servers und der Clients.
   </para>
  </sect2>
 </sect1>
 <sect1 id="sec.update.sle11sp2">
  <title>Aktualisieren von SLE 11 SP2 auf SLE 11 SP3</title>

  

  <para>
   Die Online-Migration wird durch die folgenden Werkzeuge unterstützt:
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     <guimenu>YaST Wagon</guimenu> (grafische Bedienoberfläche)
    </para>
   </listitem>
   <listitem>
    <para>
     <command>zypper</command> (Kommandozeile)
    </para>
   </listitem>
  </itemizedlist>

  <para>
   Wenn Sie das System mit der Online-Migration aktualisieren, so wird die Aktualisierung bei laufendem System ausgeführt. Sie müssen das System nur einmal nach Abschluss der Aktualisierung neu starten. Sie können die Aktualisierung auch nach wie vor mit den folgenden Alternativen vornehmen:
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     <xref linkend="sec.update.sle11spx.medium"/>
    </para>
   </listitem>
   <listitem>
    <para>
     <xref linkend="sec.update.sle11spx.smt"/>
    </para>
   </listitem>
   <listitem>
    <para>
     <xref linkend="sec.update.sle11spx.manager"/>
    </para>
   </listitem>
  </itemizedlist>

  <sect2 id="sec.update.sle11sp2.online.requirements">
   <title>Anforderungen</title>
   <para>
    Für eine Online-Aktualisierung gelten die nachstehenden Anforderungen. Beachten Sie auch <xref linkend="sec.update.prep"/>.
   </para>
   <variablelist>
    <varlistentry>
     <term>Produktregistrierung</term>
     <listitem>
      <para>
       Um eine Verbindung mit den Aktualisierungskanälen herstellen zu können, muss Ihr Produkt registriert sein. Ist dies nicht der Fall, starten Sie die Registrierung entweder mit dem Modul <guimenu>Novell Customer Center-Konfiguration</guimenu> in YaST oder mit dem Kommandozeilenwerkzeug <command>suse_register</command>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Durchführung eines Online-Updates</term>
     <listitem>
      <para>
       Überprüfen Sie, ob die aktuellen Patches für die zurzeit installierte Version installiert sind. Führen Sie vor der Online-Migration zunächst ein Online-Update aus. Wenn Sie eine grafische Bedienoberfläche nutzen, starten Sie das YaST-Online-Update oder das Aktualisierungs-Miniprogramm. Führen Sie in der Kommandozeile die folgenden Kommandos aus (das letzte Kommando muss zweimal ausgeführt werden):
      </para>
<screen>zypper ref -s
zypper update -t patch
zypper update -t patch</screen>
      <para>
       Booten Sie das System bei Bedarf neu.
      </para>
      <para>
       Weitere Informationen zu den Werkzeugen für die Online-Aktualisierung finden Sie unter <xref linkend="cha.onlineupdate.you"/> oder <xref linkend="sec.zypper.softup"/>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Software von Drittanbietern</term>
     <listitem>
      <para>
       Wenn Ihr Setup Drittanbieter-Software oder Zusatzsoftware umfasst, sollten Sie dieses Verfahren auf einem anderen Rechner testen, um sicherzustellen, dass beim Update alle Abhängigkeiten erhalten bleiben.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <important>
    <title>Vollständige Ausführung der Online-Migration wichtig</title>
    <para>
     Die Online-Migration muss stets von Anfang bis Ende ausgeführt werden. Wird eine laufende Online-Migration unterbrochen, so wird die Software des Systems unwiederbringlich beschädigt.
    </para>
   </important>
  </sect2>

  <sect2 id="sec.update.sle11sp2.online.wagon">
   <title>Online-Migration mit YaST <guimenu>Wagon</guimenu></title>
   <procedure>
    <step performance="required">
     <para>
      Wenn alle Anforderungen erfüllt sind (siehe <xref linkend="sec.update.sle11spx.online.requirements"/>), zeigt das Aktualisierungs-Miniprogramm in der Kontrollleiste eine Meldung an, dass eine Aufrüstung für die Distribution verfügbar ist. Klicken Sie darauf, um YaST <guimenu>Wagon</guimenu> zu starten. Alternativ führen Sie <command>/usr/sbin/wagon</command> als <systemitem class="username">root</systemitem> in der Kommandozeile aus.
     </para>
    </step>
    <step performance="required">
     <para>
      Bestätigen Sie das Dialogfeld <guimenu>Willkommen</guimenu> mit <guimenu>Weiter</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Wenn <guimenu>Wagon</guimenu> feststellt, dass die Anforerungen nicht erfüllt sind (erforderliche Wartungs-Aktualisierungen sind verfügbar, jedoch noch nicht installiert), wird automatisch eine Selbstaktualisierung gestartet, und Sie müssen das System unter Umständen neu booten. Befolgen Sie die Anweisungen auf dem Bildschirm.
     </para>
    </step>
    <step performance="required">
     <para>
      Wählen Sie im nachfolgenden Dialogfeld die Aktualisierungsmethode aus. Mit <guimenu>Customer Center</guimenu> verwenden Sie die Standardeinrichtung (empfohlen).
     </para>
     <para>
      Klicken Sie auf <guimenu>Benutzerdefinierte URL</guimenu> und wählen Sie die Software-Kanäle für die Online-Migration aus. Eine Liste der Kanäle wird angezeigt, in der Sie die Kanäle je nach Bedarf manuell aktivieren, deaktivieren, hinzufügen und löschen können. Fügen Sie die Aktualisierungsquelle(n) für SP3 hinzu. Dies sind wahlweise das SP3-Installationsmedium oder die Kanäle <literal>SP3-Pool</literal> und <literal>SP3-Updates</literal>. Durch Klicken auf  <guimenu>OK </guimenu> gelangen Sie zurück zum Dialogfeld <guimenu>Aktualisierungsmodus</guimenu>.
     </para>
     <para>
      Zum Prüfen der Änderungen, die im Rahmen des Aktualisierungsvorgangs erfolgt sind, wählen Sie <guimenu>Automatische Repository-Änderungen überprüfen</guimenu>.
     </para>
     <para>
      Fahren Sie mit <guimenu>Weiter</guimenu> fort.
     </para>
    </step>
    <step performance="required">
     <para>
      Das System wird erneut registriert. Während des Vorgangs werden die Kanäle <literal>SP3-Pool</literal> und <literal>SP3-Updates</literal> dem System hinzugefügt (weitere Informationen siehe <xref linkend="sec.update.nmm.channels"/>). Bestätigen Sie das Hinzufügen der Kanäle.
     </para>
    </step>
    <step performance="required">
     <para>
      Wenn Sie im Dialogfeld <guimenu>Aktualisierungsmodus</guimenu> die Option <guimenu>Automatische Repository-Änderungen überprüfen</guimenu> ausgewählt haben, wird die Liste der Repositorys angezeigt, und Sie können Kanäle manuell aktivieren, deaktivieren, hinzufügen oder löschen. Klicken Sie abschließend auf <guimenu>OK</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Der Bildschirm <guimenu>Einstellungen für Distributionsaktualisierung</guimenu> wird geöffnet. Hier sehen Sie eine Zusammenfassung der Aktualisierungskonfiguration. Die folgenden Abschnitte stehen zur Verfügung:
     </para>
     <variablelist>
      <varlistentry>
       <term><guimenu>Add-on-Produkte</guimenu>
       </term>
       <listitem>
        <para>
         Sie können Add-on-Produkte zu SUSE Linux Enterprise Server oder Drittanbieterprodukte hier hinzufügen.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term><guimenu>Optionen für das Update</guimenu>
       </term>
       <listitem>
        <para>
         Liste der Aktionen, die im Rahmen der Aktualisierung ausgeführt werden. Sie können festlegen, ob zunächst alle Pakete heruntergeladen und dann im Ganzen installiert werden sollen (Standardeinstellung, empfohlen) oder ob sie einzeln nacheinander heruntergeladen und installiert werden sollen.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term><guimenu>Pakete</guimenu>
       </term>
       <listitem>
        <para>
         Statistischer Überblick über die Aktualisierung.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>Sicherung</term>
       <listitem>
        <para>
         Legen Sie die Optionen für die Sicherung fest.
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
     <para>
      Klicken Sie zum Fortfahren auf <guimenu>Weiter</guimenu> und dann auf <guimenu>Start The Update (Aktualisierung starten)</guimenu>.
     </para>
     <important>
      <title>Abbrechen der Online-Migration</title>
      <para>
       Auf diesem Bildschirm sowie auf allen vorhergehenden Bildschirmen können Sie die Online-Migration schadlos abbrechen, <emphasis>bevor</emphasis> Sie auf <guimenu>Start The Update (Aktualisierung starten)</guimenu> klicken. Mit <guimenu>Abbrechen</guimenu> können Sie den Aktualisierungsvorgang verlassen und das System in dem Zustand wiederherstellen, den es vor dem Starten von YaST Wagon aufwies. Befolgen Sie die Anweisungen auf dem Bildschirm und führen Sie die Registrierung erneut aus, bevor Sie Wagon beenden, damit die SP2-Kanäle vom System entfernt werden.
      </para>
     </important>
    </step>
    <step performance="required">
     <para>
      Während des Aktualisierungsvorgangs werden die folgenden Schritte ausgeführt:
     </para>
     <substeps performance="required">
      <step performance="required">
       <para>
        Die Pakete werden aktualisiert.
       </para>
      </step>
      <step performance="required">
       <para>
        <command>SuSEconfig</command> wird ausgeführt.
       </para>
      </step>
      <step performance="required">
       <para>
        Das System wird neu gebootet (klicken Sie auf <guimenu>OK</guimenu>).
       </para>
      </step>
      <step performance="required">
       <para>
        Das soeben aktualisierte System wird erneut registriert.
       </para>
      </step>
     </substeps>
    </step>
    <step performance="required">
     <para>
      Das System wurde erfolgreich auf Service Pack 3 aktualisiert.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec.update.sle11sp2.online.zypper">
   <title>Online-Migration mit <command>zypper</command></title>
   <procedure>
    <step performance="required">
     <para>
      Wenn alle Anforderungen erfüllt sind (siehe <xref linkend="sec.update.sle11spx.online.requirements"/>), wurden die erforderlichen <quote>Produkte</quote> für die Online-Migration in <filename>/etc/products.d</filename> eingefügt. Mit dem folgenden Kommando erhalten Sie eine Liste dieser Produkte:
     </para>

<screen>zypper se -t product | grep -h -- "-migration" | cut -d'|' -f2</screen>
     <para>
      Dieses Kommando sollte zumindest <literal os="sles">SUSE_SLES-SP3-migration</literal> zurückgeben. Je nach Umfang der Installation werden weitere Produkte aufgelistet.
     </para>
    </step>
    <step performance="required">
     <para>
      Installieren Sie die Migrationsprodukte, die Sie mit dem vorherigen Schritt abgerufen haben, mit dem Kommando <command>zypper in -t product <replaceable>LIST_OF_PRODUCTS</replaceable></command>, beispielsweise
     </para>
<screen os="sles">zypper in -t product SUSE_SLES-SP3-migration</screen>

    </step>
    <step performance="required">
     <para>
      Registrieren Sie die Produkte, die Sie mit dem vorherigen Schritt installiert haben, damit die zugehörigen Aktualisierungskanäle verfügbar werden:
     </para>
<screen>suse_register -d 2 -L /root/.suse_register.log</screen>
    </step>
    <step performance="required">
     <para>
      Aktualisieren Sie die Repositorys und Services:
     </para>
<screen>zypper ref -s</screen>
    </step>
    <step performance="required">
     <para>
      Prüfen Sie die Liste der abrufbaren Repositorys mit <command>zypper lr</command>. 
     </para>
     <para>
      Falls eines dieser Repositorys nicht aktiviert ist (die <literal>SP3</literal>-Repositorys werden mit diesem Verfahren nicht standardmäßig aktiviert), aktivieren Sie es mit <command>zypper modifyrepo --enable <replaceable>REPOSITORY ALIAS</replaceable></command>, beispielsweise:
     </para>
<screen os="sles">zypper modifyrepo --enable SLES11-SP3-Core SLES11-SP3-Updates</screen>

     <para>
      Enthält die Konfiguration Drittanbieter-Repositorys, die nicht mit SP3 kompatibel sind, deaktivieren Sie die betreffenden Repositorys mit <command>zypper modifyrepo --disable <replaceable>REPOSITORY ALIAS</replaceable></command>.
     </para>
    </step>
    <step performance="required">
     <para>
      Damit ist die Vorbereitung abgeschlossen, und Sie können die Distribution mit <command>zypper dup --from <replaceable>REPO 1</replaceable> --from <replaceable>REPO 2</replaceable> <replaceable>...</replaceable></command> aktualisieren. Führen Sie dabei in jedem Fall alle erforderlichen Repositorys mit <option>--from</option> auf, beispielsweise:
     </para>
<screen os="sles">zypper dup --from SLES11-SP3-Pool --from SLES11-SP3-Updates</screen>

     <para>
      Bestätigen Sie mit <guimenu>y</guimenu>. Die Aufrüstung wird gestartet.
     </para>
    </step>
    <step performance="required">
     <para>
      Nach der Aufrüstung der Distribution mit dem vorherigen Schritt führen Sie das folgende Kommando aus:
     </para>
<screen>zypper update -t patch</screen>
    </step>
    <step performance="required">
     <para>
      Damit ist die Aufrüstung auf SP3 abgeschlossen. Registrieren Sie nun das Produkt erneut:
     </para>
<screen>suse_register -d 2 -L /root/.suse_register.log</screen>
    </step>
    <step performance="required">
     <para>
      Booten Sie abschließend das System neu.
     </para>
    </step>
    <step performance="required">
     <para>
      Das System wurde erfolgreich auf Service Pack 3 aktualisiert.
     </para>
    </step>
   </procedure>
  </sect2>
 </sect1>
  
 <sect1 id="sec.update.sle11sp3">
   <title>Aktualisieren von SLE 11 SP3 auf SLE 11 SP4</title>
   <para>Es werden verschiedene Methoden zur Aktualisierung eines Systems mit SUSE Linux Enterprise Server 11 SP3 auf Service Pack 4 unterstützt. Sie können wahlweise die erforderlichen Patches mit den Online-Aktualisierungswerkzeugen installieren (Online-Migration) oder die Aktualisierung über das Service Pack-Installationsmedium durchführen. Darüber hinaus lassen sich die Aktualisierungen über Server vornehmen, auf denen die Abonnementverwaltung (SMT) oder SUSE Manager gehostet wird.</para>
   <para>Die Online-Migration wird durch die folgenden Werkzeuge unterstützt:
     </para>
       <itemizedlist mark="bullet" spacing="normal">
         <listitem>
           <para>YaST Wagon (grafische Bedienoberfläche) </para>
         </listitem>
         <listitem>
           <para><command>zypper</command> (Kommandozeile)</para>
         </listitem>
       </itemizedlist>
     <para>Alternativ können Sie das vollständige Service Pack-Medium (DVD-ISO-Image) herunterladen. Zum Starten der Aktualisierung booten Sie das System vom physischen Service Pack-Medium oder von einer Installationsquelle im Netzwerk. </para>
   
   <sect2 id="sec.update.sle11sp3.onlinemigration">
     <title>Online-Migration</title>
     <para>Die Aktualisierung des Systems mit der Online-Migration erfolgt aus dem laufenden System heraus. Sie müssen das System nur einmal nach Abschluss der Aktualisierung neu starten.</para>
     <sect3>
       <title>Anforderungen</title>
       <para>Für eine Online-Aktualisierung gelten die nachstehenden Anforderungen. Beachten Sie auch <xref linkend="sec.update.prep"/>.
       </para>
       
       <variablelist>
         <varlistentry>
           <term>Produktregistrierung</term>
           <listitem>
             <para>Um eine Verbindung mit den Aktualisierungskanälen herstellen zu können, muss Ihr Produkt registriert sein. Ist dies nicht der Fall, starten Sie die Registrierung entweder mit dem Modul Novell Customer Center-Konfiguration in YaST oder mit dem Kommandozeilenwerkzeug <command>suse_register</command>. </para>
           </listitem>
         </varlistentry>
         <varlistentry>
           <term>Durchführung eines Online-Updates</term>
           <listitem>
             <para>Überprüfen Sie, ob die aktuellen Patches für die zurzeit installierte Version installiert sind. Führen Sie vor der Online-Migration zunächst ein Online-Update aus. Wenn Sie eine grafische Bedienoberfläche nutzen, starten Sie das YaST-Online-Update oder das Aktualisierungs-Miniprogramm. Führen Sie in der Kommandozeile die folgenden Kommandos aus (das letzte Kommando muss zweimal ausgeführt werden): </para>
             <screen>zypper ref -s
zypper update -t patch
zypper update -t patch</screen>
             <para>Booten Sie das System bei Bedarf neu.</para>
             <para>Siehe Abschnitt 1.0, YaST-Online-Aktualisierung (↑Administrationshandbuch), oder Abschnitt 6.1.3, Aktualisieren von Software mit Zypper (↑Administrationshandbuch). finden Sie weitere Informationen zu den Online-Update-Werkzeugen.</para>
           </listitem>
         </varlistentry>
         <varlistentry>
           <term>Software von Drittanbietern</term>
           <listitem>
             <para>Wenn Ihr Setup Drittanbieter-Software oder Zusatzsoftware umfasst, sollten Sie dieses Verfahren auf einem anderen Rechner testen, um sicherzustellen, dass beim Update alle Abhängigkeiten erhalten bleiben. </para>
           </listitem>
         </varlistentry>
       </variablelist>
       
       <important>
         <title>Vollständige Ausführung der Online-Migration wichtig</title>
         <para>Die Online-Migration muss stets von Anfang bis Ende ausgeführt werden. Wird eine laufende Online-Migration unterbrochen, so wird die Software des Systems unwiederbringlich beschädigt.</para>
       </important>
     </sect3>
   
   <sect3 id="sec.update.sle11sp3.online.wagon">
     <title>Online-Migration mit YaST <guimenu>Wagon</guimenu></title>
     <para>Die erforderlichen Schritte für ein SLES 11 SP1-System finden Sie unter <ulink url="https://www.suse.com/support/kb/doc.php?id=7011872"/>. Das nachfolgende Verfahren gilt für die Online-Migration von SP3 zu SP4.</para>
     <procedure>
       <step performance="required">
         <para>
           Wenn alle Anforderungen erfüllt sind (siehe <xref linkend="sec.update.sle11spx.online.requirements"/>), zeigt das Aktualisierungs-Miniprogramm in der Kontrollleiste eine Meldung an, dass eine Aufrüstung für die Distribution verfügbar ist. Klicken Sie darauf, um YaST <guimenu>Wagon</guimenu> zu starten. Alternativ führen Sie <command>/usr/sbin/wagon</command> als <systemitem class="username">root</systemitem> in der Kommandozeile aus.
         </para>
       </step>
       <step performance="required">
         <para>
           Bestätigen Sie das Dialogfeld <guimenu>Willkommen</guimenu> mit <guimenu>Weiter</guimenu>.
         </para>
       </step>
       <step performance="required">
         <para>
           Wenn <guimenu>Wagon</guimenu> feststellt, dass die Anforerungen nicht erfüllt sind (erforderliche Wartungs-Aktualisierungen sind verfügbar, jedoch noch nicht installiert), wird automatisch eine Selbstaktualisierung gestartet, und Sie müssen das System unter Umständen neu booten. Befolgen Sie die Anweisungen auf dem Bildschirm.
         </para>
       </step>
       <step performance="required">
         <para>
           Wählen Sie im nachfolgenden Dialogfeld die Aktualisierungsmethode aus. Mit <guimenu>Customer Center</guimenu> verwenden Sie die Standardeinrichtung (empfohlen).
         </para>
         <para>
           Klicken Sie auf <guimenu>Benutzerdefinierte URL</guimenu> und wählen Sie die Software-Kanäle für die Online-Migration aus. Eine Liste der Kanäle wird angezeigt, in der Sie die Kanäle je nach Bedarf manuell aktivieren, deaktivieren, hinzufügen und löschen können. Fügen Sie die Aktualisierungsquelle(n) für SP4 hinzu. Dies sind wahlweise das SP4-Installationsmedium oder die Kanäle <literal>SP4-Pool</literal> und <literal>SP4-Updates</literal>. Durch Klicken auf  <guimenu>OK </guimenu> gelangen Sie zurück zum Dialogfeld <guimenu>Aktualisierungsmodus</guimenu>.
         </para>
         <para>
           Zum Prüfen der Änderungen, die im Rahmen des Aktualisierungsvorgangs erfolgt sind, wählen Sie <guimenu>Automatische Repository-Änderungen überprüfen</guimenu>.
         </para>
         <para>
           Fahren Sie mit <guimenu>Weiter</guimenu> fort.
         </para>
       </step>
       <step performance="required">
         <para>
           Das System wird erneut registriert. Während des Vorgangs werden die Kanäle <literal>SP4-Pool</literal> und <literal>SP4-Updates</literal> dem System hinzugefügt (weitere Informationen siehe <xref linkend="sec.update.nmm.channels"/>). Bestätigen Sie das Hinzufügen der Kanäle.
         </para>
       </step>
       <step performance="required">
         <para>
           Wenn Sie im Dialogfeld <guimenu>Aktualisierungsmodus</guimenu> die Option <guimenu>Automatische Repository-Änderungen überprüfen</guimenu> ausgewählt haben, wird die Liste der Repositorys angezeigt, und Sie können Kanäle manuell aktivieren, deaktivieren, hinzufügen oder löschen. Klicken Sie abschließend auf <guimenu>OK</guimenu>.
         </para>
       </step>
       <step performance="required">
         <para>Wählen Sie den Migrationstyp aus:</para>
         <variablelist>
           <varlistentry>
             <term>Full migration (Vollständige Migration)</term>
             <listitem>
               <para>Aktualisiert alle Pakete auf den aktuellen SP4-Stand.</para>
             </listitem>
           </varlistentry>
           <varlistentry>
             <term>Minimal Migration (Minimale Migration)</term>
             <listitem>
               <para>Aktualisiert eine minimale Gruppe von Paketen auf den aktuellen SP4-Stand.</para>
             </listitem>
           </varlistentry>
         </variablelist>
         <para>Mit <guimenu>Erweitert</guimenu> wählen Sie die Repositorys für die Aufrüstung manuell aus. Bestätigen Sie Ihre Auswahl.
         </para>
       </step>
       
       <step performance="required">
         <para>
           Der Bildschirm <guimenu>Einstellungen für Distributionsaktualisierung</guimenu> wird geöffnet. Hier sehen Sie eine Zusammenfassung der Aktualisierungskonfiguration. Die folgenden Abschnitte stehen zur Verfügung:
         </para>
         <variablelist>
           <varlistentry>
             <term><guimenu>Add-on-Produkte</guimenu>
             </term>
             <listitem>
               <para>
                 Sie können Add-on-Produkte zu SUSE Linux Enterprise Server oder Drittanbieterprodukte hier hinzufügen.
               </para>
             </listitem>
           </varlistentry>
           <varlistentry>
             <term><guimenu>Optionen für das Update</guimenu>
             </term>
             <listitem>
               <para>
                 Liste der Aktionen, die im Rahmen der Aktualisierung ausgeführt werden. Sie können festlegen, ob zunächst alle Pakete heruntergeladen und dann im Ganzen installiert werden sollen (Standardeinstellung, empfohlen) oder ob sie einzeln nacheinander heruntergeladen und installiert werden sollen.
               </para>
             </listitem>
           </varlistentry>
           <varlistentry>
             <term><guimenu>Pakete</guimenu>
             </term>
             <listitem>
               <para>
                 Statistischer Überblick über die Aktualisierung.
               </para>
             </listitem>
           </varlistentry>
           <varlistentry>
             <term>Sicherung</term>
             <listitem>
               <para>
                 Legen Sie die Optionen für die Sicherung fest.
               </para>
             </listitem>
           </varlistentry>
         </variablelist>
         <para>
           Klicken Sie zum Fortfahren auf <guimenu>Weiter</guimenu> und dann auf <guimenu>Start The Update (Aktualisierung starten)</guimenu>.
         </para>
         <important>
           <title>Abbrechen der Online-Migration</title>
           <para>
             Auf diesem Bildschirm sowie auf allen vorhergehenden Bildschirmen können Sie die Online-Migration schadlos abbrechen, <emphasis>bevor</emphasis> Sie auf <guimenu>Start The Update (Aktualisierung starten)</guimenu> klicken. Mit <guimenu>Abbrechen</guimenu> können Sie den Aktualisierungsvorgang verlassen und das System in dem Zustand wiederherstellen, den es vor dem Starten von YaST Wagon aufwies. Befolgen Sie die Anweisungen auf dem Bildschirm und führen Sie die Registrierung erneut aus, bevor Sie Wagon beenden, damit die SP4-Kanäle vom System entfernt werden.
           </para>
         </important>
       </step>
       <step performance="required">
         <para>
           Während des Aktualisierungsvorgangs werden die folgenden Schritte ausgeführt:
         </para>
         <orderedlist spacing="normal">
           <listitem>
             <para>
               Die Pakete werden aktualisiert.
             </para>
           </listitem>
           <listitem>
             <para>
               <command>SuSEconfig</command> wird ausgeführt.
             </para>
           </listitem>
           <listitem>
             <para>
               Das System wird neu gebootet (klicken Sie auf <guimenu>OK</guimenu>).
             </para>
           </listitem>
           <listitem>
             <para>
               Das soeben aktualisierte System wird erneut registriert.
             </para>
           </listitem>
         </orderedlist>
       </step>
       <step performance="required">
         <para>
           Das System wurde erfolgreich auf Service Pack 4 aktualisiert.
         </para>
       </step>
     </procedure>
   </sect3>
   
   <sect3 id="sec.update.sle11sp3.online.zypper">
     <title>Online-Migration mit <command>zypper</command></title>
     <procedure>
       <step performance="required">
         <para>
           Wenn alle Anforderungen erfüllt sind (siehe <xref linkend="sec.update.sle11spx.online.requirements"/>), wurden die erforderlichen <quote>Produkte</quote> für die Online-Migration in <filename>/etc/products.d</filename> eingefügt. Mit dem folgenden Kommando erhalten Sie eine Liste dieser Produkte:
         </para>
         
         <screen>zypper se -t product | grep -h -- "-migration" | cut -d'|' -f2</screen>
         <para>
           Dieses Kommando sollte zumindest <literal os="sles">SUSE_SLES-SP4-migration</literal> zurückgeben. Je nach Umfang der Installation werden weitere Produkte aufgelistet.
         </para>
       </step>
       <step performance="required">
         <para>
           Installieren Sie die Migrationsprodukte, die Sie mit dem vorherigen Schritt abgerufen haben, mit dem Kommando <command>zypper in -t product <replaceable>LIST_OF_PRODUCTS</replaceable></command>, beispielsweise
         </para>
         <screen os="sles">zypper in -t product SUSE_SLES-SP4-migration</screen>
         
       </step>
       <step performance="required">
         <para>
           Registrieren Sie die Produkte, die Sie mit dem vorherigen Schritt installiert haben, damit die zugehörigen Aktualisierungskanäle verfügbar werden:
         </para>
         <screen>suse_register -d 2 -L /root/.suse_register.log</screen>
       </step>
       <step performance="required">
         <para>
           Aktualisieren Sie die Repositorys und Services:
         </para>
         <screen>zypper ref -s</screen>
       </step>
       <step performance="required">
         <para>
           Prüfen Sie die Liste der abrufbaren Repositorys mit <command>zypper lr</command>. Mindestens die folgenden Repositorys müssen aktiviert sein: 
         </para>
         
         <itemizedlist mark="bullet" spacing="normal">
           <listitem>
             <para>SLES11-SP4-Pool</para>
           </listitem>
           <listitem>
             <para>SLES11-SP4-Updates</para>
           </listitem>
         </itemizedlist>
         
         <para>Je nach Umfang der Installation müssen weitere Repositorys für Add-on-Produkte oder Erweiterungen aktiviert werden. </para>
         
         <para>
           Falls eines dieser Repositorys nicht aktiviert ist (die <literal>SP4</literal>-Repositorys werden mit diesem Verfahren nicht standardmäßig aktiviert), aktivieren Sie es mit <command>zypper modifyrepo --enable <replaceable>REPOSITORY ALIAS</replaceable></command>, beispielsweise:
         </para>
         <screen os="sles">zypper modifyrepo --enable SLES11-SP4-Pool --enable SLES11-SP4-Updates</screen>
         
         <para>
           Enthält die Konfiguration Drittanbieter-Repositorys, die nicht mit SP4 kompatibel sind, deaktivieren Sie die betreffenden Repositorys mit <command>zypper modifyrepo --disable <replaceable>REPOSITORY ALIAS</replaceable></command>.
         </para>
       </step>
       <step performance="required">
         <para>
           Damit ist die Vorbereitung abgeschlossen, und Sie können die Distribution mit <command>zypper dup --from <replaceable>REPO 1</replaceable> --from <replaceable>REPO 2</replaceable> <replaceable>...</replaceable></command> aktualisieren. Führen Sie dabei in jedem Fall alle erforderlichen Repositorys mit <option>--from</option> auf, beispielsweise:
         </para>
         <screen os="sles">zypper dup --from SLES11-SP4-Pool --from SLES11-SP4-Updates</screen>
         
         <para>
           Bestätigen Sie mit <guimenu>y</guimenu>. Die Aufrüstung wird gestartet.
         </para>
       </step>
       <step performance="required">
         <para>
           Nach der Aufrüstung der Distribution mit dem vorherigen Schritt ist die minimale Migration abgeschlossen (eine minimale Teilmenge der Pakete wurde auf den aktuellen SP4-Stand aktualisiert). Überspringen Sie diesen Schritt, wenn keine vollständige Migration ausgeführt werden soll.
         </para>
         <para>Für eine vollständige Migration (alle Pakete werden auf den aktuellen SP4-Stand aktualisiert) führen Sie das folgende Kommando aus: </para>
         <screen>zypper update -t patch</screen>
       </step>
       <step performance="required">
         <para>
           Damit ist die Aufrüstung auf SP4 abgeschlossen. Registrieren Sie nun das Produkt erneut:
         </para>
         <screen>suse_register -d 2 -L /root/.suse_register.log</screen>
       </step>
       <step performance="required">
         <para>
           Booten Sie abschließend das System neu.
         </para>
       </step>
     </procedure>
     <para>
       Das System wurde erfolgreich auf Service Pack 4 aktualisiert.
     </para>
   </sect3>
    
    <sect3>
      <title>Aktualisierung durch Booten von einer Installationsquelle</title>
      <para>Als Alternative zur Online-Migration können Sie Ihr System auch von einer Installationsquelle booten, also von einer DVD oder einer Netzwerkinstallationsquelle. Die Aktualisierung beginnt wie eine normale Installation. </para>
      <para>Die ISO-Images für Service Pack 4 sind bei <ulink url="http://download.suse.com/"/> erhältlich. Brennen Sie die Images auf eine DVD, oder bereiten Sie eine Netzwerkinstallationsquelle gemäß <xref linkend="sec.deployment.remoteinst.instserver"/> vor.
      </para>
    </sect3>
   </sect2>
   
 </sect1>
 
 <sect1 id="sec.update.backports">
  <title>Rückportierungs-Quellcode</title>

  <para>
   Bei SUSE kommt die Rückportierung umfassend zum Einsatz. Dieser Abschnitt erläutert, warum der Vergleich der Versionsnummern irreführend sein kann, wenn es darum geht, die Funktionen und die Probleme einer Software zu beurteilen.

  </para>

  <sect2 id="sec.update.backports.why">
   <title>Warum Rückportierung?</title>
   <para>
    Upstream-Entwickler befassen sich hauptsächlich damit, die Software weiterzuentwickeln. In vielen Fällen beheben sie Fehler, während sie gleichzeitig neue Funktionen einbauen, die noch nicht eingehend getestet wurden und daher ihrerseits neue Fehler verursachen.
   </para>
   <para>
    Distributionsentwickler müssen daher zwischen Folgendem unterscheiden:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      Fehlerbehebungen mit begrenztem Risiko von Funktionsstörungen und
     </para>
    </listitem>
    <listitem>
     <para>
      Änderungen, die die bestehenden Funktionen stören.
     </para>
    </listitem>
   </itemizedlist>
   <para>
    In den meisten Fällen beachten Distributionsentwickler nicht alle Upstream-Änderungen, sobald ein Paket in eine veröffentlichte Distribution eingebunden ist. Häufig bleiben sie bei der Upstream-Version, die sie ursprünglich veröffentlicht hatten, und sie erstellen auf Patches auf der Grundlage der Upstream-Änderungen, mit denen dann Fehler behoben werden sollen. Dies wird als <emphasis>Rückportierung</emphasis> bezeichnet.
   </para>
   <para>
    Im Allgemeinen stellen Distributionsentwickler nur in zwei Fällen eine neuere Software-Version bereit:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      wenn die Änderungen zwischen ihren Paketen und den Upstream-Versionen so groß geworden sind, dass eine Rückportierung nicht mehr praktikabel ist, oder
     </para>
    </listitem>
    <listitem>
     <para>
      für Software, die schon an sich rasch veraltet, beispielsweise Anti-Malware-Software.
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 id="sec.update.backports.reasons-for">
   <title>Argumente für die Rückportierung</title>
   <para>
    Bei SUSE wird die Rückportierung umfassend genutzt, damit die verschiedenen Anforderungen an Unternehmens-Software in ein gesundes Gleichgewicht gebracht werden können. Beispiele für die wichtigsten Punkte:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      Es sollen stabile Schnittstellen (APIs) erzielt werden, auf die die Software-Hersteller sich verlassen können, wenn sie Produkte für die gemeinsame Verwendung mit den Unternehmensprodukten von SUSE bauen.
     </para>
    </listitem>
    <listitem>
     <para>
      Die Pakete, die in den Unternehmensprodukten von SUSE zum Einsatz kommen, sollen die höchstmögliche Qualität aufweisen und gründlich getestet werden, und das nicht nur in sich selbst, sondern auch als Bestandteil des gesamten Unternehmensprodukts.
     </para>
    </listitem>
    <listitem>
     <para>
      Die Zertifizierungen der Unternehmensprodukte von SUSE durch andere Hersteller, z. B. Zertifizierungen für Oracle- oder SAP-Produkte, sollen aufrechterhalten werden.
     </para>
    </listitem>
    <listitem>
     <para>
      Die Entwickler von SUSE sollen sich darauf konzentrieren können, die kommende Version des Produkts so gut wie möglich zu gestalten; sie sollen ihre Aufmerksamkeit nicht auf zahllose Versionen aufteilen müssen.
     </para>
    </listitem>
    <listitem>
     <para>
      Es soll klar ersichtlich sein, was in einer bestimmten Unternehmensversion vorhanden ist, damit unser Kundendienst genaue und zeitnahe Informationen dazu bereitstellen kann.
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 id="sec.update.backports.reasons-against">
   <title>Argumente gegen die Rückportierung</title>
   <para>
    Es gilt die allgemeine Richtlinie, dass keine neuen Upstream-Versionen eines Pakets in unsere Unternehmensprodukte eingeführt werden. Diese Regel ist allerdings nicht ohne Ausnahmen. Bei einer eng umgrenzten Klasse von Paketen, insbesondere bei Antiviren-Software, wiegen die Sicherheitsaspekte schwerer als die konservative Vorgehensweise, die mit Blick auf die Qualitätssicherung aus einzuhalten wäre. Für Pakete in dieser Klasse werden gelegentlich neuere Versionen in eine veröffentliche Version einer Unternehmensproduktlinie eingeführt.
   </para>
   <para>
    Gelegentlich wird auch bei anderen Arten von Paketen entschieden, eine neue Version einzuführen, statt eine Rückportierung vorzunehmen. Dies ist dann der Fall, wenn eine Rückportierung wirtschaftlich nicht praktikabel ist oder wenn äußerst relevante technische Argumente für die Einführung der neueren Version sprechen.
   </para>
  </sect2>

  <sect2 id="sec.update.backports.">
   <title>Auswirkungen der Rückportierungen auf die Interpretation der Versionsnummern</title>
   <para>
    Aufgrund der verbreiteten Praxis der Rückportierungen ist es nicht möglich, aus einem einfachen Vergleich der Versionsnummern festzustellen, ob ein SUSE-Paket eine Korrektur für ein bestimmtes Problem enthält oder eine bestimmte Funktion in diesem Paket eingefügt wurde. Durch die Rückportierung gibt der Upstream-Teil der Versionsnummer eines SUSE-Pakets lediglich an, auf welcher Upstream-Version das SUSE-Paket basiert. Das Paket enthält unter Umständen Fehlerkorrekturen und Funktionen, die in der zugehörigen Upstream-Version fehlen, jedoch in das SUSE-Paket rückportiert wurden.
   </para>
   <para>
    Informationen zu diesen Fehlerkorrekturen und Funktionen finden Sie an mehreren Stellen:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      Changelog des Pakets:
     </para>
<screen>rpm -q --changelog name-of-installed-package
rpm -qp --changelog packagefile.rpm</screen>
     <para>
      Die Ausgabe dokumentiert den Änderungsverlauf des Pakets in Kurzform.
     </para>
    </listitem>
    <listitem>
     <para>
      Das Changelog des Pakets enthält beispielsweise Einträge wie <literal>bnc#1234</literal>, die sich auf Fehler im Bugzilla-Statusüberwachungssystem von Novell beziehen oder mit anderen Fehlerüberwachungssystemen verknüpft sind. (Aus Gründen der Geheimhaltung sind nicht alle Informationen frei für alle Benutzer zugänglich.)
     </para>
    </listitem>
    <listitem>
     <para>
      Ein Paket kann eine Datei <filename>/usr/share/doc/packagename/README.SUSE</filename> oder <filename>README.SuSE</filename> umfassen, in der Sie allgemeine Informationen zum betreffenden SUSE-Paket finden.
     </para>
    </listitem>
    <listitem>
     <para>
      Das RPM-Quellpaket enthält die Patches, die während der regulären binären RPMs als separate Dateien angewendet werden können. Wenn Sie das Lesen des Quellcodes beherrschen, können Sie diese Dateien interpretieren. Weitere Informationen finden Sie im Buch <ulink url="http://www.rpm.org/max-rpm/">Maximum RPM</ulink>.
     </para>
    </listitem>
    <listitem>
     <para>
      In den <ulink url="https://www.suse.com/support/security/#1">SUSE-Sicherheitsmitteilungen</ulink> finden Sie Korrekturen zu Sicherheitsfehlern. Die Fehler werden häufig mit standardisierten Kennungen wie <literal>CAN-2005-2495</literal> bezeichnet, die im Rahmen des CVE-Projekts (<ulink url="http://cve.mitre.org">Common Vulnerabilities and Exposures</ulink>, häufige Sicherheitslücken und Gefährdungen) vergeben werden.
     </para>
    </listitem>
   </itemizedlist>
   <para>
    Diese eingeschränkte Aussagefähigkeit der Versionsnummern durch die Rückportierung macht sich insbesondere bei Sicherheitssuchwerkzeugen negativ bemerkbar. Einige Werkzeuge für die Suche nach Sicherheitslücken (oder bestimmte Tests in diesen Werkzeugen) beruhen ausschließlich auf den Versionsinformationen. Bei diesen Werkzeugen/Tests besteht daher die Gefahr von <quote>falsch-positiven Ergebnissen</quote> (die Angabe, dass eine Sicherheitslücke in einer Software aufgefunden wurde, die in Wahrheit gar nicht besteht), wenn eine Rückportierung stattgefunden hat. Beim Auswerten der Berichte von Sicherheitssuchwerkzeugen muss daher in jedem Fall überprüft werden, ob ein Eintrag lediglich auf der Versionsnummer beruht oder aber auf einem tatsächlich ausgeführten Test auf eine Sicherheitslücke.
   </para>
  </sect2>
 </sect1>
 <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="update_split_brain.xml" parse="xml"/>
 <sect1 id="sec.update.wagonhooks">
  <title>Migrations-Hooks für YaST Wagon</title>



  <para>
   Mithilfe von Migrations-Hooks sind Sie in der Lage, ein benutzerdefiniertes externes Skript zu einem bestimmten Zeitpunkt im Migrationsvorgang auszuführen. Mit diesen Skripten können Sie bestimmte Probleme behandeln, die nicht mit den normalen RPM-Skripten bearbeitet werden können, oder auch zusätzliche Aktionen vornehmen, die während der Migration erforderlich sind (nicht jedoch während einer normalen Aktualisierung der Pakete).
  </para>

  <para>
   Die Migrations-Hooks werden mit Root-Berechtigungen ausgeführt, sodass beliebige Wartungsaufgaben in den Skripten erledigt werden können (z. B. Starten/Beenden von Services, Datensicherung oder Datenmigration). Die Skripte dürfen nicht interaktiv sein; STDIN und STDOUT werden bei der Ausführung in YaST an Pipes umgeleitet. Die X-Sitzung darf nicht verwendet werden, da sie unter Umständen nicht zur Verfügung steht (beispielsweise bei der Ausführung im Textmodus). Denken Sie daran, die Ausführungsberechtigungen für die Hook-Skripte festzulegen.
  </para>

  <para>
   Migrations-Hooks werden in der <systemitem class="resource">yast2-wagon</systemitem>-Paketversion 2.17.32.1 (als Aktualisierung für SLES11-SP2 bereitgestellt) oder 2.17.34 (in SLES11-SP3 enthalten) sowie in höheren Versionen unterstützt.
  </para>

  <sect2>
   <title>Position und Namenskonventionen für Hook-Skripte</title>
   <para>
    Die Skripte werden im Verzeichnis <filename>/var/lib/YaST2/wagon/hooks/</filename> gesucht. Der erwartete Skriptname besitzt das Format <replaceable>Schritt_Folge_Präfix_Name</replaceable>, wobei Folgendes gilt:
   </para>
   <variablelist>
    <varlistentry>
     <term><replaceable>Schritt</replaceable>
     </term>
     <listitem>
      <para>
       ist ein vordefinierter Migrationsschrittname, der den aktuellen Migrationsschritt beschreibt.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><replaceable>Folge</replaceable>
     </term>
     <listitem>
      <para>
       ist eine Sequenznummer im Bereich von 00 bis 99, mit der sich die Reihenfolge festlegen lässt, in der die Skripte ausgeführt werden sollen. (Die führende Null ist für die richtige Sortierung wichtig und muss daher beibehalten werden!)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><replaceable>Präfix</replaceable>
     </term>
     <listitem>
      <para>
       muss eindeutig sein, damit keine Konflikte auftreten (Namensraum). Verwenden Sie den Paketnamen (sofern es Teil eines Pakets ist) oder den Herstellernamen, den Internet-Domänennamen oder andere Namen, die für die nötige Eindeutigkeit sorgen.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><replaceable>Name</replaceable>
     </term>
     <listitem>
      <para>
       kann eine beliebige Zeichenkette umfassen (nur zur Unterscheidung der Skripte). Geben Sie nach Möglichkeit einen aussagekräftigen Namen an.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <example>
    <title>Hook-Skript mit vollständigem Pfad</title>
<screen>/var/lib/YaST2/wagon/hooks/before_package_migration_00_postgresql_backup</screen>
   </example>
  </sect2>

  <sect2>
   <title>Beendungswert des Hook-Skripts</title>
   <para>
    Das Skript muss den Beendungswert 0 zurückgeben. Bei einem Fehler (Beendungswert ungleich null) wird eine Fehlermeldung in Wagon angezeigt, und Sie können wahlweise das Skript neu starten, den Fehler ignorieren (und mit anderen Skripten fortfahren) oder die Hooks für den aktuellen Schritt und die aktuelle Phase komplett abbrechen.
   </para>
  </sect2>

  <sect2>
   <title>Idempotente Skripte</title>
   <para>
    Die Hook-Skripte <emphasis>können potenziell mehrmals ausgeführt werden:</emphasis> Durch das Zurück- und Vorwärtsgehen in den Wagon-Dialogfeldern wird Wagon unter Umständen neu gestartet, oder einige Schritte im Migrationsverfahren werden mehrmals abgearbeitet. Dieser Aspekt muss daher in den Skripten berücksichtigt werden. Beispielsweise kann in den Skripten zu Beginn überprüft werden, ob eine bestimmte Aktion ausgeführt werden muss oder ob diese Aktion bereits erledigt wurde, oder es kann eine einfache, temporäre Stempeldatei angelegt werden, oder die Mehrfachausführung muss anderweitig unterbunden werden.
   </para>
  </sect2>

  <sect2>
   <title>Liste der unterstützten Hooks</title>
   <para>
    Einige Hooks sind optional, da sie von den vorherigen Werten abhängen oder von Werten, die vom Benutzer ausgewählt werden. Einige Hooks werden mehrmals aufgerufen, beispielsweise die Registrierung, die vor und nach der Migration vorgenommen wird. Im Folgenden werden die unterstützten Hooks (Schrittnamen) in der Reihenfolge ihrer Ausführung aufgelistet:
   </para>
   <variablelist>
    <varlistentry>
     <term><command>before_init</command>
     </term>
     <listitem>
      <para>
       Wird gleich zu Beginn gestartet. (Hinweis: Wird bei einem Neustart von Wagon erneut aufgerufen.)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_welcome</command>
     </term>
     <term><command>after_welcome</command>
     </term>
     <listitem>
      <para>
       Wird vor/nach dem Anzeigen des Willkommen-Dialogfelds gestartet.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_registration_check</command>
     </term>
     <term><command>after_registration_check</command>
     </term>
     <listitem>
      <para>
       Wagon prüft den Registrierungstatus. (Falls die Registrierung eines oder mehrere Produkte abgelaufen ist, kann die Migration fehlschlagen.) Ist alles in Ordnung, wird kein Dialogfeld geöffnet, und Wagon wird automatisch mit dem nächsten Schritt fortgesetzt.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_custom_url</command>
     </term>
     <term><command>after_custom_url</command>
     </term>
     <listitem>
      <para>
       Der Repository-Manager wird gestartet (optional, nur im in Patch CD-Modus).
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_self_update</command>
     </term>
     <term><command>after_self_update</command>
     </term>
     <listitem>
      <para>
       Wird vor/nach der Selbstaktualisierung von Wagon aufgerufen (damit die jeweils aktuelle Version für die Migration verwendet wird).
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_installing_migration_products</command>
     </term>
     <term><command>after_installing_migration_products</command>
     </term>
     <listitem>
      <para>
       Wird vor/nach dem Installieren der Migrationsprodukte aufgerufen.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_selecting_migration_source</command>
     </term>
     <term><command>after_selecting_migration_source</command>
     </term>
     <listitem>
      <para>
       Wagon fordert den Benutzer auf, die Migration über die Novell Customer Center-Repositorys oder anhand eines benutzerdefinierten Repositorys vorzunehmen. Der nächste Schritt ist abhängig von der Auswahl des Benutzers.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_registration</command>
     </term>
     <term><command>after_registration</command>
     </term>
     <listitem>
      <para>
       Führt die SUSE-Registrierung durch (wobei die Migrations-Repositorys hinzugefügt werden).
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_repo_selection</command>
     </term>
     <term><command>after_repo_selection</command>
     </term>
     <listitem>
      <para>
       Für die manuelle Repository-Verwaltung.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_set_migration_repo</command>
     </term>
     <term><command>after_set_migration_repo</command>
     </term>
     <listitem>
      <para>
       Zum Auswählen der Migrations-Repositorys (vollständige/minimale Migration mit Novell Customer Center) oder der Aktualisierungs-Repositorys (Migration mit benutzerdefinierten Repositorys)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_package_migration</command>
     </term>
     <listitem>
      <para>
       Vor der Aktualisierung; nach diesem Schritt beginnt die eigentliche Migration, und es ist nicht möglich, automatisch zum vorherigen Status zurückzugehen. (Ein Abbruch in dieser Phase führt zu einem inkonsistenten (nur halb aktualisierten) System, und ein manuelles Rollback ist erforderlich.)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_registration</command>
     </term>
     <term><command>after_registration</command>
     </term>
     <listitem>
      <para>
       Startet die SUSE-Registrierung (zum Registrieren der aktualisierten Produkte)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_congratulate</command>
     </term>
     <term><command>after_congratulate</command>
     </term>
     <listitem>
      <para>
       Vor/nach der Anzeige des Glückwunsch-Dialogfelds in Wagon nach der erfolgreichen Migration
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_exit</command>
     </term>
     <listitem>
      <para>
       Aufruf unmittelbar vor dem Beenden von Wagon (in jedem Fall, also unabhängig vom Migrationsergebnis, auch nach dem Abbrechen und beim Neustarten)
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2>
   <title>Abbruch-Hooks</title>
   <para>
    Diese besonderen Abbruch-Hooks werden aufgerufen, wenn der Benutzer die Migration abbricht. Diese Hooks können in jedem Schritt des Migrationsverfahrens aufgerufen werden; die Reihenfolge der Ausführung kann daher nicht garantiert werden. Wenn die Skripte von den Ergebnissen anderer Hooks abhängig sind, muss jeweils der aktuelle Status geprüft werden.
   </para>
   <variablelist>
    <varlistentry>
     <term><command>before_abort</command>
     </term>
     <listitem>
      <para>
       Benutzer hat den Abbruch der Migration bestätigt
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_abort_rollback</command>
     </term>
     <term><command>after_abort_rollback</command>
     </term>
     <listitem>
      <para>
       Benutzer hat das Rollback nach einem Abbruch bestätigt (Rückkehr zu den bisherigen Produkten, die vor der Migration installiert waren) Diese Hooks werden nach before_abort aufgerufen; wenn der Benutzer das Rollback nicht bestätigt, werden sie übersprungen.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2>
   <title>Neustart-Hooks</title>
   <para>
    Diese Hooks werden aufgerufen, wenn Wagon sich selbst neu startet.
   </para>
   <variablelist>
    <varlistentry>
     <term><command>before_restart</command>
     </term>
     <listitem>
      <para>
       Wagon wird beendet und anschließend neu gestartet
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>after_restart</command>
     </term>
     <listitem>
      <para>
       Wagon wurde neu gestartet und führt den nächsten Schritt im Migrationsverfahren aus
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2>
   <title>Häufig verwendete Hooks</title>
   <para>
    Es stehen zahlreiche Hooks zur Auswahl, doch viele sind nur in bestimmten Fällen sinnvoll. Im normalen Betrieb sollten Sie auf die folgenden Hooks zurückgreifen:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      Sollen bestimmte Aktionen erledigt werden, bevor das System migriert wird (wenn also noch die bisherige Version ausgeführt wird), verwenden Sie den Hook <command>before_package_migration</command>.
     </para>
     <para>
      Zu diesem Zeitpunkt ist klar, dass die Migration vorbereitet ist und in Kürze ausgeführt wird; in den vorherigen Schritten bestand dagegen immer noch die Möglichkeit, die Migration abzubrechen.

     </para>
    </listitem>
    <listitem>
     <para>
      Sollen bestimmte Aktionen erledigt werden, nachdem das System migriert wurde (auf dem System wird bereits die neue, migrierte Version ausgeführt, wobei bestimmte Funktionen noch nicht aktiv sind; der aktualisierte Kernel muss beispielsweise neu gebootet werden, aktualisierte Services müssen neu gestartet werden usw.), verwenden Sie den Hook <command>before_congratulate</command> oder <command>after_congratulate</command>.
     </para>
     <para>
      Hiermit lassen sich außerdem die temporären Ergebnisse des Hooks <command>before_package_migration</command> bereinigen. Zu diesem Zeitpunkt ist die Migration erfolgreich abgeschlossen.
     </para>
    </listitem>
    <listitem>
     <para>
      Sollen die Änderungen zurückgenommen werden, nachdem die Migration abgebrochen wurde, verwenden Sie einen geeigneten Abbruch-Hook für die jeweilige Situation. Denken Sie daran, dass die Abbruch-Hooks jederzeit aufgerufen werden können, sodass eine Rücknahme unter Umständen nicht nötig ist (also wenn der Hook, mit dem die Änderungen erfolgen, noch nicht aufgerufen wurde). Bei den Abbruch-Hooks muss der aktuelle Status überprüft werden.
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2>
   <title>Veraltete Hooks</title>
   <para>
    In älteren Versionen von Wagon wurden lediglich zwei Hook-Skripte unterstützt: <filename>/usr/lib/YaST2/bin/wagon_hook_init</filename> und <filename>/usr/lib/YaST2/bin/wagon_hook_finish</filename>. Allerdings konnte dabei immer nur ein Skript als Hook ausgeführt werden, und es war nicht möglich, die Hooks direkt in RPM-Pakete einzubinden.
   </para>
   <para>
    Aus Gründen der Abwärtskompabilität werden die alten Hook-Skripte auch in den neueren Versionen von Wagon unterstützt. Statt dieser veralteten Hooks sollten Sie jedoch die neuen Hooks <command>before_init</command> und <command>before_exit</command> nutzen.
   </para>
  </sect2>
 </sect1>
</chapter>
