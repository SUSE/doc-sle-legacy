<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN"
"novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="sle_update.xml" id="cha-update-sle">
 <title>Aggiornamento di SUSE Linux Enterprise</title>
 <abstract>
  <para>
   SUSE® Linux Enterprise (SLE) include un'opzione che consente di aggiornare un sistema esistente alla nuova versione senza eseguirne la reinstallazione completa. Non è necessario eseguire una nuova installazione. I dati esistenti, quali home directory e configurazione di sistema, restano invariati. Durante il ciclo di vita del prodotto, è possibile applicare Service Pack per aumentare la sicurezza del sistema, correggere difetti del software e disporre di nuove funzioni. Eseguire l'installazione da un'unità CD o DVD locale o da un'origine dell'installazione di rete centrale.
  </para>
 </abstract>
 <sect1 id="sec-update-terminology">
  <title>Terminologia</title>

  <para>
   In questo capitolo vengono utilizzati diversi termini Per comprendere le informazioni, leggere le definizioni riportate di seguito:
  </para>

  <variablelist>
   <varlistentry>
    <term>Backporting</term>
    <listitem>
     <para>
      Il backporting è l'atto di adattare modifiche specifiche di una versione del e di applicarle a una versione precedente. Nella maggior parte dei casi, tale operazione consiste nel correggere le falle di sicurezza nei componenti software precedenti. Di norma rientra nella procedura di manutenzione volta a fornire miglioramenti o (meno comune) nuove funzioni.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term>Deltarpm</term>
    <listitem>
     <para>
      Un deltarpm è costituito unicamente dal diff binario tra due versioni definite di un pacchetto e ha quindi le dimensioni di download più piccole in assoluto. Prima di installare il pacchetto RPM completo, è necessario ricostruirlo sul computer locale.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Downstream</term>
    <listitem>
     <para>
      Una metafora del processo di sviluppo del software nel mondo open source world (rispetto all'<emphasis>upstream</emphasis>). Il termine <emphasis>downstream</emphasis> si riferisce a persone o a organizzazioni come SUSE che integrano il codice sorgente "a monte" (upstream) con altro software per creare una distribuzione che viene quindi utilizzata dagli utenti finali. Da i rispettivi sviluppatori, il software scorre quindi downstream mediante gli integratori verso gli utenti finali.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Migrazione online</term>
    <listitem>
     <para>
      Aggiornamento a un (SP) utilizzando gli strumenti di aggiornamento online(al posto del supporto di installazione) per installare le rispettive patch. Tutti i pacchetti del sistema installato, inclusi gli aggiornamenti, vengono aggiornati allo stato più recente degli aggiornamenti di SP3 e SP2.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term>Pacchetto</term>
    <listitem>
     <para>
      Con pacchetto si intende un file compresso in formato <literal>rpm</literal> che contiene tutti i file di un determinato programma, inclusi i componenti facoltativi, come configurazione, esempi e documentazione.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term>Patch</term>
    <listitem>
     <para>
      Una patch è costituita da uno o più pacchetti e può essere applicata mediante deltarpm. Potrebbe anche introdurre dipendenze in pacchetti non ancora installati.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Service pack (SP)</term>
    <listitem>
     <para>
      Combinazione di diverse patch in un formato facile da installare o distribuire. I service pack sono numerati e generalmente contengono correzioni della sicurezza, aggiornamenti, upgrade o miglioramenti di programmi.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Upstream</term>
    <listitem>
     <para>
      Una metafora del processo di sviluppo del software nel mondo open source world (rispetto al <emphasis>donwstream</emphasis>). Il termine <emphasis>upstream</emphasis> si riferisce al progetto, all'autore o al gestore di un software distribuito come codice sorgente. Feedback, patch, miglioramenti delle funzioni o di altri componenti scorrono da utenti finali o collaboratori verso gli sviluppatori upstream. Questi decideranno se integrare o rifiutare la richiesta.
     </para>
     <para>
      Se un membro del progetto decide di integrare la richiesta, questa verrà riportata nelle versioni più recenti del software. Una richiesta accettata risulterà vantaggiosa per tutte le parti coinvolte nel progetto.
     </para>
     <para>
      I motivi di rifiuto di una richiesta possono essere molteplici. Ad esempio la richiesta non è conforme alle linee guida del progetto, non è valida, è già stata integrata oppure non rientra nell'ambito del progetto. Una richiesta non accettata risulta problematica per gli sviluppatori upstream in quanto devono tenere sincronizzate le patch con il codice upstream. In genere si evita di seguire questa prassi, ma talvolta essa è indispensabile.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term>Aggiornamento</term>
    <listitem>
     <para>
      Installazione di una versione più recente <emphasis>minore</emphasis> di un pacchetto.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Upgrade</term>
    <listitem>
     <para>
      Installazione di una versione più recente <emphasis>principale</emphasis> di un pacchetto o di una distribuzione che include <emphasis>nuove funzioni</emphasis>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 id="sec-update-nmm">
  <title>Il modello di manutenzione di SUSE Linux Enterprise 11</title>

  <para>
   Il modello di manutenzione di SUSE Linux Enteprise 11 garantisce flessibilità e controllo dei service pack. Offre i seguenti vantaggi:
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     Rende i service pack più leggeri e ne semplifica le procedure di test e distribuzione.
    </para>
   </listitem>
   <listitem>
    <para>
     Consente di mantenere le versioni meno recenti, ma con il supporto per l'intero sistema.
    </para>
   </listitem>
   <listitem>
    <para>
     Consente di soddisfare le esigenze di mercato tra un service pack e l'altro grazie a miglioramenti selettivi e alla possibilità di aumentare il numero di aggiornamenti nell'archivio degli aggiornamenti generale. Grazie alla selezione dei miglioramenti, è possibile ovviare a eventuali problemi tra un service pack e l'altro.
    </para>
   </listitem>
  </itemizedlist>

  <sect2 id="sec-update-background">
   <title>Informazioni di background</title>
   <para>
    Negli ultimi anni, sulla spinta dei miglioramenti basati sui feedback dei clienti, SUSE ha implementato diverse modifiche nel modo in cui vengono distribuiti gli aggiornamenti agli utenti:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      In SLES 9 esisteva un solo archivio in cui venivano raccolti tutti gli aggiornamenti e era supportato solo l'aggiornamento della release più recente.
     </para>
    </listitem>
    <listitem>
     <para>
      A partire da SLES 10 SP1, è stato introdotto il concetto di <quote>archivio specifico di SP</quote>. Vale a dire che tutti gli aggiornamenti di un determinato service pack vengono distribuiti in un archivio specifico. Quando gli utenti eseguono la migrazione a un service pack più recente, se si sono registrati direttamente in Novell Customer Center, perdono l'accesso agli archivi precedenti. Gli utenti di SMT o SUSE Manager erano e sono tuttora in grado di effettuare liberamente la sottoscrizione al canale SP. Il motivo principale di tale cambiamento è dovuto al concetto di periodo di sovrapposizione semestrale (supporto di service pack n-1) per la convalida del service pack rilasciato e alla finestra di migrazione per i clienti dalla quale questi continuerebbero a ricevere aggiornamenti e supporto completi per il SP precedente.
     </para>
    </listitem>
    <listitem>
     <para>
      SLES 11 GA e SLES 11 SP1 seguivano il modello SLES 10. Con SLES 11 SP2 è stato introdotto un nuovo modello di archivio costituito dai seguenti elementi:
     </para>
     <orderedlist numeration="lowerroman" spacing="normal">
      <listitem>
       <para>
        La sottoscrizione all'archivio degli aggiornamenti SLES 11 SP1 è stata mantenuta. Tutti gli aggiornamenti che erano applicabili a SP2 sono stati anche o solamente rilasciati nell'archivio degli aggiornamenti SP1. Vale a dire che si è continuato a distribuire tutti gli aggiornamenti che rispettano la compatibilità con ABI e API.
       </para>
      </listitem>
      <listitem>
       <para>
        L'archivio degli aggiornamenti SLES 11 SP2 include solo gli aggiornamenti più recenti o innovativi che, per vari motivi, è impossibile distribuire nell'archivio degli aggiornamenti SP1. Oltre a ciò, è stato introdotto un archivio di base, che ha costituito un <quote>intervallo</quote> per i pacchetti non rilasciati né nell'archivio degli aggiornamenti SP1 né in quello SP2.
       </para>
      </listitem>
      <listitem>
        <para>SLES 11 SP4 avrà un modello di canale simile a SLES 10. Il modello è stato adottato in quanto il modo più facile e rapido di spedire aggiornamenti per uno specifico Service Pack. Tutti gli aggiornamenti verranno spediti tramite uno speciale canale di aggiornamento. Sul computer saranno resi disponibili canali aggiuntivi, ma i vecchi canali verranno rimossi. </para>
      </listitem>
     </orderedlist>
    </listitem>
   </itemizedlist>
   <para>
    Nella <xref linkend="fig-update-maintenance-evolution"/> vengono illustrati alcuni degli aspetti sopra menzionati.
   </para>
   <figure id="fig-update-maintenance-evolution">
    <title>Evoluzione dei servizi di manutenzione (applicabile anche a SLED)</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="new-maintenance-model.svg" width="75%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="new-maintenance-model.png" width="75%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Il ciclo di vita dei nostri prodotti ha una durata di 10 anni: 10 anni di supporto generale e 3 di supporto esteso. Le release principali vengono rese disponibili ogni 4 anni, mentre i service pack ogni 18 mesi. Il supporto a lungo termine per service pack (LTSS) estende il periodo o il ciclo di vita della release principale (vedere <xref linkend="fig-update-maintenance-long-term-service-pack"/>).
   </para>
   <figure id="fig-update-maintenance-long-term-service-pack">
    <title>Supporto a lungo termine per service pack (LTSS)</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="long-term-service-pack-support.svg" width="75%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="long-term-service-pack-support.png" width="75%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Il supporto LTSS richiede la sottoscrizione attiva standard o con priorità e non interferisce con i termini di sottoscrizione di L1 o L2. Gli aggiornamenti di sicurezza vengono gestiti in modo <quote>proattivo</quote>. Proteggono il sistema da vulnerabilità critiche non definite dall'utente, exploit radice locali in kernel o altri exploit radice e sono eseguibili direttamente senza l'interazione dell'utente.
   </para>
  </sect2>

  <sect2 id="sec-update-supportlevel-lifecycle">
   <title>Livelli di supporto</title>
   <para>
    L'intervallo per i livelli di supporto esteso inizia dall'ottavo anno e termina il decimo anno. Prevedono diagnosi continuata del livello di engineering L3 e correzione reattiva dei bug critici. Questi livelli di supporto eseguono attivamente aggiornamenti di exploit radice locali facoltativi nel kernel o altri exploit radice direttamente eseguibili senza intervento dell'utente. Vengono inoltre supportati l'hardware, i workload e i software stack esistenti con un elenco di esclusione dei pacchetti limitato. Vedere <xref linkend="tab-security-and-bug-fixes"/> per una panoramica di quanto descritto.
   </para>
   <table id="tab-security-and-bug-fixes">
    <title>Aggiornamenti di sicurezza e correzione dei problemi</title>
    <tgroup cols="6">
     <colspec colname="c1"/>
     <colspec colname="c2"/>
     <colspec colname="c3"/>
     <colspec colname="c4"/>
     <colspec colname="c5"/>
     <colspec colname="c6"/>
     <thead>
      <row>
       <entry/>
       <entry namest="c2" nameend="c5" align="center">
        <para>
         - Supporto generale -
        </para>
       </entry>
       <entry>
        <para>
         Supporto esteso
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Argomento
        </para>
       </entry>
       <entry>
        <para>
         SP corrente
        </para>
       </entry>
       <entry>
        <para>
         SP (n-1)
<?dblinebreak ?>


         6 mesi
        </para>
       </entry>
       <entry>
        <para>
         SP (n-1)
<?dblinebreak ?>


         con LTSS
        </para>
       </entry>
       <entry>
        <para>
         Anni sesto e settimo
<?dblinebreak ?>


         con LTSS
        </para>
       </entry>
       <entry>
        <para>
         Anni ottavo, nono e decimo
<?dblinebreak ?>


         con LTSS
        </para>
       </entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>
        <para>
         Assistenza tecnica L1/L2
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Manutenzione proattiva
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry/>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry/>
      </row>
      <row>
       <entry>
        <para>
         Aggiornamento dei driver mediante PLDP
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry/>
       <entry/>
      </row>
      <row>
       <entry>
        <para>
         Aggiornamenti di sicurezza proattivi
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry/>
      </row>
      <row>
       <entry>
        <para>
         Supporto engineering L3
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Porte posteriori disponibili
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry/>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
       <entry>
        <para>
         ✓
        </para>
       </entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </sect2>

  <sect2 id="sec-update-nmm-channels">
   <title>Modello canale</title>
   <para os="sles">
    Con il modello di manutenzione precedente, a <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> erano assegnati due canali: <literal>SLES11-SPx-Pool</literal> e <literal>SLES11-SPx-Updates</literal>. Durante una migrazione online a SPx+1, tali canali venivano temporaneamente sostituiti da <literal>SLES11-SPx-Online</literal>.
   </para>
   
   <para>
    Con SUSE Linux Enterprise SP 2 il layout del canale è stato modificato in modo da supportare i vantaggi del nuovo modello di manutenzione. <xref linkend="tab-update-nmm-channels-sp2"/> contiene un elenco di tutti i canali compresi tra SP1 e SP3.
   </para>
   <table id="tab-update-nmm-channels-sp2">
    <title>Layout dei canali per SUSE Linux Enterprise 11 SP1, SP2 ed SP3</title>

    <tgroup cols="3">
     <colspec colnum="1" colname="c1" colwidth="1.2*"/>
     <colspec colnum="2" colname="c2" colwidth="3*"/>
     <colspec colnum="3" colname="c3" colwidth="3*"/>
     <thead>
      <row>
       <entry>
        <para>
         Tipo
        </para>
       </entry>
       <entry>
        <para>
         SLES
        </para>
       </entry>
       <entry>
        <para>
         SLED
        </para>
       </entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>
        <para>
         Canali richiesti
        </para>
       </entry>
       <entry>
        <para>
         SP1
        </para>
        <simplelist>
         <member><literal>SLES11-SP1-Pool</literal> </member> <member><literal>SLES11-SP1-Updates</literal> </member>
        </simplelist>
        <para>
         SP2
        </para>
        <simplelist>
         <member><literal>SLES11-SP1-Pool</literal> </member> <member><literal>SLES11-SP1-Updates</literal> </member> <member><literal>SLES11-SP2-Core</literal> </member> <member><literal>SLES11-SP2-Updates</literal> </member>
        </simplelist>
        <para>
         SP3
        </para>
        <simplelist>
         <member><literal>SLES11-SP3-Pool</literal> </member> <member><literal>SLES11-SP3-Updates</literal> </member>
        </simplelist>
         <para>SP4</para>
         <simplelist>
           <member><literal>SLES11-SP4-Pool</literal> </member> <member><literal>SLES11-SP4-Updates</literal></member>
         </simplelist>
       </entry>
       <entry>
        <para>
         SP1
        </para>
        <simplelist>
         <member><literal>SLED11-SP1-Pool</literal> </member> <member><literal>SLED11-SP1-Updates</literal> </member>
        </simplelist>
        <para>
         SP2
        </para>
        <simplelist>
         <member><literal>SLED11-SP1-Pool</literal> </member> <member><literal>SLED11-SP1-Updates</literal> </member> <member><literal>SLED11-SP2-Core</literal> </member> <member><literal>SLED11-SP2-Updates</literal> </member>
        </simplelist>
        <para>
         SP3
        </para>
        <simplelist>
         <member><literal>SLED11-SP3-Pool</literal> </member> <member><literal>SLED11-SP3-Updates</literal> </member>
        </simplelist>
        <para>SP4</para>
         <simplelist>
           <member><literal>SLED11-SP4-Pool</literal> </member> <member><literal>SLED11-SP4-Updates</literal></member>
         </simplelist>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Canali facoltativi
        </para>
       </entry>
       <entry>
        <para>
         SP1
        </para>
        <simplelist>
         <member><literal>SLES11-SP1-Debuginfo-Pool</literal> </member> <member><literal>SLES11-SP1-Debuginfo-Updates</literal> </member>
        </simplelist>
        <para>
         SP2
        </para>
        <simplelist>
         <member><literal>SLES11-SP2-Debuginfo-Core</literal> </member> <member><literal>SLES11-SP2-Debuginfo-Updates</literal> </member> <member><literal>SLES11-Extras</literal> </member> <member><literal>SLES11-SP2-Extension-Store</literal> </member>
        </simplelist>
        <para>
         SP3
        </para>
        <simplelist>
         <member><literal>SLES11-SP3-Debuginfo-Core</literal> </member> <member><literal>SLES11-SP3-Debuginfo-Updates</literal> </member> <member><literal>SLES11-SP3-Extension-Store</literal> </member> <member><literal>SLES11-Extra</literal> </member>
        </simplelist>
         <para>SP4</para>
         <simplelist>
           <member><literal>SLES11-SP4-Debuginfo-Pool</literal> </member> <member><literal>SLES11-SP4-Debuginfo-Updates</literal></member> <member><literal>SLES11-Extra</literal></member> <member><literal>SLES11-Security-Module</literal></member>
         </simplelist>
       </entry>
       <entry>
        <para>
         SP1
        </para>
        <simplelist>
         <member><literal>SLED11-SP1-Debuginfo-Pool</literal> </member> <member><literal>SLED11-SP1-Debuginfo-Updates</literal> </member>
        </simplelist>
        <para>
         SP2
        </para>
        <simplelist>
         <member><literal>SLED11-SP2-Debuginfo-Core</literal> </member> <member><literal>SLED11-SP2-Debuginfo-Updates</literal> </member> <member><literal>SLED11-Extras</literal> </member> <member><literal>SLED11-SP2-Extension-Store</literal> </member>
        </simplelist>
        <para>
         SP3
        </para>
        <simplelist>
         <member><literal>SLED11-SP3-Debuginfo-Core</literal> </member> <member><literal>SLED11-SP3-Debuginfo-Updates</literal> </member> <member><literal>SLED11-SP3-Extension-Store</literal> </member> <member><literal>SLED11-Extra</literal> </member>
        </simplelist>
         <para>SP4</para>
         <simplelist>
           <member><literal>SLED11-SP4-Debuginfo-Pool</literal> </member> <member><literal>SLED11-SP4-Debuginfo-Updates</literal></member>
         </simplelist>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Specifici per il prodotto (esempi)
        </para>
       </entry>
       <entry>
        <simplelist>
         <member><literal>SLES11-WebYaST-SP2-Pool</literal> </member> <member><literal>SLES11-WebYaST-SP2-Updates</literal> </member>
        </simplelist>
       </entry>
       <entry>
        <simplelist>
         <member><literal>SLED11-MSI-Updates</literal> </member>
        </simplelist>
       </entry>
      </row>
     </tbody>
    </tgroup>
   </table>
   <variablelist>
    <title>Descrizione dei canali richiesti</title>
    <varlistentry>
     <term>Core</term>
     <listitem>
      <para>
       Insieme di supporti di installazione estratti, contiene solo i pacchetti considerati <quote>essenziali (core)</quote> di SPx (circa 30% del pacchetto totale). Gli archivi SP contengono solo pacchetti specifici a un SP e ai rispettivi temi (ad esempio, l'abilitazione hardware). Esiste solo in SP2.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Aggiornamenti</term>
     <listitem>
      <para>
       Aggiornamenti di manutenzione ai pacchetti nell'archivio <literal>Core</literal> o <literal>Pool</literal> corrispondente.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Pool</term>
     <listitem>
      <para>
       Contiene tutti gli RPM binari del supporto di installazione, oltre alle informazioni sul modello e ai metadati di stato di supporto.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <variablelist>
    <title>Descrizione dei canali facoltativi</title>
    <varlistentry>
     <term>Debuginfo-Pool</term>
     <term>Debuginfo-Updates</term>
     <listitem>
      <para>
       Questi canali contengono contenuti statici. Solo il canale <literal>Debuginfo-Updates</literal> riceve tuttavia gli aggiornamenti. Abilitare questi canali se è necessario installare librerie con informazioni di debug in caso di errori.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Extension-Store</term>
     <listitem>
      <para> Non ancora in uso. Si presuppone che contenga pacchetti per prodotti aggiuntivi (futuri). Il canale Extension Store verrà rimosso a partire da SLES 11 SP4.</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>LTSS-Updates</term>
     <listitem>
      <para>
       Aggiornamenti di manutenzione ai pacchetti nell'archivio <literal>Pool</literal> corrispondente, per installazioni con servizio di supporto a lungo termine (LTSS). Questi canali specifici richiedono un contratto LTSS.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <sect3 id="sec-update-nmm-channels-origin">
    <title>Origine dei pacchetti</title>
    <formalpara>
     <title>SUSE Linux Enterprise 11 SP3/SP4</title>
     <para>Con l'installazione di SP3 sono disponibili solo due canali: SLES11-SP3-Pool e SLES11-SP3-Updates. Pur essendo visibili, i canali precedenti di SP2 non sono abilitati. Tali canali disabilitati sono necessari solo a utenti con esigenze specifiche. 
     </para>
    </formalpara>
   </sect3>
   <sect3 id="sec-update-nmm-channels-working">
    <title>Utilizzo dei canali</title>
    <para>
     Al momento della registrazione, il sistema riceve i canali da Customer Center. All'interno del Customer Center, i nomi dei canali sono associati a URI specifici (vedere <ulink url="http://scc.suse.com"/>). Per visualizzare un elenco di tutti i canali disponibili nel sistema, utilizzare <command>zypper</command> come indicato di seguito:
    </para>
<screen>zypper repos -u</screen>

    <para>
     In tal modo si ottiene un elenco di tutti i canali disponibili nel sistema. Ogni canale viene elencato secondo il rispettivo alias, nome e a seconda che sia abilitato e venga aggiornato. L'opzione <option>-u</option> fornisce inoltre l'URI di origine del canale.
    </para>
    <para>
     Se si desidera rimuovere canali precedenti (ad esempio, quelli di SP1), utilizzare <command>zypper removerepo</command> e i nomi dei canali. Ad esempio, per rimuovere canali di SP1 e SP2 precedenti, utilizzare il seguente comando:
    </para>
<screen>zypper removerepo SLES11-SP1-Pool SLES11-SP1-Updates \
  SLE11-SP1-Debuginfo-Pool SLE11-SP1-Debuginfo-Updates \
  SLES11-SP2-Core SLES11-SP2-Updates \
  SLE11-SP2-Debuginfo-Core SLES11-SP2-Extension-Store\
  SLE11-SP2-Debuginfo-Updates</screen>
    <para>
     Per aggiungere di nuovo alcuni canali, eseguire il login in <ulink url="http://www.novell.com/ncc"/> e selezionare dal menu <menuchoice> <guimenu>I miei prodotti</guimenu> <guimenu>Credenziali speculari</guimenu> </menuchoice>. Viene visualizzato un elenco di URI. È possibile aggiungere solo i canali provenienti da questo elenco di prodotti. Ad esempio, per aggiungere SP2 Extension Store, utilizzare il seguente comando (una riga, senza barra rovesciata):
    </para>
<screen>zypper addrepo -n SLES11-SP2-Extension-Store \
 https://nu.novell.com/repo/$RCE/SLES11-SP2-Extension-Store/nu_novell_com:SLES11-SP2-Extension-Store</screen>
   </sect3>
    
    
  </sect2>
 
 </sect1>
  
 <sect1 id="sec-update-proc-prep-paths">
  <title>Percorsi di upgrade a SLE SP4 supportati</title>


  <variablelist>
   <varlistentry>
    <term>Upgrade di SLES 8, SLES 9 e NLD 9</term>
    <listitem>
     <para>
      Da queste versioni non è supportato alcun percorso di upgrade diretto. Si consiglia invece di eseguire una nuova installazione.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Upgrade da SUSE Linux Enterprise 10 (qualsiasi Service Pack)</term>
    <listitem>
      
     <para>Alcune modalità supportate per l'upgrade da SLES 10 GA e SPx o SLES 11 GA e SP1 a SLES 11 SP3 potrebbero richiedere passaggi intermedi:</para>
      <itemizedlist mark="bullet" spacing="normal">
        <listitem>
          <para>SLES 10 GA -&gt; SLES 10 SP1 -&gt; SLES 10 SP2 -&gt; SLES 10 SP3 -&gt; SLES 10 SP4 -&gt; SLES 11 SP3, oppure</para>
        </listitem>
        <listitem>
          <para>SLES 11 GA -&gt; SLES 11 SP1 -&gt; SLES 11 SP2 -&gt; SLES 11 SP3 -&gt; SLES 11 SP4</para>
        </listitem>
      </itemizedlist>
     <para>L'upgrade da SLES 10 SP4 è possibile tramite supporti avviabili (incluso l'avvio PXE). Per informazioni di riferimento, vedere le note di rilascio all'indirizzo <ulink url="https://www.suse.com/releasenotes/x86_64/SUSE-SLES/11-SP4/#Update.General.Sequence"/>.
       </para>
      <para>
        Avviso per gli utenti di SLED: alcuni pacchetti di sviluppo sono stati trasferiti dai supporti di installazione di <literal>SLED11-SP2</literal> nell'archivio <literal>SLED11-Extras</literal>. Per evitare conflitti relativi alle dipendenze durante l'upgrade, abilitare questo archivio prima di procedere all'upgrade effettivo. Eseguire <command>yast2 repositories</command> e abilitare <literal>SLED11-Extras</literal>. Questo passaggio aggiuntivo non è necessario in SLES.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Upgrade da SUSE Linux Enterprise 11 GA</term>
    <listitem>
     <para>
      Non esistono percorsi di migrazione diretta a SUSE Linux Enterprise 11 SP3 supportati. È innanzitutto necessario eseguire un aggiornamento da SUSE Linux Enterprise 11 GA a SP1. Quindi procedere con <xref linkend="sec-update-sle11sp1"/> e <xref linkend="sec-update-sle11sp2"/>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Upgrade da SUSE Linux Enterprise 11 SP1</term>
    <listitem>
     <para>
      Per ulteriori dettagli, vedere <xref linkend="sec-update-sle11sp1"/>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Upgrade da SUSE Linux Enterprise 11 SP2</term>
    <listitem>
     <para>
      Per ulteriori dettagli, vedere <xref linkend="sec-update-sle11sp2"/>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Upgrade da SUSE Linux Enterprise 11 SP3</term>
    <listitem>
     <para>
      Per ulteriori dettagli, vedere <xref linkend="sec-update-sle11sp3"/>.
     </para>
    </listitem>
   </varlistentry> 
  </variablelist>

  <important>
   <title>gli upgrade tra architetture non sono supportati</title>
   <para>
    
    Non è possibile eseguire upgrade tra architetture (da 32 a 64 bit e da 64 a 32 bit).
   </para>
  </important>
  
 </sect1>
 <sect1 id="sec-update-prep">
  <title>Preparazione generale dell'aggiornamento</title>

  <para>
   Prima di iniziare la procedura di aggiornamento, assicurarsi che il sistema sia preparato correttamente. Tra le varie operazioni, la preparazione prevede il backup dei dati e il controllo delle note di rilascio.
  </para>

  <sect2 id="sec-update-prep-backup">
   <title>Esecuzione del backup</title>
   <para>
    Prima di eseguire l'aggiornamento, copiare i file di configurazione esistenti su un supporto separato (ad esempio un dispositivo a nastro, un disco rigido rimovibile e così via) per eseguire il backup dei dati. Copiare in particolare i file archiviati in <filename>/etc</filename> e alcuni file e directory in <filename>/var</filename> e <filename>/opt</filename>. Può anche essere opportuno salvare i dati dell'utente contenuti <filename>/home</filename> (ovvero le directory <envar>HOME</envar>) su un supporto di backup. Eseguire il backup di questi dati come <systemitem class="username">root</systemitem>. Infatti solo gli utenti <systemitem class="username">root</systemitem> dispongono delle autorizzazioni di lettura per tutti i file locali.
   </para>
   <para>
    Se in YaST si è selezionata la modalità di installazione <guimenu>Aggiornamento di un sistema esistente</guimenu>, è possibile scegliere di eseguire un backup (del sistema) in un momento successivo. È possibile includere tutti i file modificati e i file della directory <filename>/etc/sysconfig</filename>. Si tratta tuttavia di un backup parziale in quanto mancano tutte le altre directory importanti indicate sopra. Trovare il backup nella directory <filename>/var/adm/backup</filename>.
   </para>
  </sect2>

  <sect2 id="sec-update-prep-disks">
   <title>Partizionamento e spazio su disco</title>
   <para>
    Prima di avviare il processo di aggiornamento, prendere nota della partizione root. Mediante il comando <command>df /</command> è possibile visualizzare l'elenco dei nomi dei dispositivi nella partizione root. Nell'<xref linkend="aus-update-df"/>, la partizione root da trascrivere è <filename>/dev/sda3</filename> (montata come <filename>/</filename>).
   </para>
   <example id="aus-update-df">
    <title>Visualizzare l'elenco con il comando <command>df -h</command></title>

<screen os="sles">Filesystem     Size  Used Avail Use% Mounted on
     /dev/sda3       74G   22G   53G  29% /
     tmpfs          506M     0  506M   0% /dev/shm
     /dev/sda5      116G  5.8G  111G   5% /home
     /dev/sda1       44G    4G   40G   9% /data</screen>
   </example>
   <para>
    I programmi tendono a <quote>crescere</quote> da una versione all'altra. Quindi, prima di effettuare un aggiornamento, controllare lo spazio disponibile sulla partizione mediante il comando <command>df.</command> Se lo spazio disponibile sul disco non è sufficiente, proteggere i dati prima di procedere all'aggiornamento e di ripartizionare il sistema. Non esiste una regola generale in merito allo spazio che deve essere disponibile in ogni partizione. I requisiti di spazio dipendono dal particolare profilo di partizionamento e dal software selezionato.
   </para>
  </sect2>

  <sect2 id="sec-update-prep-vms">
   <title>Spegnimento delle macchine virtuali</title>
   <para>
    Se il computer funge da server host per macchine virtuali per KVM o Xen, assicurarsi di spegnere correttamente tutti i guest delle macchine virtuali prima dell'aggiornamento. altrimenti l'accesso ai guest dopo l'aggiornamento potrebbe risultare impossibile.
   </para>
  </sect2>

  <sect2 id="sec-update-prep-relnotes">
   <title>Requisiti specifici della versione</title>
   <para>
    Per i requisiti specifici della versione, fare riferimento alle note di rilascio fornite con il prodotto aggiornato. Nelle note di rilascio è inoltre possibile trovare informazioni aggiuntive sulle procedure di aggiornamento.
   </para>
   <para>
    La versione attuale delle note di rilascio contenenti le informazioni più recenti su <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> sono disponibili online alla pagina <ulink url="http://www.suse.com/doc/sles11/#additional"/>.
   </para>
  </sect2>
 </sect1>
 <sect1 id="sec-update-sle11sp1">
  <title>Aggiornamento da SLE 11 SP1 a SLE 11 SP2</title>

  <para>
   Sono supportati vari metodi per l'aggiornamento di un sistema SUSE Linux Enterprise 11 SP1 a un Service Pack 2. È possibile sfruttare gli strumenti di aggiornamento online per installare le rispettive patch (<quote>Migrazione online</quote>) oppure si può eseguire l'aggiornamento tramite il supporto di installazione Service Pack. Inoltre, gli aggiornamenti possono essere eseguiti tramite i server che ospitano Subscription Management Tool o SUSE Manager.
  </para>

  <para>
   La migrazione online è supportata dai seguenti strumenti:
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     <guimenu>YaST wagon</guimenu> (interfaccia grafica)
    </para>
   </listitem>
   <listitem>
    <para>
     <command>zypper</command> (riga di comando)
    </para>
   </listitem>
  </itemizedlist>

  <para>
   In alternativa è possibile effettuare il download del supporto Service Pack completo (immagine ISO DVD). Iniziare il processo di aggiornamento con l'avvio dal supporto fisico Service Pack o da un'origine di installazione di rete.
  </para>

  <sect2 id="sec-update-sle11spx-online">
   <title>Migrazione online</title>
   <para>
    L'aggiornamento del sistema mediante la migrazione online viene effettuata dal sistema in esecuzione. È necessario solo riavviare una volta il sistema dopo aver completato l'aggiornamento.
   </para>
   <sect3 id="sec-update-sle11spx-online-requirements">
    <title>Requisiti</title>
    <para>
     Per eseguire un aggiornamento online, è necessario che i seguenti requisiti siano soddisfatti. Assicurarsi di leggere anche <xref linkend="sec-update-prep"/>.
    </para>
    <variablelist>
     <varlistentry>
      <term>Registrazione del prodotto</term>
      <listitem>
       <para>
        Per potersi connettere ai canali di aggiornamento, è necessario che il prodotto sia registrato. In caso contrario, eseguire il modulo <guimenu>Configurazione di Novell Customer Center</guimenu> in YaST oppure lo strumento della riga di comando <command>suse_register</command> per avviare la registrazione.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Esecuzione di un aggiornamento online</term>
      <listitem>
       <para>
        Assicurarsi che la versione attualmente installata disponga delle patch più recenti. Eseguire un aggiornamento prima della migrazione online. Quando si utilizza un'interfaccia grafica, avviare il modulo Aggiornamento online di YaST o l'applet del programma di aggiornamento. Nella riga di comando, eseguire i seguenti comandi (l'ultimo comando deve essere eseguito due volte):
       </para>
<screen>zypper ref -s
zypper update -t patch
zypper update -t patch</screen>
       <para>
        Riavviare il sistema se necessario.
       </para>
       <para>
        Vedere <xref linkend="cha-onlineupdate-you"/> o <xref linkend="sec-zypper-softup"/>. per ulteriori informazioni sugli strumenti di aggiornamento online.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Software di terze parti</term>
      <listitem>
       <para>
        se l'impostazione coinvolge software di terze parti o software aggiuntivo, eseguire un test di questa procedura su un altro computer per verificare che le dipendenze non vengano danneggiate dall'aggiornamento;
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
    <important>
     <title>migrazione online completa da eseguire sempre</title>
     <para>
      La migrazione online deve essere completata sempre dall'inizio alla fine. L'interruzione di una migrazione online causa la corruzione del sistema con impossibilità di recupero.
     </para>
    </important>
   </sect3>
   <sect3 id="sec-update-sle11spx-online-wagon">
    <title>Migrazione online con YaST <guimenu>Wagon</guimenu></title>
     <para>Se si dispone di un sistema SLES 11 SP1, i passaggi necessari sono disponibili all'indirizzo <ulink url="https://www.suse.com/support/kb/doc.php?id=7011872"/>. La procedura che segue è applicabile per una migrazione online da SP2 a SP3.</para>     
    <procedure>
     <step performance="required">
      <para>
       Quando tutti i requisiti sono soddisfatti (vedere <xref linkend="sec-update-sle11spx-online-requirements"/>), nell'applet di aggiornamento della barra delle applicazioni verrà visualizzato un messaggio per indicare che l'upgrade di distribuzione è disponibile. Fare clic su di esso per avviare YaST <guimenu>Wagon</guimenu>. In alternativa, dalla riga di comando eseguire <command>/usr/sbin/wagon</command> come <systemitem class="username">radice</systemitem>.
      </para>
     </step>
     <step performance="required">
      <para>
       Confermare la finestra di dialogo di <guimenu>benvenuto</guimenu> facendo clic su <guimenu>Avanti</guimenu>.
      </para>
     </step>
     <step performance="required">
      <para>
       Se <guimenu>Wagon</guimenu> rileva che i requisiti non sono soddisfatti (aggiornamenti di manutenzione disponibili ma non ancora installati) verrà eseguito un aggiornamento automatico per il quale potrebbe essere necessario il riavvio. Seguire le istruzioni visualizzate.
      </para>
     </step>
     <step performance="required">
      <para>
       Scegliere il metodo di aggiornamento nella seguente finestra di dialogo. Scegliere <guimenu>Customer Center</guimenu> per utilizzare la configurazione di default (consigliata).
      </para>
      <para>
       Fare clic su <guimenu>URL personalizzato</guimenu> per scegliere manualmente i canali del software utilizzati per la migrazione online. Verrà visualizzato un elenco di canali dal quale sarà possibile abilitare, disabilitare, aggiungere o eliminare manualmente i canali. Aggiungere le origini di aggiornamento SP2, che potrebbero essere il supporto di installazione SP2 o i canali <literal>SP2-Core</literal> e <literal>SP2-Updates</literal>. Fare clic su <guimenu>OK</guimenu> per tornare alla finestra di dialogo <guimenu>Modo di aggiornamento</guimenu>.
      </para>
      <para>
       Per rivedere le modifiche apportate alla configurazione del canale causate dal processo di aggiornamento, selezionare <guimenu>Verifica modifiche automatiche archivio</guimenu>.
      </para>
      <para>
       Fare clic su <guimenu>Avanti</guimenu> per continuare.
      </para>
     </step>
     <step performance="required">
      <para>
       Il sistema verrà registrato di nuovo. Durante questo processo, i canali <literal>SP2-Core</literal> e <literal>SP2-Updates</literal> verranno aggiunti al sistema (vedere <xref linkend="sec-update-nmm-channels"/> per ulteriori informazioni). Confermare l'aggiunta dei canali.
      </para>
     </step>
     <step performance="required">
      <para>
       Se nella finestra di dialogo <guimenu>Modo di aggiornamento</guimenu> si è selezionato <guimenu>Verifica modifiche automatiche archivio</guimenu>, verrà visualizzato un elenco di archivi dal quale sarà possibile abilitare, disabilitare, aggiungere o modificare manualmente i canali. Procedere con <guimenu>OK</guimenu> al termine dell'operazione.
      </para>
     </step>
     <step performance="required">
      <para>
       Scegliere il tipo di migrazione:
      </para>
      <variablelist>
       <varlistentry>
        <term><guimenu>Migrazione completa</guimenu>
        </term>
        <listitem>
         <para>
          Aggiorna tutti i pacchetti al livello SP2 più recente.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term><guimenu>Migrazione minima</guimenu>
        </term>
        <listitem>
         <para>
          Aggiorna un insieme minimo di pacchetti al livello SP2 più recente. 
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
      <para>
       Fare clic su <guimenu>Avanzato</guimenu> per selezionare manualmente gli archivi utilizzati per l'upgrade.
      </para>
      <para>
       Confermare la selezione.
      </para>
     </step>
     <step performance="required">
      <para>
       Si apre la schermata <guimenu>Impostazioni upgrade di distribuzione</guimenu> in cui viene presentato un riepilogo della configurazione dell'aggiornamento. Sono disponibili le seguenti sezioni:
      </para>
      <variablelist>
       <varlistentry>
        <term><guimenu>Prodotti aggiuntivi</guimenu>
        </term>
        <listitem>
         <para>
          Qui è possibile aggiungere i prodotti aggiuntivi di SUSE Linux Enterprise Server o i prodotti di terze parti.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term><guimenu>Opzioni di aggiornamento</guimenu>
        </term>
        <listitem>
         <para>
          Elenca le azioni che verranno eseguite durante l'aggiornamento. È possibile scegliere se effettuare il download di tutti i pacchetti prima di installarli (default, consigliato) o effettuare il download e scaricare un pacchetto alla volta.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term><guimenu>Pacchetti</guimenu>
        </term>
        <listitem>
         <para>
          Panoramica statistica dell'aggiornamento.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>Backup</term>
        <listitem>
         <para>
          Impostare le opzioni di backup.
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
      <para>
       Fare clic su <guimenu>Avanti</guimenu> e <guimenu>Avvia l'aggiornamento</guimenu> per continuare.
      </para>
      <important>
       <title>interruzione della migrazione online</title>
       <para>
        In questa schermata e in tutte quelle precedenti è possibile interrompere la migrazione online in modo sicuro <emphasis>prima</emphasis> di fare clic su <guimenu>Avvia l'aggiornamento</guimenu>. Fare clic su <guimenu>Interrompi</guimenu> per abbandonare la procedura di aggiornamento e ripristinare lo stato del sistema antecedente all'avvio di YaST Wagon. Seguire le istruzioni visualizzate ed eseguire una nuova registrazione prima di abbandonare Wagon per rimuovere i canali SP2 dal sistema.
       </para>
      </important>
     </step>
     <step performance="required">
      <para>
       Durante la procedura di aggiornamento vengono eseguiti i seguenti passaggi:
      </para>
      <substeps performance="required">
       <step performance="required">
        <para>
         I pacchetti saranno aggiornati.
        </para>
       </step>
       <step performance="required">
        <para>
         <command>SuSEconfig</command> verrà eseguito.
        </para>
       </step>
       <step performance="required">
        <para>
         Il sistema verrà riavviato (premere <guimenu>OK</guimenu>).
        </para>
       </step>
       <step performance="required">
        <para>
         Verrà effettuata una nuova registrazione del sistema aggiornato di recente.
        </para>
       </step>
      </substeps>
     </step>
     <step performance="required">
      <para>
       L'aggiornamento del sistema a Service Pack 2 è stato completato.
      </para>
     </step>
    </procedure>
    
   </sect3>
   <sect3 id="sec-update-sle11spx-online-zypper">
    <title>Migrazione online con <command>zypper</command></title>
    <procedure>
     <step performance="required">
      <para>
       Quando tutti i requisiti sono soddisfatti (vedere <xref linkend="sec-update-sle11spx-online-requirements"/>), i <quote>prodotti</quote> necessari per la migrazione online sono stati aggiunti a <filename>/etc/products.d</filename>. Ottenere un elenco di questi prodotti eseguendo il seguente comando:
      </para>

<screen>zypper se -t product | grep -h -- "-migration" | cut -d'|' -f2</screen>
      <para>
       Il comando deve restituire almeno <literal os="sles">SUSE_SLES-SP2-migration</literal>. A seconda dell'ambito dell'installazione, è possibile che vengano elencati altri prodotti.
      </para>
     </step>
     <step performance="required">
      <para>
       Installare i prodotti della migrazione recuperati nel passaggio precedente mediante il comando <command>zypper in -t product <replaceable>LIST_OF_PRODUCTS</replaceable></command>, ad esempio
      </para>
<screen os="sles">zypper in -t product SUSE_SLES-SP2-migration</screen>

     </step>
     <step performance="required">
      <para>
       Registrare i prodotti installati nel passaggio precedente per ottenere i rispettivi canali di aggiornamento:
      </para>
<screen>suse_register -d 2 -L /root/.suse_register.log</screen>
     </step>
     <step performance="required">
      <para>
       Aggiornare di nuovi gli archivi e i servizi:
      </para>
<screen>zypper ref -s</screen>
     </step>
     <step performance="required">
      <para>
       Verificare l'elenco di archivi che è possibile recuperare con <command>zypper lr</command>. È necessario che <emphasis>almeno</emphasis> i seguenti archivi siano <guimenu>abilitati</guimenu>:
      </para>
      <itemizedlist os="sles" mark="bullet" spacing="normal">
       <listitem>
        <para>
         <literal>SLES11-SP1-Pool</literal>
        </para>
       </listitem>
       <listitem>
        <para>
         <literal>SLES11-SP1-Updates</literal>
        </para>
       </listitem>
       <listitem>
        <para>
         <literal>SLES11-SP2-Core</literal>
        </para>
       </listitem>
       <listitem>
        <para>
         <literal>SLES11-SP2-Updates</literal>
        </para>
       </listitem>
      </itemizedlist>
      
      <para>
       A seconda dell'ambito dell'installazione, è necessario abilitare ulteriori archivi per i prodotti aggiuntivi o le estensioni.
      </para>
      <para>
       Se uno di questi archivi non è abilitato (quando si segue questo workflow gli archivi <literal>SP2</literal> non sono abilitati per default), abilitarlo con <command>zypper modifyrepo --enable <replaceable>REPOSITORY ALIAS</replaceable></command>, ad esempio:
      </para>
<screen os="sles">zypper modifyrepo --enable SLES11-SP2-Core SLES11-SP2-Updates</screen>

      <para>
       Se la configurazione contiene archivi di terze parti che potrebbero non essere compatibili con SP2, disabilitarli con <command>zypper modifyrepo --disable <replaceable>REPOSITORY ALIAS</replaceable></command>.
      </para>
     </step>
     <step performance="required">
      <para>
       A questo punto è possibile eseguire l'upgrade di distribuzione con <command>zypper dup --from <replaceable>REPO 1</replaceable> --from <replaceable>REPO 2</replaceable> <replaceable>...</replaceable></command>. Assicurarsi di elencare tutti gli archivi necessari con <option>--from</option>, ad esempio:
      </para>
<screen os="sles">zypper dup --from SLES11-SP2-Core --from SLES11-SP2-Updates</screen>

      <para>
       Confermare con <guimenu>y</guimenu> per avviare l'upgrade.
      </para>
     </step>
     <step performance="required">
      <para>
       Al completamento dell'upgrade di distribuzione del passaggio precedente, è stata eseguita una migrazione minima (un insieme minimo di pacchetti è stato aggiornato al livello SP2 più recente). Ignorare questo passaggio se non si ha intenzione di eseguire una migrazione completa.
      </para>
      <para>
       Per eseguire una migrazione completa (aggiornamenti di tutti i pacchetti al livello SP2 più recente), eseguire il seguente comando:
      </para>
<screen>zypper update -t patch</screen>
     </step>
     <step performance="required">
      <para>
       Ora che l'upgrade a SP2 è stato completato, è necessario registrare di nuovo il prodotto:
      </para>
<screen>suse_register -d 2 -L /root/.suse_register.log</screen>
     </step>
     <step performance="required">
      <para>
       Riavviare infine il sistema.
      </para>
     </step>
     <step performance="required">
      <para>
       L'aggiornamento del sistema a Service Pack 2 è stato completato.
      </para>
     </step>
    </procedure>
   </sect3>
  </sect2>

  <sect2 id="sec-update-sle11spx-medium">
   <title>Aggiornamento mediante il riavvio da un'origine di installazione</title>
   <para>
    In alternativa alla migrazione online (vedere <xref linkend="sec-update-sle11spx-online"/> per i dettagli) è inoltre possibile aggiornare il sistema effettuando l'avvio da un'origine di installazione, come un DVD o un'origine di installazione di rete. L'aggiornamento avrà inizio come una normale installazione.
   </para>
   <para>
    È possibile ottenere le immagini ISO Service Pack 2 da <ulink url="http://download.novell.com/"/>. Masterizzarle su un DVD o preparare un'origine di installazione di rete come descritto nella <xref linkend="sec-deployment-remoteinst-instserver"/>.
   </para>
   <sect3 id="sec-upgrade-install-from-dvd">
    <title>Aggiornamento da un'unità DVD locale</title>
    <para>
     Prima di avviare una nuova installazione di SUSE Linux Enterprise SP, accertarsi di disporre di tutti i supporti di installazione del service pack (DVD).
    </para>
    <procedure id="upgrade-sp-instsp-fromsp">
     <title>Avvio dal supporto del service pack</title>
     <step performance="required">
      <para>
       Inserire il primo supporto di SUSE Linux Enterprise SP, quindi avviare il computer. Viene visualizzata una schermata di avvio simile a quella dell'installazione originale di SUSE Linux Enterprise 11.
      </para>
     </step>
     <step performance="required">
      <para>
       Selezionare <guimenu>Installazione</guimenu> e seguire le istruzioni di installazione di YaST riportate nel <xref linkend="cha-inst"/>.
      </para>
     </step>
    </procedure>
   </sect3>
   <sect3 id="sec-upgrade-install-from-network">
    <title>Aggiornamento da un'origine di installazione di rete</title>
    <para>
     Prima di iniziare un aggiornamento di SUSE Linux Enterprise SP da un'origine di installazione di rete, assicurarsi che i requisiti seguenti vengano soddisfatti:
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       L'origine di installazione di rete viene configurata secondo quanto definito nella <xref linkend="sec-deployment-remoteinst-instserver"/>.
      </para>
     </listitem>
     <listitem>
      <para>
       Esiste una connessione di rete funzionante sia nel server di installazione sia nel computer di destinazione che include un servizio dei nomi, DHCP (facoltativo, ma necessario per l'avvio PXE) e OpenSLP (facoltativo).
      </para>
     </listitem>
     <listitem>
      <para>
       Esiste il DVD 1 di SUSE Linux Enterprise SP per avviare il sistema di destinazione <emphasis>oppure</emphasis> una configurazione del sistema di destinazione per avviare PXE in base alla <xref linkend="sec-deployment-remoteinst-boot-pxeprep" xrefstyle="HeadingOnPage"/>.
      </para>
     </listitem>
    </itemizedlist>
    <para>
     Per informazioni più approfondite sull'avvio dell'upgrade da un server remoto, fare riferimento a <xref linkend="cha-deployment-remoteinst"/>.
    </para>
    <sect4 id="sec-upgrade-install-from-network-dvdboot">
     <title>Installazione di rete - Avvio da DVD</title>
     <para>
      Per eseguire un'installazione di rete utilizzando il DVD SP come supporto di avvio, procedere come indicato:
     </para>
     <procedure>
      <step performance="required">
       <para>
        Inserire il DVD 1 di SUSE Linux Enterprise SP, quindi avviare il computer. Viene visualizzata una schermata di avvio simile a quella dell'installazione originale di SUSE Linux Enterprise 11.
       </para>
      </step>
      <step performance="required">
       <para>
        Selezionare <guimenu>Installazione</guimenu> per avviare il kernel del SP, quindi utilizzare <keycap>F4</keycap> per selezionare il tipo di origine dell'installazione di rete (FTP, HTTP, NFS o SMB).
       </para>
      </step>
      <step performance="required">
       <para>
        Indicare l'informazione appropriata sul percorso o selezionare <guimenu>SLP</guimenu> come origine dell'installazione.
       </para>
      </step>
      <step performance="required">
       <para>
        Selezionare il server di installazione appropriato tra quelli offerti o utilizzare il prompt delle opzioni di avvio per indicare il tipo di origine dell'installazione e l'ubicazione effettiva come nell'<xref linkend="sec-i-yast2-source-network"/>. YaST viene avviato.
       </para>
       <para>
        Concludere l'installazione come indicato nella <xref linkend="sec-update-sle11spx-medium-update"/>.
       </para>
      </step>
     </procedure>
    </sect4>
    <sect4 id="sec-upgrade-install-from-network-pxeboot">
     <title>Installazione di rete - Avvio PXE</title>
     <para>
      Per eseguire un'installazione di rete di un SUSE Linux Enterprise Service Pack tramite rete, eseguire le operazioni riportate di seguito:
     </para>
     <procedure>
      <step performance="required">
       <para>
        Modificare l'impostazione del server DHCP per indicare le informazioni sull'indirizzo necessarie per l'avvio PXE in base alla <xref linkend="sec-deployment-remoteinst-boot-pxeprep"/>.
       </para>
      </step>
      <step performance="required">
       <para>
        Impostare il server TFTP in modo che conservi l'immagine di avvio necessaria per l'avvio PXE.
       </para>
       <para>
        A tale scopo, utilizzare il primo CD o DVD di SUSE Linux Enterprise Service Pack oppure seguire le istruzioni riportate nella <xref linkend="sec-deployment-remoteinst-boot-tftp"/>.
       </para>
      </step>
      <step performance="required">
       <para>
        Preparare l'avvio PXE e Wake-on-LAN sul computer di destinazione.
       </para>
      </step>
      <step performance="required">
       <para>
        Iniziare l'avvio del sistema di destinazione e utilizzare VNC per la connessione remota alla routine di installazione in esecuzione sul computer. Per ulteriori informazioni, vedere <xref linkend="sec-deployment-remoteinst-monitor-vnc"/>.  
       </para>
      </step>
      <step performance="required">
       <para>
        Concludere l'installazione come indicato nella <xref linkend="sec-update-sle11spx-medium-update"/>.
       </para>
      </step>
     </procedure>
    </sect4>
   </sect3>
   <sect3 id="sec-update-sle11spx-medium-update">
    <title>Procedura di aggiornamento</title>
    <para>
     Una volta completato l'avvio da un supporto di installazione o dalla rete, procedere come indicato di seguito per iniziare l'aggiornamento:
    </para>
    <procedure>
     <step performance="required">
      <para>
       Nella schermata di <guimenu>benvenuto</guimenu> scegliere <guimenu>Lingua</guimenu> e <guimenu>Tastiera</guimenu>, quindi accettare il contratto di licenza. Fare clic su <guimenu>Avanti</guimenu> per continuare.
      </para>
     </step>
     <step performance="required">
      <para>
       Qualora l'avvio venisse effettuato da un supporto fisico, eseguire una <guimenu>verifica dei supporti</guimenu> per verificare l'integrità del supporto. Ignorare questo passaggio solo se il supporto è già stato sottoposto a verifica.
      </para>
     </step>
     <step performance="required">
      <para>
       Nella schermata <guimenu>Modalità di installazione</guimenu> selezionare <guimenu>Aggiorna</guimenu>. Facendo clic su <guimenu>Avanti</guimenu> si avvierà la procedura di aggiornamento.
      </para>
     </step>
    </procedure>
   </sect3>
  </sect2>

  <sect2 id="sec-update-sle11spx-smt">
   <title>Aggiornamento tramite Subscription Management Tool (SMT)</title>
   <para>
    In alternativa al download degli aggiornamenti per ogni singolo sistema client dal server di aggiornamento Novell, è possibile utilizzare Subscription Management Tool (SMT) per SUSE Linux Enterprise per eseguire la copia speculare degli aggiornamenti in un server locale.
   </para>
   <para>
    Questo strumento funge da proxy Novell Customer Center per le registrazioni client e da archivio di aggiornamenti del software. La documentazione di SMT disponibile in <ulink url="http://www.suse.com/doc/smt11/"/> offre una panoramica delle rispettive funzioni, nonché le istruzioni per implementarle.
   </para>
  </sect2>

  <sect2 id="sec-update-sle11spx-manager">
   <title>Aggiornamento tramite SUSE Manager</title>
   <para>
    SUSE Manager è una soluzione server che fornisce aggiornamenti, patch e correzioni per la sicurezza dei client SUSE Linux Enterprise. Viene fornito in dotazione con un set di strumenti e un'interfaccia utente basata su Web per i task di gestione.
   </para>
   <para>
    La documentazione relativa a SUSE Manager in <ulink url="http://www.suse.com/doc/suse_manager/"/> offre una panoramica delle funzioni del prodotto, nonché le istruzioni su come configurare server e client.
   </para>
  </sect2>
 </sect1>
 <sect1 id="sec-update-sle11sp2">
  <title>Aggiornamento di SLE 11 SP2 a SLE 11 SP3</title>

  

  <para>
   La migrazione online è supportata dai seguenti strumenti:
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     <guimenu>YaST wagon</guimenu> (interfaccia grafica)
    </para>
   </listitem>
   <listitem>
    <para>
     <command>zypper</command> (riga di comando)
    </para>
   </listitem>
  </itemizedlist>

  <para>
   Se si aggiorna il sistema tramite la migrazione online, l'aggiornamento ha luogo durante l'esecuzione del sistema. È necessario solo riavviare una volta il sistema dopo aver completato l'aggiornamento. È ancora possibile eseguire l'aggiornamento nei seguenti modi alternativi:
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     <xref linkend="sec-update-sle11spx-medium"/>
    </para>
   </listitem>
   <listitem>
    <para>
     <xref linkend="sec-update-sle11spx-smt"/>
    </para>
   </listitem>
   <listitem>
    <para>
     <xref linkend="sec-update-sle11spx-manager"/>
    </para>
   </listitem>
  </itemizedlist>

  <sect2 id="sec-update-sle11sp2-online-requirements">
   <title>Requisiti</title>
   <para>
    Per eseguire un aggiornamento online, è necessario che i seguenti requisiti siano soddisfatti. Assicurarsi di leggere anche <xref linkend="sec-update-prep"/>.
   </para>
   <variablelist>
    <varlistentry>
     <term>Registrazione del prodotto</term>
     <listitem>
      <para>
       Per potersi connettere ai canali di aggiornamento, è necessario che il prodotto sia registrato. In caso contrario, eseguire il modulo <guimenu>Configurazione di Novell Customer Center</guimenu> in YaST oppure lo strumento della riga di comando <command>suse_register</command> per avviare la registrazione.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Esecuzione di un aggiornamento online</term>
     <listitem>
      <para>
       Assicurarsi che la versione attualmente installata disponga delle patch più recenti. Eseguire un aggiornamento prima della migrazione online. Quando si utilizza un'interfaccia grafica, avviare il modulo Aggiornamento online di YaST o l'applet del programma di aggiornamento. Nella riga di comando, eseguire i seguenti comandi (l'ultimo comando deve essere eseguito due volte):
      </para>
<screen>zypper ref -s
zypper update -t patch
zypper update -t patch</screen>
      <para>
       Riavviare il sistema se necessario.
      </para>
      <para>
       Vedere <xref linkend="cha-onlineupdate-you"/> o <xref linkend="sec-zypper-softup"/> per ulteriori informazioni sugli strumenti di aggiornamento online.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Software di terze parti</term>
     <listitem>
      <para>
       se l'impostazione coinvolge software di terze parti o software aggiuntivo, eseguire un test di questa procedura su un altro computer per verificare che le dipendenze non vengano danneggiate dall'aggiornamento;
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <important>
    <title>migrazione online completa da eseguire sempre</title>
    <para>
     La migrazione online deve essere completata sempre dall'inizio alla fine. L'interruzione di una migrazione online causerà la corruzione del sistema con impossibilità di recupero.
    </para>
   </important>
  </sect2>

  <sect2 id="sec-update-sle11sp2-online-wagon">
   <title>Migrazione online con YaST <guimenu>Wagon</guimenu></title>
   <procedure>
    <step performance="required">
     <para>
      Quando tutti i requisiti sono soddisfatti (vedere <xref linkend="sec-update-sle11spx-online-requirements"/>), nell'applet di aggiornamento della barra delle applicazioni verrà visualizzato un messaggio per indicare che l'upgrade di distribuzione è disponibile. Fare clic su di esso per avviare YaST <guimenu>Wagon</guimenu>. In alternativa, dalla riga di comando eseguire <command>/usr/sbin/wagon</command> come <systemitem class="username">radice</systemitem>.
     </para>
    </step>
    <step performance="required">
     <para>
      Confermare la finestra di dialogo di <guimenu>benvenuto</guimenu> facendo clic su <guimenu>Avanti</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Se <guimenu>Wagon</guimenu> rileva che i requisiti non sono soddisfatti (aggiornamenti di manutenzione disponibili ma non ancora installati) verrà eseguito un aggiornamento automatico per il quale potrebbe essere necessario il riavvio. Seguire le istruzioni visualizzate.
     </para>
    </step>
    <step performance="required">
     <para>
      Scegliere il metodo di aggiornamento nella seguente finestra di dialogo. Scegliere <guimenu>Customer Center</guimenu> per utilizzare la configurazione di default (consigliata).
     </para>
     <para>
      Fare clic su <guimenu>URL personalizzato</guimenu> per scegliere manualmente i canali del software utilizzati per la migrazione online. Verrà visualizzato un elenco di canali dal quale sarà possibile abilitare, disabilitare, aggiungere o eliminare manualmente i canali. Aggiungere le origini di aggiornamento SP3, che potrebbero essere il supporto di installazione SP3 o i canali <literal>SP3-Pool</literal> e <literal>SP3-Updates</literal>. Fare clic su <guimenu>OK</guimenu> per tornare alla finestra di dialogo <guimenu>Modo di aggiornamento</guimenu>.
     </para>
     <para>
      Per rivedere le modifiche apportate alla configurazione del canale causate dal processo di aggiornamento, selezionare <guimenu>Verifica modifiche automatiche archivio</guimenu>.
     </para>
     <para>
      Fare clic su <guimenu>Avanti</guimenu> per continuare.
     </para>
    </step>
    <step performance="required">
     <para>
      Il sistema verrà registrato di nuovo. Durante questo processo, i canali <literal>SP3-Pool</literal> e <literal>SP3-Updates</literal> verranno aggiunti al sistema (vedere <xref linkend="sec-update-nmm-channels"/> per ulteriori informazioni). Confermare l'aggiunta dei canali.
     </para>
    </step>
    <step performance="required">
     <para>
      Se nella finestra di dialogo <guimenu>Modo di aggiornamento</guimenu> si è selezionato <guimenu>Verifica modifiche automatiche archivio</guimenu>, verrà visualizzato un elenco di archivi dal quale sarà possibile abilitare, disabilitare, aggiungere o modificare manualmente i canali. Procedere con <guimenu>OK</guimenu> al termine dell'operazione.
     </para>
    </step>
    <step performance="required">
     <para>
      Si apre la schermata <guimenu>Impostazioni upgrade di distribuzione</guimenu> in cui viene presentato un riepilogo della configurazione dell'aggiornamento. Sono disponibili le seguenti sezioni:
     </para>
     <variablelist>
      <varlistentry>
       <term><guimenu>Prodotti aggiuntivi</guimenu>
       </term>
       <listitem>
        <para>
         Qui è possibile aggiungere i prodotti aggiuntivi di SUSE Linux Enterprise Server o i prodotti di terze parti.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term><guimenu>Opzioni di aggiornamento</guimenu>
       </term>
       <listitem>
        <para>
         Elenca le azioni che verranno eseguite durante l'aggiornamento. È possibile scegliere se effettuare il download di tutti i pacchetti prima di installarli (default, consigliato) o effettuare il download e scaricare un pacchetto alla volta.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term><guimenu>Pacchetti</guimenu>
       </term>
       <listitem>
        <para>
         Panoramica statistica dell'aggiornamento.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>Backup</term>
       <listitem>
        <para>
         Impostare le opzioni di backup.
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
     <para>
      Fare clic su <guimenu>Avanti</guimenu> e <guimenu>Avvia l'aggiornamento</guimenu> per continuare.
     </para>
     <important>
      <title>interruzione della migrazione online</title>
      <para>
       In questa schermata e in tutte quelle precedenti è possibile interrompere la migrazione online in modo sicuro <emphasis>prima</emphasis> di fare clic su <guimenu>Avvia l'aggiornamento</guimenu>. Fare clic su <guimenu>Interrompi</guimenu> per abbandonare la procedura di aggiornamento e ripristinare lo stato del sistema antecedente all'avvio di YaST Wagon. Seguire le istruzioni visualizzate ed eseguire una nuova registrazione prima di abbandonare Wagon per rimuovere i canali SP2 dal sistema.
      </para>
     </important>
    </step>
    <step performance="required">
     <para>
      Durante la procedura di aggiornamento vengono eseguiti i seguenti passaggi:
     </para>
     <substeps performance="required">
      <step performance="required">
       <para>
        I pacchetti saranno aggiornati.
       </para>
      </step>
      <step performance="required">
       <para>
        <command>SuSEconfig</command> verrà eseguito.
       </para>
      </step>
      <step performance="required">
       <para>
        Il sistema verrà riavviato (premere <guimenu>OK</guimenu>).
       </para>
      </step>
      <step performance="required">
       <para>
        Verrà effettuata una nuova registrazione del sistema aggiornato di recente.
       </para>
      </step>
     </substeps>
    </step>
    <step performance="required">
     <para>
      L'aggiornamento del sistema a Service Pack 3 è stato completato.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec-update-sle11sp2-online-zypper">
   <title>Migrazione online con <command>zypper</command></title>
   <procedure>
    <step performance="required">
     <para>
      Quando tutti i requisiti sono soddisfatti (vedere <xref linkend="sec-update-sle11spx-online-requirements"/>), i <quote>prodotti</quote> necessari per la migrazione online vengono aggiunti a <filename>/etc/products.d</filename>. Ottenere un elenco di questi prodotti eseguendo il seguente comando:
     </para>

<screen>zypper se -t product | grep -h -- "-migration" | cut -d'|' -f2</screen>
     <para>
      Il comando deve restituire almeno <literal os="sles">SUSE_SLES-SP3-migration</literal>. A seconda dell'ambito dell'installazione, è possibile che vengano elencati altri prodotti.
     </para>
    </step>
    <step performance="required">
     <para>
      Installare i prodotti della migrazione recuperati nel passaggio precedente mediante il comando <command>zypper in -t product <replaceable>LIST_OF_PRODUCTS</replaceable></command>, ad esempio
     </para>
<screen os="sles">zypper in -t product SUSE_SLES-SP3-migration</screen>

    </step>
    <step performance="required">
     <para>
      Registrare i prodotti installati nel passaggio precedente per ottenere i rispettivi canali di aggiornamento:
     </para>
<screen>suse_register -d 2 -L /root/.suse_register.log</screen>
    </step>
    <step performance="required">
     <para>
      Aggiornare archivi e servizi:
     </para>
<screen>zypper ref -s</screen>
    </step>
    <step performance="required">
     <para>
      Verificare l'elenco di archivi che è possibile recuperare con <command>zypper lr</command>. 
     </para>
     <para>
      Se uno di questi archivi non è abilitato (quando si segue questo workflow gli archivi <literal>SP3</literal> non sono abilitati per default), abilitarlo con <command>zypper modifyrepo --enable <replaceable>REPOSITORY ALIAS</replaceable></command>, ad esempio:
     </para>
<screen os="sles">zypper modifyrepo --enable SLES11-SP3-Core SLES11-SP3-Updates</screen>

     <para>
      Se la configurazione contiene archivi di terze parti che potrebbero non essere compatibili con SP3, disabilitarli con <command>zypper modifyrepo --disable <replaceable>REPOSITORY ALIAS</replaceable></command>.
     </para>
    </step>
    <step performance="required">
     <para>
      A questo punto è possibile eseguire l'upgrade di distribuzione con <command>zypper dup --from <replaceable>REPO 1</replaceable> --from <replaceable>REPO 2</replaceable> <replaceable>...</replaceable></command>. Assicurarsi di elencare tutti gli archivi necessari con <option>--from</option>, ad esempio:
     </para>
<screen os="sles">zypper dup --from SLES11-SP3-Pool --from SLES11-SP3-Updates</screen>

     <para>
      Confermare con <guimenu>y</guimenu> per avviare l'upgrade.
     </para>
    </step>
    <step performance="required">
     <para>
      Dopo aver completato l'upgrade di distribuzione del passaggio precedente, eseguire il seguente comando:
     </para>
<screen>zypper update -t patch</screen>
    </step>
    <step performance="required">
     <para>
      Ora che l'upgrade a SP3 è stato completato, è necessario registrare di nuovo il prodotto:
     </para>
<screen>suse_register -d 2 -L /root/.suse_register.log</screen>
    </step>
    <step performance="required">
     <para>
      Riavviare infine il sistema.
     </para>
    </step>
    <step performance="required">
     <para>
      L'aggiornamento del sistema a Service Pack 3 è stato completato.
     </para>
    </step>
   </procedure>
  </sect2>
 </sect1>
  
 <sect1 id="sec-update-sle11sp3">
   <title>Aggiornamento di SLE 11 SP3 a SLE 11 SP4</title>
   <para>Sono supportati vari metodi per l'aggiornamento di un sistema SUSE Linux Enterprise Server 11 SP3 a un Service Pack 4. È possibile sfruttare gli strumenti di aggiornamento online per installare le rispettive patch (Migrazione online) oppure si può eseguire l'aggiornamento tramite il supporto di installazione Service Pack. Inoltre, gli aggiornamenti possono essere eseguiti tramite i server che ospitano Subscription Management Tool (SMT) o SUSE Manager.</para>
   <para>La migrazione online è supportata dai seguenti strumenti:
     </para>
       <itemizedlist mark="bullet" spacing="normal">
         <listitem>
           <para>YaST wagon (interfaccia grafica) </para>
         </listitem>
         <listitem>
           <para><command>zypper</command> (riga di comando)</para>
         </listitem>
       </itemizedlist>
     <para>In alternativa è possibile effettuare il download del supporto Service Pack completo (immagine ISO DVD). Iniziare il processo di aggiornamento con l'avvio dal supporto fisico Service Pack o da un'origine di installazione di rete. </para>
   
   <sect2 id="sec-update-sle11sp3-onlinemigration">
     <title>Migrazione online</title>
     <para>L'aggiornamento del sistema mediante la migrazione online viene effettuata dal sistema in esecuzione. È necessario solo riavviare una volta il sistema dopo aver completato l'aggiornamento.</para>
     <sect3>
       <title>Requisiti</title>
       <para>Per eseguire un aggiornamento online, è necessario che i seguenti requisiti siano soddisfatti. Assicurarsi di leggere anche <xref linkend="sec-update-prep"/>.
       </para>
       
       <variablelist>
         <varlistentry>
           <term>Registrazione del prodotto</term>
           <listitem>
             <para>Per potersi connettere ai canali di aggiornamento, è necessario che il prodotto sia registrato. In caso contrario, eseguire il modulo Configurazione di Novell Customer Center in YaST oppure lo strumento della riga di comando <command>suse_register</command> per avviare la registrazione. </para>
           </listitem>
         </varlistentry>
         <varlistentry>
           <term>Esecuzione di un aggiornamento online</term>
           <listitem>
             <para>Assicurarsi che la versione attualmente installata disponga delle patch più recenti. Eseguire un aggiornamento prima della migrazione online. Quando si utilizza un'interfaccia grafica, avviare il modulo Aggiornamento online di YaST o l'applet del programma di aggiornamento. Nella riga di comando, eseguire i seguenti comandi (l'ultimo comando deve essere eseguito due volte): </para>
             <screen>zypper ref -s
zypper update -t patch
zypper update -t patch</screen>
             <para>Riavviare il sistema se necessario.</para>
             <para>Vedere la Sezione 1.0, Aggiornamento online di YaST, (↑Guida all'amministrazione) o la Sezione 6.1.3, Aggiornamento del software con Zypper (↑Guida all'amministrazione). per ulteriori informazioni sugli strumenti di aggiornamento online.</para>
           </listitem>
         </varlistentry>
         <varlistentry>
           <term>Software di terze parti</term>
           <listitem>
             <para>se l'impostazione coinvolge software di terze parti o software aggiuntivo, eseguire un test di questa procedura su un altro computer per verificare che le dipendenze non vengano danneggiate dall'aggiornamento; </para>
           </listitem>
         </varlistentry>
       </variablelist>
       
       <important>
         <title>migrazione online completa da eseguire sempre</title>
         <para>La migrazione online deve essere completata sempre dall'inizio alla fine. L'interruzione di una migrazione online causa la corruzione del sistema con impossibilità di recupero.</para>
       </important>
     </sect3>
   
   <sect3 id="sec-update-sle11sp3-online-wagon">
     <title>Migrazione online con YaST <guimenu>Wagon</guimenu></title>
     <para>Se si dispone di un sistema SLES 11 SP1, i passaggi necessari sono disponibili all'indirizzo <ulink url="https://www.suse.com/support/kb/doc.php?id=7011872"/>. La procedura che segue è applicabile per una migrazione online da SP3 a SP4.</para>
     <procedure>
       <step performance="required">
         <para>
           Quando tutti i requisiti sono soddisfatti (vedere <xref linkend="sec-update-sle11spx-online-requirements"/>), nell'applet di aggiornamento della barra delle applicazioni verrà visualizzato un messaggio per indicare che l'upgrade di distribuzione è disponibile. Fare clic su di esso per avviare YaST <guimenu>Wagon</guimenu>. In alternativa, dalla riga di comando eseguire <command>/usr/sbin/wagon</command> come <systemitem class="username">radice</systemitem>.
         </para>
       </step>
       <step performance="required">
         <para>
           Confermare la finestra di dialogo di <guimenu>benvenuto</guimenu> facendo clic su <guimenu>Avanti</guimenu>.
         </para>
       </step>
       <step performance="required">
         <para>
           Se <guimenu>Wagon</guimenu> rileva che i requisiti non sono soddisfatti (aggiornamenti di manutenzione disponibili ma non ancora installati) verrà eseguito un aggiornamento automatico per il quale potrebbe essere necessario il riavvio. Seguire le istruzioni visualizzate.
         </para>
       </step>
       <step performance="required">
         <para>
           Scegliere il metodo di aggiornamento nella seguente finestra di dialogo. Scegliere <guimenu>Customer Center</guimenu> per utilizzare la configurazione di default (consigliata).
         </para>
         <para>
           Fare clic su <guimenu>URL personalizzato</guimenu> per scegliere manualmente i canali del software utilizzati per la migrazione online. Verrà visualizzato un elenco di canali dal quale sarà possibile abilitare, disabilitare, aggiungere o eliminare manualmente i canali. Aggiungere le origini di aggiornamento SP4, che potrebbero essere il supporto di installazione SP4 o i canali <literal>SP4-Pool</literal> e <literal>SP4-Updates</literal>. Fare clic su <guimenu>OK</guimenu> per tornare alla finestra di dialogo <guimenu>Modo di aggiornamento</guimenu>.
         </para>
         <para>
           Per rivedere le modifiche apportate alla configurazione del canale causate dal processo di aggiornamento, selezionare <guimenu>Verifica modifiche automatiche archivio</guimenu>.
         </para>
         <para>
           Fare clic su <guimenu>Avanti</guimenu> per continuare.
         </para>
       </step>
       <step performance="required">
         <para>
           Il sistema verrà registrato di nuovo. Durante questo processo, i canali <literal>SP4-Pool</literal> e <literal>SP4-Updates</literal> verranno aggiunti al sistema (vedere <xref linkend="sec-update-nmm-channels"/> per ulteriori informazioni). Confermare l'aggiunta dei canali.
         </para>
       </step>
       <step performance="required">
         <para>
           Se nella finestra di dialogo <guimenu>Modo di aggiornamento</guimenu> si è selezionato <guimenu>Verifica modifiche automatiche archivio</guimenu>, verrà visualizzato un elenco di archivi dal quale sarà possibile abilitare, disabilitare, aggiungere o modificare manualmente i canali. Procedere con <guimenu>OK</guimenu> al termine dell'operazione.
         </para>
       </step>
       <step performance="required">
         <para>Scegliere il tipo di migrazione:</para>
         <variablelist>
           <varlistentry>
             <term>Migrazione completa</term>
             <listitem>
               <para>Aggiorna tutti i pacchetti al livello SP4 più recente.</para>
             </listitem>
           </varlistentry>
           <varlistentry>
             <term>Migrazione minima</term>
             <listitem>
               <para>Aggiorna un insieme minimo di pacchetti al livello SP4 più recente. </para>
             </listitem>
           </varlistentry>
         </variablelist>
         <para>Fare clic su <guimenu>Avanzato</guimenu> per selezionare manualmente gli archivi utilizzati per l'upgrade. Confermare la selezione.
         </para>
       </step>
       
       <step performance="required">
         <para>
           Si apre la schermata <guimenu>Impostazioni upgrade di distribuzione</guimenu> in cui viene presentato un riepilogo della configurazione dell'aggiornamento. Sono disponibili le seguenti sezioni:
         </para>
         <variablelist>
           <varlistentry>
             <term><guimenu>Prodotti aggiuntivi</guimenu>
             </term>
             <listitem>
               <para>
                 Qui è possibile aggiungere i prodotti aggiuntivi di SUSE Linux Enterprise Server o i prodotti di terze parti.
               </para>
             </listitem>
           </varlistentry>
           <varlistentry>
             <term><guimenu>Opzioni di aggiornamento</guimenu>
             </term>
             <listitem>
               <para>
                 Elenca le azioni che verranno eseguite durante l'aggiornamento. È possibile scegliere se effettuare il download di tutti i pacchetti prima di installarli (default, consigliato) o effettuare il download e scaricare un pacchetto alla volta.
               </para>
             </listitem>
           </varlistentry>
           <varlistentry>
             <term><guimenu>Pacchetti</guimenu>
             </term>
             <listitem>
               <para>
                 Panoramica statistica dell'aggiornamento.
               </para>
             </listitem>
           </varlistentry>
           <varlistentry>
             <term>Backup</term>
             <listitem>
               <para>
                 Impostare le opzioni di backup.
               </para>
             </listitem>
           </varlistentry>
         </variablelist>
         <para>
           Fare clic su <guimenu>Avanti</guimenu> e <guimenu>Avvia l'aggiornamento</guimenu> per continuare.
         </para>
         <important>
           <title>interruzione della migrazione online</title>
           <para>
             In questa schermata e in tutte quelle precedenti è possibile interrompere la migrazione online in modo sicuro <emphasis>prima</emphasis> di fare clic su <guimenu>Avvia l'aggiornamento</guimenu>. Fare clic su <guimenu>Interrompi</guimenu> per abbandonare la procedura di aggiornamento e ripristinare lo stato del sistema antecedente all'avvio di YaST Wagon. Seguire le istruzioni visualizzate ed eseguire una nuova registrazione prima di abbandonare Wagon per rimuovere i canali SP4 dal sistema.
           </para>
         </important>
       </step>
       <step performance="required">
         <para>
           Durante la procedura di aggiornamento vengono eseguiti i seguenti passaggi:
         </para>
         <orderedlist spacing="normal">
           <listitem>
             <para>
               I pacchetti saranno aggiornati.
             </para>
           </listitem>
           <listitem>
             <para>
               <command>SuSEconfig</command> verrà eseguito.
             </para>
           </listitem>
           <listitem>
             <para>
               Il sistema verrà riavviato (premere <guimenu>OK</guimenu>).
             </para>
           </listitem>
           <listitem>
             <para>
               Verrà effettuata una nuova registrazione del sistema aggiornato di recente.
             </para>
           </listitem>
         </orderedlist>
       </step>
       <step performance="required">
         <para>
           L'aggiornamento del sistema a Service Pack 4 è stato completato.
         </para>
       </step>
     </procedure>
   </sect3>
   
   <sect3 id="sec-update-sle11sp3-online-zypper">
     <title>Migrazione online con <command>zypper</command></title>
     <procedure>
       <step performance="required">
         <para>
           Quando tutti i requisiti sono soddisfatti (vedere <xref linkend="sec-update-sle11spx-online-requirements"/>), i <quote>prodotti</quote> necessari per la migrazione online vengono aggiunti a <filename>/etc/products.d</filename>. Ottenere un elenco di questi prodotti eseguendo il seguente comando:
         </para>
         
         <screen>zypper se -t product | grep -h -- "-migration" | cut -d'|' -f2</screen>
         <para>
           Il comando deve restituire almeno <literal os="sles">SUSE_SLES-SP4-migration</literal>. A seconda dell'ambito dell'installazione, è possibile che vengano elencati altri prodotti.
         </para>
       </step>
       <step performance="required">
         <para>
           Installare i prodotti della migrazione recuperati nel passaggio precedente mediante il comando <command>zypper in -t product <replaceable>LIST_OF_PRODUCTS</replaceable></command>, ad esempio
         </para>
         <screen os="sles">zypper in -t product SUSE_SLES-SP4-migration</screen>
         
       </step>
       <step performance="required">
         <para>
           Registrare i prodotti installati nel passaggio precedente per ottenere i rispettivi canali di aggiornamento:
         </para>
         <screen>suse_register -d 2 -L /root/.suse_register.log</screen>
       </step>
       <step performance="required">
         <para>
           Aggiornare archivi e servizi:
         </para>
         <screen>zypper ref -s</screen>
       </step>
       <step performance="required">
         <para>
           Verificare l'elenco di archivi che è possibile recuperare con <command>zypper lr</command>. È necessario che almeno i seguenti archivi siano abilitati: 
         </para>
         
         <itemizedlist mark="bullet" spacing="normal">
           <listitem>
             <para>SLES11-SP4-Pool</para>
           </listitem>
           <listitem>
             <para>SLES11-SP4-Updates</para>
           </listitem>
         </itemizedlist>
         
         <para>A seconda dell'ambito dell'installazione, è necessario abilitare ulteriori archivi per i prodotti aggiuntivi o le estensioni. </para>
         
         <para>
           Se uno di questi archivi non è abilitato (quando si segue questo workflow gli archivi <literal>SP4</literal> non sono abilitati per default), abilitarlo con <command>zypper modifyrepo --enable <replaceable>REPOSITORY ALIAS</replaceable></command>, ad esempio:
         </para>
         <screen os="sles">zypper modifyrepo --enable SLES11-SP4-Pool --enable SLES11-SP4-Updates</screen>
         
         <para>
           Se la configurazione contiene archivi di terze parti che potrebbero non essere compatibili con SP4, disabilitarli con <command>zypper modifyrepo --disable <replaceable>REPOSITORY ALIAS</replaceable></command>.
         </para>
       </step>
       <step performance="required">
         <para>
           A questo punto è possibile eseguire l'upgrade di distribuzione con <command>zypper dup --from <replaceable>REPO 1</replaceable> --from <replaceable>REPO 2</replaceable> <replaceable>...</replaceable></command>. Assicurarsi di elencare tutti gli archivi necessari con <option>--from</option>, ad esempio:
         </para>
         <screen os="sles">zypper dup --from SLES11-SP4-Pool --from SLES11-SP4-Updates</screen>
         
         <para>
           Confermare con <guimenu>y</guimenu> per avviare l'upgrade.
         </para>
       </step>
       <step performance="required">
         <para>
           Al completamento dell'upgrade di distribuzione del passaggio precedente, è stata eseguita una migrazione minima (un insieme minimo di pacchetti è stato aggiornato al livello SP4 più recente). Ignorare questo passaggio se non si ha intenzione di eseguire una migrazione completa.
         </para>
         <para>Per eseguire una migrazione completa (aggiornamenti di tutti i pacchetti al livello SP4 più recente), eseguire il seguente comando: </para>
         <screen>zypper update -t patch</screen>
       </step>
       <step performance="required">
         <para>
           Ora che l'upgrade a SP4 è stato completato, è necessario registrare di nuovo il prodotto:
         </para>
         <screen>suse_register -d 2 -L /root/.suse_register.log</screen>
       </step>
       <step performance="required">
         <para>
           Riavviare infine il sistema.
         </para>
       </step>
     </procedure>
     <para>
       L'aggiornamento del sistema a Service Pack 4 è stato completato.
     </para>
   </sect3>
    
    <sect3>
      <title>Aggiornamento mediante il riavvio da un'origine di installazione</title>
      <para>In alternativa alla migrazione online è anche possibile aggiornare il sistema effettuando l'avvio da un'origine di installazione, come un DVD o un'origine di installazione di rete. L'aggiornamento avrà inizio come una normale installazione. </para>
      <para>È possibile ottenere le immagini ISO Service Pack 4 da <ulink url="http://download.suse.com/"/>. Masterizzarle su un DVD o preparare un'origine di installazione di rete come descritto nella <xref linkend="sec-deployment-remoteinst-instserver"/>.
      </para>
    </sect3>
   </sect2>
   
 </sect1>
 
 <sect1 id="sec-update-backports">
  <title>Backporting del codice sorgente</title>

  <para>
   In SUSE viene fatto un uso piuttosto esteso del backporting. Dalle informazioni contenute in questa sezione è possibile comprendere perché è ingannevole confrontare i numeri di versione per giudicare le funzionalità e i problemi del software.

  </para>

  <sect2 id="sec-update-backports-why">
   <title>L'importanza del backporting</title>
   <para>
    Gli sviluppatori upstream sono interessati soprattutto all'avanzamento del software che sviluppano. In molti casi, insieme alla correzione dei bug introducono nuove funzioni non ancora testate adeguatamente e che possono comportare l'introduzione di nuovi bug.
   </para>
   <para>
    Per gli sviluppatori di distribuzione, è importante saper distinguere tra:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      correzioni di bug che incidono limitatamente sulla funzionalità e
     </para>
    </listitem>
    <listitem>
     <para>
      modifiche che potrebbero compromettere la funzionalità esistente.
     </para>
    </listitem>
   </itemizedlist>
   <para>
    Nella maggior parte dei casi, gli sviluppatori di distribuzione non seguono tutte le modifiche upstream dopo il rilascio di un pacchetto. Di solito rimangono fedeli alla versione upstream rilasciata inizialmente e creano patch basate sulle modifiche upstream per correggere i bug. Questa pratica è nota come <emphasis>backporting</emphasis>.
   </para>
   <para>
    Di norma, gli sviluppatori di distribuzione si limitano a introdurre una versione più recente del software in due casi specifici:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      quando l'entità delle modifiche tra i pacchetti e le versioni upstream è tale per cui il backporting non è più fattibile oppure
     </para>
    </listitem>
    <listitem>
     <para>
      per il software che essenzialmente agisce in modo negativo, come il software antimalware.
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 id="sec-update-backports-reasons-for">
   <title>Motivi per eseguire il backporting</title>
   <para>
    In SUSE viene fatto un ampio uso di backport mentre si cerca di trovare un buon compromesso con le numerose preoccupazioni scaturite dal software aziendale. Tra queste, le principali riguardano:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      L'ottenimento di interfacce (API) stabili sulle quali i fornitori di software possono fare affidamento quando creano prodotti da utilizzare con i prodotti per aziende SUSE.
     </para>
    </listitem>
    <listitem>
     <para>
      La certezza che i pacchetti utilizzati nella release dei prodotti per aziende SUSE siano di qualità superiore e che siano stati testati totalmente sia singolarmente sia parzialmente, come parte di un prodotto completo.
     </para>
    </listitem>
    <listitem>
     <para>
      La preservazione di varie certificazioni dei prodotti per aziende SUSE ottenute da altri fornitori, come le certificazioni per i prodotti Oracle o SAP.
     </para>
    </listitem>
    <listitem>
     <para>
      Consentire agli sviluppatori SUSE di concentrarsi al meglio sulla prossima versione del prodotto, piuttosto che disperdere energie in numerose release.
     </para>
    </listitem>
    <listitem>
     <para>
      Mantenere una visione chiara di ciò che è in una particolare release aziendale, in modo che il nostro supporto sia in grado di fornire informazioni accurate e tempestive in merito.
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 id="sec-update-backports-reasons-against">
   <title>Motivi contrari ai backport</title>
   <para>
    Una regola generale delle policy prevede che nessuna nuova versione upstream di un pacchetto venga introdotta nei nostri prodotti per aziende. Si tratta tuttavia di una regola non assoluta. Per una classe limitata di pacchetti, in particolare i software antivirus, la sicurezza ha un peso maggiore rispetto all'approccio conservativo, che dal punto di vista del controllo della qualità è preferibile. Per i pacchetti di tale classe, occasionalmente le versioni più recenti vengono introdotte in una versione rilasciata di una linea di prodotti per aziende.
   </para>
   <para>
    Talvolta anche per altri tipi di pacchetti la scelta volge sull'introduzione di una nuova versione piuttosto che su un backport, soprattutto quando quest'ultimo non è fattibile dal punto di vista economico oppure nel caso in cui i motivi tecnici sono di tale entità per cui è preferibile realizzare una versione nuova.
   </para>
  </sect2>

  <sect2 id="sec-update-backports-implication">
   <title>Implicazioni dei backport per l'interpretazione dei numeri di versione</title>
   <para>
    A causa del backporting, non è possibile confrontare semplicemente i numeri di versione per determinare se un pacchetto SUSE contiene una correzione a un determinato problema o se è stata aggiunta una particolare funzione. Con il backporting, la parte upstream del numero di versione di un pacchetto SUSE indica semplicemente la versione upstream sulla quale si base il pacchetto SUSE. Può contenere correzioni di bug e funzioni non presenti nella release upstream corrispondente, di cui però è stato effettuato il backporting nel pacchetto SUSE.
   </para>
   <para>
    Vi sono numerose ubicazioni in cui sono memorizzate le informazioni relative a tali correzioni di bug e funzioni:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      Il log delle modifiche del pacchetto:
     </para>
<screen>rpm -q --changelog name-of-installed-package
rpm -qp --changelog packagefile.rpm</screen>
     <para>
      Output in cui è documentata in breve la cronologia delle modifiche del pacchetto.
     </para>
    </listitem>
    <listitem>
     <para>
      Il log delle modifiche del pacchetto può contenere voci come <literal>bnc#1234</literal> che fanno riferimento ai bug presenti nel sistema di registrazione Bugzilla di Novell o in altri sistemi di registrazione dei bug. (Date le policy sulla riservatezza, non tutte le informazioni di questo tipo sono accessibili).
     </para>
    </listitem>
    <listitem>
     <para>
      Un pacchetto può includere un file <filename>/usr/share/doc/packagename/README.SUSE</filename> o <filename>README.SuSE</filename> contenente informazioni generali di alto livello, specifiche del pacchetto SUSE.
     </para>
    </listitem>
    <listitem>
     <para>
      Il pacchetto di origine RPM contiene le patch applicate durante la creazione di normali RPM binari come file separati che è possibile interpretare se si ha familiarità con la lettura del codice sorgente. Per ulteriori informazioni, vedere il libro <ulink url="http://www.rpm.org/max-rpm/">Maximum RPM</ulink> (in lingua inglese).
     </para>
    </listitem>
    <listitem>
     <para>
      <ulink url="https://www.suse.com/support/security/#1">Annunci sulla sicurezza SUSE</ulink> per correzioni di bug relativi alla sicurezza. Spesso si riferiscono ai bug mediante nomi standardizzati come <literal>CAN-2005-2495</literal>, che vengono mantenuti dal progetto <ulink url="http://cve.mitre.org">Vulnerabilità ed esposizioni comuni</ulink>.
     </para>
    </listitem>
   </itemizedlist>
   <para>
    Un'area particolare in cui tale valore limitato dei numeri di versione quando è coinvolto il backporting può causare problemi con gli strumenti di scansione della sicurezza. Alcuni strumenti di scansione delle vulnerabilità della sicurezza (o particolari prove all'interno di tali strumenti) funzionano solamente sulle informazioni della versione. Tali strumenti/prove sono quindi inclini a generare <quote>falsi positivi</quote> (ad esempio, una parte di software risulta vulnerabile quando di fatto non lo è) quando sono coinvolti i backport. Nella valutazione dei rapporti sugli strumenti di scansione della sicurezza, si dovrebbe indagare sempre se una voce si basa soltanto su un numero di versione o su una prova effettiva dell'esistenza reale della vulnerabilità.
   </para>
  </sect2>
 </sect1>
 <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="update_split_brain.xml" parse="xml"/>
 <sect1 id="sec-update-wagonhooks">
  <title>Agganci di migrazione per YaST Wagon</title>



  <para>
   Gli agganci di migrazione consentono di eseguire uno script esterno personalizzato durante il processo di migrazione. Tali script consentono di gestire problemi specifici che è impossibile risolvere con gli script RPM tradizionali oppure consentono di eseguire azioni straordinarie che potrebbero essere necessarie durante la migrazione (non richieste durante l'aggiornamento normale del pacchetto).
  </para>

  <para>
   Gli agganci di migrazione vengono eseguiti con privilegi di utente root, quindi è possibile effettuare qualsiasi task di manutenzione negli script (avvio/interruzione dei servizi, backup dei dati, migrazione dei dati e così via...). Gli script non devono essere interattivi; STDIN e STDOUT vengono reindirizzati ai canali quando sono in esecuzione su YaST. Evitare di utilizzare la sessione X in quanto potrebbe non essere disponibile in tutti i casi (ad esempio durante l'esecuzione in modalità testo). Non dimenticare di impostare l'autorizzazione per l'esecuzione degli script di aggancio.
  </para>

  <para>
   Gli agganci di migrazione sono supportati nel pacchetto <systemitem class="resource">yast2-wagon</systemitem> versione 2.17.32.1 (fornito come aggiornamento di SLES11-SP2) o 2.17.34 (incluso in SLES11-SP3) o versioni successive.
  </para>

  <sect2>
   <title>Ubicazione e convenzioni di denominazione dello script di aggancio</title>
   <para>
    È possibile ricercare gli script nella directory <filename>/var/lib/YaST2/wagon/hooks/</filename>. Il nome dello script previsto è in formato <replaceable>passaggio_seq_prefisso_nome</replaceable>, dove:
   </para>
   <variablelist>
    <varlistentry>
     <term><replaceable>passaggio</replaceable>
     </term>
     <listitem>
      <para>
       è un nome del passaggio della migrazione predefinito, che descrive l'attuale passaggio della migrazione.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><replaceable>seq</replaceable>
     </term>
     <listitem>
      <para>
       è il numero di sequenza compreso tra 00 e 99, grazie al quale è possibile impostare l'ordine di esecuzione degli script (per un ordinamento corretto, è importante mantenere gli zeri iniziali).
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><replaceable>prefisso</replaceable>
     </term>
     <listitem>
      <para>
       deve essere univoco al fine di evitare conflitti (come uno spazio dei nomi). Utilizzare il nome del pacchetto (se fa parte di un pacchetto) o il nome del fornitore, il nome di dominio Internet e così via, sostanzialmente qualsiasi nome che possa essere considerato sufficientemente univoco.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><replaceable>nome</replaceable>
     </term>
     <listitem>
      <para>
       può essere qualsiasi stringa (serve solo per differenziare gli script). Si consiglia di utilizzare un nome descrittivo.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <example>
    <title>Script di aggancio con percorso completo</title>
<screen>/var/lib/YaST2/wagon/hooks/before_package_migration_00_postgresql_backup</screen>
   </example>
  </sect2>

  <sect2>
   <title>Valore di uscita dello script di aggancio</title>
   <para>
    Lo script deve restituire il valore di uscita 0. In caso contrario, (viene restituito un valore di uscita diverso da zero) in Wagon viene visualizzato un messaggio di errore ed è possibile riavviare lo script, ignorare l'errore (continuando con altri script) o annullare completamente gli agganci per il passaggio e la fase attuali.
   </para>
  </sect2>

  <sect2>
   <title>Script idempotenti</title>
   <para>
    <emphasis>Potenzialmente è possibile eseguire più volte</emphasis> gli script di aggancio (quando si passa da una finestra di dialogo all'altra di Wagon, questo potrebbe riavviarsi o è possibile che alcuni passaggi vengano eseguiti più volte nel workflow di migrazione), quindi gli script devono adeguarsi (possono verificare all'inizio se devono eseguire l'azione oppure se l'azione è già stata compiuta, possono creare un file di indicatori temporaneo o altrimenti risolvere più esecuzioni in modo appropriato).
   </para>
  </sect2>

  <sect2>
   <title>Elenco di agganci supportati</title>
   <para>
    Alcuni agganci sono facoltativi perché dipendono dai risultati precedenti o dai valori selezionati dall'utente. Si noti che alcuni agganci vengono denominati più volte (ad esempio la registrazione viene denominata prima e dopo la migrazione). Di seguito è riportato un elenco di agganci supportati (nomi di passaggi) nel rispettivo ordine di esecuzione:
   </para>
   <variablelist>
    <varlistentry>
     <term><command>before_init</command>
     </term>
     <listitem>
      <para>
       avviato all'inizio (nota: viene richiamato di nuovo dopo il riavvio di Wagon)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_welcome</command>
     </term>
     <term><command>after_welcome</command>
     </term>
     <listitem>
      <para>
       avviato prima/dopo la visualizzazione della finestra di dialogo di benvenuto
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_registration_check</command>
     </term>
     <term><command>after_registration_check</command>
     </term>
     <listitem>
      <para>
       In Wagon viene verificato lo stato della registrazione (se la registrazione di alcuni prodotti è scaduta, la migrazione potrebbe concludersi con un errore). Se il controllo risulta positivo, non viene visualizzata alcuna finestra di dialogo e Wagon continua automaticamente con il passaggio successivo
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_custom_url</command>
     </term>
     <term><command>after_custom_url</command>
     </term>
     <listitem>
      <para>
       viene avviato il programma di gestione dell'archivio (facoltativo, solo in modalità CD delle patch)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_self_update</command>
     </term>
     <term><command>after_self_update</command>
     </term>
     <listitem>
      <para>
       richiamato prima/dopo l'aggiornamento stesso di Wagon (per assicurare che per la migrazione venga utilizzata la versione più recente)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_installing_migration_products</command>
     </term>
     <term><command>after_installing_migration_products</command>
     </term>
     <listitem>
      <para>
       richiamato prima/dopo l'installazione dei prodotti di migrazione
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_selecting_migration_source</command>
     </term>
     <term><command>after_selecting_migration_source</command>
     </term>
     <listitem>
      <para>
       Wagon chiede all'utente di eseguire la migrazione tramite gli archivi Novell Customer Center o utilizzando un archivio personalizzato; il passaggio successivo dipende dalla scelta dell'utente
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_registration</command>
     </term>
     <term><command>after_registration</command>
     </term>
     <listitem>
      <para>
       esecuzione del registro SUSE (per aggiungere archivi di migrazione)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_repo_selection</command>
     </term>
     <term><command>after_repo_selection</command>
     </term>
     <listitem>
      <para>
       gestione manuale degli archivi
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_set_migration_repo</command>
     </term>
     <term><command>after_set_migration_repo</command>
     </term>
     <listitem>
      <para>
       selezione degli archivi di migrazione (migrazione completa/minima quando si utilizza Novell Customer Center) o selezione degli archivi di aggiornamento (migrazione personalizzata degli archivi)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_package_migration</command>
     </term>
     <listitem>
      <para>
       prima dell'avvio di un pacchetto, dopo questo passaggio inizia la migrazione effettiva e non è possibile tornare automaticamente allo stato precedente (se si interrompe questa fase, si genera incoerenza nel sistema (metà upgrade) ed è necessario effettuare un rollback manuale)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_registration</command>
     </term>
     <term><command>after_registration</command>
     </term>
     <listitem>
      <para>
       esecuzione del registro SUSE (per registrare i prodotti aggiornati)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_congratulate</command>
     </term>
     <term><command>after_congratulate</command>
     </term>
     <listitem>
      <para>
       prima/dopo la visualizzazione della finestra di dialogo di congratulazioni di Wagon a conferma della migrazione avvenuta con esisto positivo
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_exit</command>
     </term>
     <listitem>
      <para>
       richiamato appena prima della chiusura di Wagon (sempre, indipendentemente dal risultato della migrazione, anche dopo l'interruzione e al riavvio)
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2>
   <title>Agganci di interruzione</title>
   <para>
    Agganci di interruzione speciali che vengono richiamati quando l'utente interrompe la migrazione. È possibile richiamare tali agganci in qualsiasi passaggio del workflow di migrazione, pertanto l'ordine di esecuzione non è assicurato. Questi script devono verificare lo stato attuale se si affidano ai risultati di altri agganci.
   </para>
   <variablelist>
    <varlistentry>
     <term><command>before_abort</command>
     </term>
     <listitem>
      <para>
       l'utente ha confermato l'interruzione della migrazione
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_abort_rollback</command>
     </term>
     <term><command>after_abort_rollback</command>
     </term>
     <listitem>
      <para>
       l'utente ha confermato il rollback dopo l'interruzione (ripristinando i prodotti installati precedentemente all'inizio della migrazione). Tali agganci vengono richiamati dopo before_abort e vengono ignorati quando l'utente non conferma il rollback.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2>
   <title>Agganci di riavvio</title>
   <para>
    Questi agganci vengono richiamati a ogni avvio di Wagon stesso.
   </para>
   <variablelist>
    <varlistentry>
     <term><command>before_restart</command>
     </term>
     <listitem>
      <para>
       Wagon sta per essere completato e sarà avviato di nuovo
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>after_restart</command>
     </term>
     <listitem>
      <para>
       Wagon è stato riavviato e viene eseguito il passaggio successivo del workflow di migrazione
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2>
   <title>Agganci utilizzati solitamente</title>
   <para>
    L'elenco di agganci è piuttosto grande, ma molti di essi hanno senso solo in casi speciali. Nell'uso normale si dovrebbe dare la preferenza ai seguenti agganci:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      Per compiere un'azione prima della migrazione del sistema (la versione precedente è ancora in esecuzione) utilizzare l'aggancio <command>before_package_migration</command>.
     </para>
     <para>
      A questo punto è chiaro che la migrazione è pronta e che sta per iniziare, poiché in tutti i passaggi precedenti era possibile interromperla.

     </para>
    </listitem>
    <listitem>
     <para>
      Per compiere azioni dopo la migrazione del sistema (nel sistema è in esecuzione la nuova versione migrata, ma alcuni elementi non sono ancora attivi, ad esempio è necessario il riavvio del kernel aggiornato o dei servizi aggiornati e così via...), utilizzare l'aggancio <command>before_congratulate</command> o <command>after_congratulate</command>.
     </para>
     <para>
      È possibile utilizzarlo anche per ripulire i risultati dell'aggancio <command>before_package_migration</command>. La migrazione è stata completata con esito positivo.
     </para>
    </listitem>
    <listitem>
     <para>
      Per invertire le modifiche qualora la migrazione venisse interrotta, utilizzare uno degli agganci di interruzione a seconda del caso. Si tenga presente che è possibile richiamare in qualsiasi momento gli agganci di interruzione, pertanto potrebbe non essere necessario invertire le modifiche (l'aggancio che effettua le modifiche potrebbe non essere stato ancora richiamato). Gli agganci di interruzione devono verificare lo stato attuale.
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2>
   <title>Agganci obsoleti</title>
   <para>
    Le versioni precedenti di Wagon supportavano solo due script di aggancio: <filename>/usr/lib/YaST2/bin/wagon_hook_init</filename> e <filename>/usr/lib/YaST2/bin/wagon_hook_finish</filename>. Il problema consisteva nel fatto che era possibile eseguire un solo script come aggancio ed era impossibile inserire gli agganci direttamente nei pacchetti RPM.
   </para>
   <para>
    Questi script di aggancio precedenti sono ancora supportati nelle versioni più recenti di Wagon affinché siano compatibili con quelle precedenti, ma si devono utilizzare i nuovi agganci <command>before_init</command> e <command>before_exit</command> al posto di quelli precedenti.
   </para>
  </sect2>
 </sect1>
</chapter>
