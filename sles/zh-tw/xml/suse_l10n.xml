<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
    type="text/xml"
    title="Profiling step"
?>
<!DOCTYPE sect1
[
   <!ENTITY % entities SYSTEM "entity-decl.ent">
   %entities;
]>


<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<section xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1" xml:base="suse_l10n.xml" xml:id="sec-suse-l10n">
 <title>語言與國家專用的設定</title><indexterm> <primary>系統</primary><secondary>當地語系化</secondary></indexterm><indexterm><primary>I18N</primary></indexterm><indexterm> <primary>L10N</primary></indexterm><indexterm><primary>國際化</primary></indexterm><indexterm><primary>當地語系化</primary></indexterm>

 <para>
  本系統已在很大程度上進行了國際化，可以根據當地的需求進行修改。國際化 (<emphasis>I18N</emphasis>) 允許特定的當地語系化 (<emphasis>L10N</emphasis>)。I18N 與 L10N 這兩個縮寫是取首尾兩個字母，兩字母中間再加上省略的字母數量。
 </para>

 <para>
  設定位於 <filename>/etc/sysconfig/language</filename> 中所定義的 <systemitem>LC_</systemitem> 變數。這不僅是指<emphasis>本地語言支援</emphasis>，還包括<emphasis>訊息</emphasis> (語言)、<emphasis>字元集</emphasis>、<emphasis>排序順序</emphasis>、<emphasis>時間和日期</emphasis>、<emphasis>數字</emphasis>及<emphasis>貨幣</emphasis>等類別。每種類別都可以用自己的變數來直接定義，或用在 <filename>language</filename> 檔案中的主要變數來間接定義 (請參閱 <command>locale</command> man 頁面)。<indexterm><primary>組態檔</primary><secondary>語言</secondary> </indexterm>
 </para>

 <variablelist>
  <varlistentry>
   <term><systemitem>RC_LC_MESSAGES</systemitem>、<systemitem>RC_LC_CTYPE</systemitem>、<systemitem>RC_LC_COLLATE</systemitem>、<systemitem>RC_LC_TIME</systemitem>、<systemitem>RC_LC_NUMERIC</systemitem>、<systemitem>RC_LC_MONETARY</systemitem><indexterm><primary>變數</primary> <secondary>環境</secondary></indexterm>
   </term>
   <listitem>
    <para>
     這些變數會傳送到外圍程序，但不會包含 <systemitem>RC_</systemitem> 字首，並代表列出的類別。相關外圍程序設定檔會列於下面。目前的設定可以用 <command>locale</command> 指令來顯示。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term><systemitem>RC_LC_ALL</systemitem>
   </term>
   <listitem>
    <para>
     此變數 (如果設定) 會覆寫先前所提到的變數值。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term><systemitem>RC_LANG</systemitem>
   </term>
   <listitem>
    <para>
     如果沒有設定前面的變數，則此為備用變數。依照預設，只會設定 <systemitem>RC_LANG</systemitem>。這讓使用者更容易輸入自己的值。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term><systemitem>ROOT_USES_LANG</systemitem>
   </term>
   <listitem>
    <para>
     有 <literal>yes</literal> 或 <literal>no</literal> 兩個變數。如果設為 <literal>no</literal>，<systemitem class="username">root</systemitem> 始終可以在 POSIX 環境中作業。
    </para>
   </listitem>
  </varlistentry>
 </variablelist>

 <para>
  變數可以用 YaST sysconfig 編輯器來設定 (請參閱 <xref linkend="sec-boot-sysconfig-edit"/>)。這樣的變數值中包含語言碼、國碼、編碼及輔助按鍵。個別的元件會以特定的字元來連接：
 </para>

<screen>
  LANG=&lt;language&gt;[[_&lt;COUNTRY&gt;].&lt;Encoding&gt;[@&lt;Modifier&gt;]]
</screen>

 <section>
  <title>一些範例</title>
  <para>
   您必須將語言與國碼一起設定。語言設定必須符合 <link xlink:href="http://www.evertype.com/standards/iso639/iso639-en.html"/> 和 <link xlink:href="http://www.loc.gov/standards/iso639-2/"/> 中的標準 ISO 639。國碼列在 ISO 3166 中，請參閱 <link xlink:href="http://en.wikipedia.org/wiki/ISO_3166"/>。


  </para>
  <para>
   只有設定那些可以在 <filename>/usr/lib/locale</filename> 中找到的可用描述檔案的值，才會有意義。您可以用 <command>localedef</command> 指令從<filename> /usr/share/i18n</filename> 中的檔案建立其他描述檔；描述檔屬於 <systemitem>glibc-i18ndata</systemitem> 套件的一部份。<literal>en_US.UTF-8</literal> (針對美式英文) 的描述檔可以用以下指令建立：
  </para>

  
<screen>
localedef -i en_US -f UTF-8 en_US.UTF-8
</screen>
  <variablelist>
   <varlistentry>
    <term>
<systemitem>LANG=en_US.UTF-8</systemitem>
    </term>
    <listitem>
     <para>
      如果安裝期間選擇美式英文的話，則此為預設設定。如果您選擇了其他語言，則仍然可以使用該語言，但會以 UTF-8 做為字元編碼。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
<systemitem>LANG=en_US.ISO-8859-1</systemitem><indexterm><primary>編碼</primary> <secondary>ISO-8859-1</secondary></indexterm>
    </term>
    <listitem>
     <para>
      這會將語言設成英文、國家設成美國、字元集設成 <literal>ISO-8859-1</literal>。此字元集並不支援歐元符號，但有時對於尚未支援 <literal>UTF-8</literal> 的程式卻非常實用。然後，有些程式將會評估定義字元集的 (此例為 <literal>ISO-8859-1</literal>) 的字串，像是 Emacs。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term><systemitem>LANG=en_IE@euro</systemitem>
    </term>
    <listitem>
     <para>
      上方範例在語言設定中明確包括歐元符號。這項設定現在基本上已不再使用，因為 UTF-8 也涵蓋歐元符號。它只有在應用程式支援 ISO-8859-15 而不支援 UTF-8 時才有用。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   在較早的版本中，對 <filename>/etc/sysconfig/language</filename> 進行任何變更之後，都需要執行 <command>SuSEconfig</command>。之後，SuSEconfig 會將變更寫入 <filename>/etc/SuSEconfig/profile</filename> 及 <filename>/etc/SuSEconfig/csh.login</filename>。登入時，這些檔案由 <filename>/etc/profile</filename> (對於 Bash) 或 <filename>/etc/csh.login</filename> (對於 tcsh) 讀取。
  </para>
  <para>
   在近期的版本中，<filename>/etc/profile.d/lang.sh</filename> 取代了 <filename>/etc/SuSEconfig/profile</filename>，<filename>/etc/profile.de/lang.csh</filename> 取代了 <filename>/etc/SuSEconfig/csh.login</filename>。但如果這兩個舊檔案存在，登入系統時仍會讀取這兩個檔案。
  </para>
  <para>
   現在，該程序的處理過程如下所示：
  </para>
  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     對於 Bash：<filename>/etc/profile</filename> 會讀取 <filename>/etc/profile.d/lang.sh</filename>，後者會分析 <filename>/etc/sysconfig/language</filename>。
    </para>
   </listitem>
   <listitem>
    <para>
     對於 tcsh：在登入時，<filename>/etc/csh.login</filename> 會讀取 <filename>/etc/profile.d/lang.csh</filename>，後者會分析 <filename>/etc/sysconfig/language</filename>。
    </para>
   </listitem>
  </itemizedlist>
  <para>
   如此可確保對 <filename>/etc/sysconfig/language</filename> 的任何變更在下次登入相應的外圍程序時即會生效，而不必先執行 SuSEconfig。<indexterm> <primary>組態檔</primary> <secondary>語言</secondary> </indexterm><indexterm> <primary>組態檔</primary> <secondary>設定檔</secondary> </indexterm> <indexterm> <primary>組態檔</primary> <secondary>/etc/profile.d/lang.sh</secondary> </indexterm>
  </para>
  <para>
   使用者可以適當地編輯自己的 <filename>~/.bashrc</filename> 來覆寫系統預設值。例如，若不想讓整個系統的程式訊息皆使用 <literal>en_US</literal>，請加入 <systemitem>LC_MESSAGES=es_ES</systemitem>，以便改用西班牙文來顯示訊息。
  </para>
 </section>

 <section xml:id="sec-suse-l10n-dot-i18n">
  <title><filename>~/.i18n</filename> 中的地區設定</title>
  <para>
   如果您對區域設定的系統預設值不滿意，可以根據 Bash 指令碼語法在 <filename>~/.i18n</filename> 中變更設定值。<filename>~/.i18n</filename> 中的項目會覆寫 <filename>/etc/sysconfig/language</filename> 中的系統預設值。使用相同的變數名稱，但不使用 <literal>RC_</literal> 名稱空間字首。例如，以 <literal>LANG</literal> 取代 <literal>RC_LANG</literal>：
  </para>
<screen>LANG=cs_CZ.UTF-8
LC_COLLATE=C
</screen>
 </section>

 <section xml:id="sec-suse-l10n-fallback">
  <title>語言支援的設定</title>
  <para>
   按照規定，在<emphasis>訊息</emphasis>類別中的檔案僅會儲存於對應的語言目錄中 (像是 <filename>en</filename>)，以便有備用可用。如果您將 <systemitem>LANG</systemitem> 設為 <literal>en_US</literal>，而且 <filename>/usr/share/locale/en_US/LC_MESSAGES</filename> 中的訊息檔案不存在的話，則它會回到 <filename>/usr/share/locale/en/LC_MESSAGES</filename> 中。
  </para>
  <para>
   您也可以定義備用鍊，例如，不列塔尼文之於法文，或是加里斯亞文之於西班牙文之於葡萄牙文：
  </para>
  <para>
   <systemitem>LANGUAGE="br_FR:fr_FR"</systemitem>
  </para>
  <para>
   <systemitem>LANGUAGE="gl_ES:es_ES:pt_PT"</systemitem>
  </para>
  <para>
   如有需要，請改用挪威文變體 Nynorsk 與 Bokmal (讓其他備用為 <literal>no</literal>)：
  </para>
  <para>
   <systemitem>LANG="nn_NO"</systemitem>
  </para>
  <para>
   <systemitem>LANGUAGE="nn_NO:nb_NO:no"</systemitem>
  </para>
  <para>
   或
  </para>
  <para>
   <systemitem>LANG="nb_NO"</systemitem>
  </para>
  <para>
   <systemitem>LANGUAGE="nb_NO:nn_NO:no"</systemitem>
  </para>
  <para>
   請注意，在挪威文中，會以不同方式處理 <systemitem>LC_TIME</systemitem>。
  </para>
  

  <para>
   如果無法適當的辨識界定位數群組的分隔符號，可能會發生問題。如果 <systemitem>LANG</systemitem> 設定為類似 <literal>de</literal> 的兩個字母的語言碼，但卻使用 <filename>/usr/share/lib/de_DE/LC_NUMERIC</filename> 中的定義檔 glibc，就會發生這種情形。因此，<systemitem>LC_NUMERIC</systemitem> 必須設定為 <literal>de_DE</literal>，讓系統能辨識分隔符號定義。
  </para>
 </section>

 <section xml:id="sec-suse-l10n-info">
  <title>更多資訊</title>
  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     <emphasis>The GNU C Library Reference Manual</emphasis> 的 <quote>Locales and Internationalization</quote> 一章，包含在 <systemitem>glibc-info</systemitem> 中。<phrase os="sles;sled">該套件可從 SUSE Linux Enterprise 軟體開發套件 (SDK) 中取得。該 SDK 是 SUSE Linux Enterprise 的附加產品，可從 <link xlink:href="http://download.suse.com/"/> 下載。</phrase>
    </para>
   </listitem>
   <listitem>
    <para>
     Markus Kuhn 所寫的 <emphasis>UTF-8 and Unicode FAQ for Unix/Linux</emphasis>，目前網址如下：<link xlink:href="http://www.cl.cam.ac.uk/~mgk25/unicode.html"/>。
    </para>
   </listitem>
   <listitem>
    <para>
     Bruno Haible 提供的 <emphasis>Unicode-Howto</emphasis>，可從 <link xlink:href="http://tldp.org/HOWTO/Unicode-HOWTO-1.html"/> 取得。
    </para>
   </listitem>
  </itemizedlist>
 </section>
</section>
