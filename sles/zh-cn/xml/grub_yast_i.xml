<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
    type="text/xml"
    title="Profiling step"
?>
<!DOCTYPE sect1
[
   <!ENTITY % entities SYSTEM "entity-decl.ent">
   %entities;
]>


<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<section xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1" xml:base="grub_yast_i.xml" xml:id="sec-boot-yast2-config">
 <title>使用 YaST 配置引导加载程序</title><indexterm> <primary>引导</primary> <secondary>配置</secondary> <tertiary>YaST</tertiary> </indexterm> <indexterm> <primary>YaST</primary> <secondary>引导配置</secondary> </indexterm>

 <para>
  在您的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 系统中配置引导加载程序最简单的方法就是使用 YaST 模块。在 YaST 控制中心，选择<menuchoice><guimenu>系统</guimenu> <guimenu>引导加载程序</guimenu></menuchoice>。如<xref linkend="fig-yast-bootloader-config"/> 中所示，它将显示您系统的当前引导加载程序配置，并允许您进行更改。
 </para>

 <figure xml:id="fig-yast-bootloader-config">
  <title>引导加载程序设置</title>
  <mediaobject>
   <imageobject role="fo">
    <imagedata fileref="yast2_bootloader.png" width="75%" format="PNG"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="yast2_bootloader.png" width="75%" format="PNG"/>
   </imageobject>
  </mediaobject>
 </figure>

 <para>
  使用<guimenu>扇区管理</guimenu>选项卡可编辑、更改和删除单个操作系统的引导加载程序扇区。若要添加某个选项，请单击<guimenu>添加</guimenu>。要更改现有选项的值，请用鼠标选中它，然后单击<guimenu>编辑</guimenu>。要删除现有的条目，请选择它，单击<guimenu>删除</guimenu>。如果对引导加载程序选项不熟悉，请先阅读<xref linkend="sec-grub-basic"/>。
 </para>

 <para>
  使用<guimenu>引导加载程序安装</guimenu>选项卡查看并更改类型、位置和高级加载程序设置的相关设置。
 </para>

 <para>
  单击<guimenu>其他</guimenu>访问高级配置选项。内置编辑器可让更改 GRUB 配置文件。有关详细信息，请参见<xref linkend="sec-grub-basic"/>。您也可以删除现有配置，并<guimenu>从头开始</guimenu>或让 YaST <guimenu>建议新配置</guimenu>。也可以向磁盘写入配置或从磁盘重新读取配置。要恢复在安装期间保存的原始主引导记录 (MBR)，请选择<guimenu>恢复硬盘的主引导记录</guimenu>。
 </para>

 <section xml:id="sec-boot-yast2-config-default">
  <title>调整默认引导项</title><indexterm> <primary>YaST</primary> <secondary>引导配置</secondary> <tertiary>默认系统</tertiary> </indexterm>
  <para>
   要更改默认引导的系统，请按如下所示继续：
  </para>
  <procedure xml:id="pro-boot-yast2-config-default">
   <title>设置默认系统</title>
   <step>
    <para>
     打开<guimenu>扇区管理</guimenu>选项卡。
    </para>
   </step>
   <step>
    <para>
     从列表中选择所需的条目。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>设为默认</guimenu>。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>确定</guimenu>以激活这些更改。
    </para>
   </step>
  </procedure>
 </section>

 <section xml:id="sec-boot-yast2-config-blocation">
  <title>修改引导加载程序位置</title><indexterm> <primary>YaST</primary> <secondary>引导加载程序</secondary> <tertiary>位置</tertiary> </indexterm>
  <para>
   要修改引导加载程序的位置，请遵循以下步骤：
  </para>
  <procedure xml:id="pro-boot-yast2-config-blocation">
   <title>更改引导加载程序位置</title>
   <step>
    <para>
     选择<guimenu>引导加载程序安装</guimenu>选项卡，然后为<guimenu>引导加载程序位置</guimenu>选择以下某个选项：
    </para>
    <variablelist>
     <varlistentry>
      <term><guimenu>从主引导记录引导</guimenu>
      </term>
      <listitem>
       <para>
        本操作会在第一个磁盘的 MBR 中安装引导加载程序（根据 BIOS 中预设的引导顺序）。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>从根分区引导</guimenu>
      </term>
      <listitem>
       <para>
        这将在 <filename>/</filename> 分区（这是默认分区）的引导扇区中安装引导加载程序。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>从引导分区引导</guimenu>
      </term>
      <listitem>
       <para>
        这将在 <filename>/boot</filename> 分区的引导扇区中安装引导加载程序。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>从扩展分区引导</guimenu>
      </term>
      <listitem>
       <para>
        这将在扩展分区容器中安装引导加载程序。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>自定义引导分区</guimenu>
      </term>
      <listitem>
       <para>
        手动使用此选项来指定引导加载程序的位置。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </step>
   <step>
    <para>
     单击<guimenu>确定</guimenu>以应用您的更改。
    </para>
   </step>
  </procedure>
 </section>

 <section xml:id="sec-boot-yast2-config-timeout">
  <title>更改引导加载程序超时值</title><indexterm> <primary>YaST</primary> <secondary>引导配置</secondary> <tertiary>超时</tertiary> </indexterm>
  <para>
   引导加载程序不会立即引导默认系统。超时期间，可以选择要引导的系统或编写一些内核参数。要设置引导加载程序超时值，请执行如下操作：
  </para>
  <procedure xml:id="pro-boot-yast2-config-timeout">
   <title>更改引导加载程序超时值</title>
   <step>
    <para>
     打开<guimenu>引导加载程序安装</guimenu>选项卡。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>引导加载程序选项</guimenu>。
    </para>
   </step>
   <step>
    <para>
     通过键入新值、用鼠标单击相应的箭头键或使用键盘上的箭头键来更改<guimenu>超时（以秒为单位）</guimenu>的值。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>确定</guimenu>两次以保存更改。
    </para>
   </step>
  </procedure>
  <warning>
   <title>0 秒超时</title>
   <para>
    如果将超时设置为 0 秒，在引导时您将无法访问 GRUB。如果同时将默认引导选项设置为非 Linux 操作系统，事实上会禁用对 Linux 系统的访问。
   </para>
  </warning>
 </section>

 <section xml:id="sec-boot-yast2-config-security">
  <title>设置引导口令</title><indexterm><primary>YaST</primary> <secondary>引导配置</secondary><tertiary>口令</tertiary></indexterm><indexterm> <primary>YaST</primary> <secondary>引导加载程序</secondary><tertiary>口令</tertiary></indexterm>
  <para>
   使用此 YaST 模块，还可以设置口令来保护引导。这提供了更高的安全性级别。
  </para>
  <procedure xml:id="pro-boot-yast2-config-security">
   <title>设置引导加载程序口令</title>
   <step>
    <para>
     打开<guimenu>引导加载程序安装</guimenu>选项卡。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>引导加载程序选项</guimenu>。
    </para>
   </step>
   <step>
    <para>
     通过单击并键入两次<guimenu>口令</guimenu>激活<guimenu>使用口令保护引导加载程序</guimenu>选项。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>确定</guimenu>两次以保存更改。
    </para>
   </step>
  </procedure>
 </section>

 <section xml:id="sec-boot-yast2-config-order">
  <title>调整磁盘顺序</title><indexterm> <primary>YaST</primary><secondary>引导加载程序</secondary><tertiary>磁盘顺序</tertiary></indexterm>
  <para>
   如果您的计算机有多个硬盘，则可以按照计算机的 BIOS 设置指定磁盘引导顺序（请参见<xref linkend="sec-grub-map"/>）。为此，请执行如下操作：
  </para>
  <procedure xml:id="pro-boot-yast2-config-order">
   <title>设置磁盘顺序</title>
   <step>
    <para>
     打开<guimenu>引导加载程序安装</guimenu>选项卡。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>引导加载程序安装详细信息</guimenu>。
    </para>
   </step>
   <step>
    <para>
     如果列出了多个磁盘，请选择一个，然后单击<guimenu>向上</guimenu>或<guimenu>向下</guimenu>来对显示的磁盘重新排序。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>确定</guimenu>两次以保存更改。
    </para>
   </step>
  </procedure>
 </section>

 <section xml:id="sec-boot-yast2-config-advanced">
  <title>配置高级选项</title><indexterm><primary>YaST</primary> <secondary>引导配置</secondary> <tertiary>高级</tertiary></indexterm>
  <para>
   高级引导选项可以通过<menuchoice><guimenu>引导加载程序安装</guimenu><guimenu>引导加载程序选项</guimenu></menuchoice>来配置。通常情况下，不需要更改默认设置。
  </para>
  <variablelist>
   <varlistentry>
    <term><guimenu>在分区表中设置活动标志，以引导分区</guimenu>
    </term>
    <listitem>
     <para>
      激活包含该引导加载程序的分区。一些旧操作系统（如 Windows 98）只能从活动分区中引导。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>将通用引导代码写入 MBR 中</guimenu>
    </term>
    <listitem>
     <para>
      使用通用、独立于操作系统的代码替换当前 MBR。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>调试标志</guimenu>
    </term>
    <listitem>
     <para>
      在调试模式中，在显示说明磁盘活动的讯息的位置设置 GRUB。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>隐藏引导菜单</guimenu>
    </term>
    <listitem>
     <para>
      隐藏引导菜单并引导默认项。
     </para>
     <warning>
      <para>
       如果隐藏引导菜单，在引导时您将无法访问 GRUB。如果同时将默认引导选项设置为非 Linux 操作系统，事实上会禁用对 Linux 系统的访问。
      </para>
     </warning>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>使用受信任的 GRUB</guimenu>
    </term>
    <listitem>
     <para>
      启动支持受信任计算功能的受信任 GRUB。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>图形菜单文件</guimenu>
    </term>
    <listitem>
     <para>
      显示引导屏幕时使用的图形文件的路径。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>串行连接参数</guimenu>
    </term>
    <listitem>
     <para>
      如果您的计算机是通过串行控制台控制的，则可指定要使用的 COM 端口及其运行速度。还可以将<guimenu>终端定义</guimenu>设置为<quote>串行</quote>。有关细节，请参见 <command>info grub</command> 或 <link xlink:href="http://www.gnu.org/software/grub/manual/grub.html"/>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>使用串行控制台</guimenu>
    </term>
    <listitem>
     <para>
      如果您的计算机是通过串行控制台控制的，则可激活此选项并指定要使用的 COM 端口及其运行速度。请参见 <command>info grub</command> 或 <link xlink:href="http://www.gnu.org/software/grub/manual/grub.html#Serial-terminal"/>
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </section>

 <section xml:id="sec-boot-yast2-config-loader">
  <title>更改引导加载程序类型</title><indexterm> <primary>YaST</primary><secondary>引导加载程序</secondary><tertiary>类型</tertiary></indexterm><indexterm><primary>YaST</primary><secondary>LILO</secondary></indexterm><indexterm><primary>YaST</primary><secondary>GRUB</secondary></indexterm>
  <para>
   在<guimenu>引导加载程序安装</guimenu>中设置引导加载程序类型。<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 中的默认引导加载程序是 GRUB. 要使用 LILO 或 ELILO，请执行以下操作：
  </para>
  <warning>
   <title>LILO 不受支持</title>
   <para>
    不建议使用 LILO，<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 上不支持该程序。仅在特殊情况下才使用它。
   </para>
  </warning>
  <procedure xml:id="pro-boot-yast2-config-loader">
   <title>更改引导加载程序类型</title>
   <step>
    <para>
     选择<guimenu>引导加载程序安装</guimenu>选项卡。
    </para>
   </step>
   <step>
    <para>
     对于<guimenu>引导加载程序</guimenu>，请选择 <guimenu>LILO</guimenu>。
    </para>
   </step>
   <step>
    <para>
     在打开的对话框中，选择以下某个操作：
    </para>
    <variablelist>
     <varlistentry>
      <term><guimenu>建议新配置</guimenu>
      </term>
      <listitem>
       <para>
        让 YaST 推荐一个新的配置。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>转换当前配置</guimenu>
      </term>
      <listitem>
       <para>
        让 YaST 转换当前的配置。在转换配置时，有些设置可能会丢失。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>从头开始新的配置</guimenu>
      </term>
      <listitem>
       <para>
        编写自定义配置。安装 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 期间不能使用此操作。
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>读取保存在磁盘上的配置</guimenu>
      </term>
      <listitem>
       <para>
        装载自己的 <filename>/etc/lilo.conf</filename>。安装 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 期间不能使用此操作。
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </step>
   <step>
    <para>
     单击<guimenu>确定</guimenu>两次以保存更改。
    </para>
   </step>
  </procedure>
  <para>
   转换过程中，旧的 GRUB 配置会储存在磁盘中。要使用它，只需将引导加载程序类型改回 GRUB ，然后选择<guimenu>恢复转换前储存的配置</guimenu>。此操作仅在已安装的系统上可用。
  </para>
  <note>
   <title>自定义引导加载程序</title>
   <para>
    要使用 GRUB 或 LILO 以外的引导加载程序，请选择<guimenu>不安装任何引导加载程序</guimenu>。在选择该选项之前，请仔细阅读您的引导加载程序文档。
   </para>
  </note>
 </section>
</section>
