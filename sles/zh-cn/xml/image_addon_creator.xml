<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN"
"novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="image_addon_creator.xml" id="cha-addon-creator">
 <title>使用附加产品创建程序创建附加产品</title>
 <abstract>
  <para>
   外接式附件是一个特别设计的媒体，通常是 CD 或 DVD，用来扩展产品。我们开发了附加产品创建程序，以向客户与合作伙伴提供支持，并简化所有 SUSE 产品的第三方软件分发。
  </para>
 </abstract>
 <sect1 id="sec-addon-creator-creating">
  <title>创建映像</title>

  <para>
   要创建外接式附件 CD，请如下操作：
  </para>

  <procedure>
   <step performance="required">
    <para>
     启动 YaST 并打开<guimenu>附加产品创建程序</guimenu>模块。将打开一个窗口。
    </para>
   </step>
   <step performance="required">
    <para>
     如果此前尚未运行此模块，请单击<guimenu>从头创建外接式附件</guimenu>开始。如果已经创建外接式附件 CD，则该窗口显示所有已创建外接式附件 CD 的列表。单击<guimenu>添加</guimenu>开始。
    </para>
   </step>
   <step performance="required">
    <para>
     输入附加的产品名称和版本并提供一些其他选项：
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       选择它所基于的必需产品。
      </para>
     </listitem>
     <listitem>
      <para>
       选择其他外接式附件包的路径。如果需要不包含在基本产品中的其他 RPM 包，则需要此操作（此步骤是可选的）。
      </para>
     </listitem>
     <listitem>
      <para>
       选择具有所需产品包的路径（此步骤是可选的）。
      </para>
      
     </listitem>
    </itemizedlist>
   </step>
   <step performance="required">
    <para>
     更正产品定义并输入供应商名称。禁用<guimenu>只显示必需关键字</guimenu>以显示更多关键字。
    </para>
   </step>
   <step performance="required">
    <para>
     更改包描述。使用<guimenu>添加语言</guimenu>插入新的语言并添加已翻译的描述（此步骤是可选的）。
    </para>
    
   </step>
   <step performance="required">
    <para>
     添加新模式。通过模式可以将 RPM 包分组。使用<guimenu>新建</guimenu>添加新的模式名称并更改以下列表中的相应属性（此步骤是可选的）。
    </para>
   </step>
   <step performance="required">
    <para>
     修改输出设置。输入到输出目录的路径，并更改 ISO 名称（更改 ISO 名称是可选的）。此外，还可以修改其他功能：
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       使用<guimenu>配置工作流程...</guimenu> 输入文件以自定义产品工作流程。
      </para>
      
     </listitem>
     <listitem>
      <para>
       使用<guimenu>可选文件...</guimenu> 以向外接式附件中添加文件。第一部分可以用于在 <filename>info.txt</filename> 文件中插入关于该附加的信息。开始安装之前，使用许可证文件以显示一个窗口，其中带有<guimenu>同意</guimenu>和<guimenu>不同意</guimenu>按钮。可以在 README 部分中添加更多文件。
      </para>
      <para>
       第二部分可以用于储存各种语言的 <filename>COPYRIGHT</filename> 和 <filename>COPYING</filename> 文件。
      </para>
     </listitem>
    </itemizedlist>
   </step>
   <step performance="required">
    <para>
     使用 GPG 密钥签署外接式附件产品。使用 GPG 密钥签署产品可提供产品原创的证据。如果没有密钥，请先创建一个，然后输入相应的口令短语两次。
    </para>
   </step>
   <step performance="required">
    <para>
     在概述中检查产品并按<guimenu>完成</guimenu>继续。
    </para>
   </step>
   <step performance="required">
    <para>
     使用<guimenu>构建</guimenu>按钮启动该进程。按<guimenu>完成</guimenu>可关闭窗口。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 id="sec-addon-creator-structure">
  <title>外接式附件结构</title>

  <para>
   如果创建外接式附件产品，以下概述包含文件和目录的结构：
  </para>

  <variablelist>
   <varlistentry>
    <term><filename>ARCHIVES.gz</filename>
    </term>
    <listitem>
     <para>
      包含所有 RPM 文件的 gzip 压缩的内容。它实际上是一个 <command>rpm</command> 命令的列表，该命令对每个 RPM 文件都使用选项 <option>-qil</option>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>Changelog</filename>
    </term>
    <listitem>
     <para>
      包含 RPM 文件的所有更改。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>content</filename>
    </term>
    <listitem>
     <para>
      包含关于外接式附件产品的信息。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>content.asc</filename>
    </term>
    <listitem>
     <para>
      包含来自 GPG 的签名文件。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>content.key</filename>，<filename>gpg-pubkey-<replaceable>NUMBER</replaceable>.asc</filename>
    </term>
    <listitem>
     <para>
      公共 GPG 密钥。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>INDEX.gz</filename>
    </term>
    <listitem>
     <para>
      包含所有 RPM 文件的列表并通过 <command>gzip</command> 打包。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>ls-lR.gz</filename>
    </term>
    <listitem>
     <para>
      包含外接式附件产品媒体的所有文件和目录的列表。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>media.<replaceable>N</replaceable>/</filename>
    </term>
    <listitem>
     <para>
      包含具有关于外接式附件媒体设置基本信息的文件。目录已编号，因此 <filename>media.1/</filename> 是指第一个外接式附件媒体。附加媒体具有连续编号。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>suse/</filename>
    </term>
    <listitem>
     <para>
      包含带有特定于体系结构信息的子目录。例外是 <filename>noarch/</filename> 用于独立于体系结构的包，<filename>src/</filename> 用于源包。专有软件包储存在 <filename>nosrc/</filename> 下。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 id="sec-addon-creator-moreinfo">
  <title>更多信息</title>

  <para>
   有关以下文档中的详细信息，请访问 KIWI 门户：<ulink url="http://en.opensuse.org/Portal:KIWI"/>。
  </para>
 </sect1>
</chapter>
