<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
    type="text/xml"
    title="Profiling step"
?>
<!DOCTYPE sect1
[
   <!ENTITY % entities SYSTEM "entity-decl.ent">
   %entities;
]>


<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<section xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1" xml:base="yast2_printer.xml" xml:id="sec-y2-hw-print">
 <title>设置打印机</title><indexterm xml:id="idx-yast-printing-config" class="startofrange"> <primary>YaST</primary> <secondary>打印机配置</secondary> </indexterm> <indexterm xml:id="idx-printing-config" class="startofrange"> <primary>打印</primary> <secondary>用 YaST 配置</secondary> </indexterm> <indexterm xml:id="idx-config-printing" class="startofrange"> <primary>配置</primary> <secondary>打印</secondary></indexterm>

 <para>
  YaST 可用于配置直接连接到您计算机的本地打印机（通常使用 USB 或并行端口），也可用于设置使用网络打印机进行的打印。还可以通过网络共享打印机。<xref linkend="cha-p"/>中提供了有关打印的进一步信息（一般信息、技术细节和查错）。
 </para>

 <para>
  在 YaST 中，单击<menuchoice><guimenu>硬件</guimenu> <guimenu>打印机</guimenu></menuchoice>以启动打印机模块。默认情况下，其会在<guimenu>打印机配置</guimenu>视图中打开，显示所有可用和已配置打印机的列表。这一点在通过网络访问大量打印机时尤其有用。在这里，您还可以<guimenu>打印测试页</guimenu>和配置本地打印机。
 </para>

 <section xml:id="sec-y2-hw-print-local">
  <title>配置本地打印机</title><indexterm> <primary>YaST</primary> <secondary>打印机配置</secondary> <tertiary>本地打印机</tertiary> </indexterm> <indexterm> <primary>打印</primary> <secondary>用 YaST 配置</secondary> <tertiary>本地打印机</tertiary> </indexterm> <indexterm> <primary>配置</primary> <secondary>打印</secondary> <tertiary>本地打印机</tertiary></indexterm>
  <para>
   通常会自动检测到本地 USB 打印机。若没有自动检测到 USB 打印机，可能有两个原因：
  </para>
  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     USB 打印机关闭。
    </para>
   </listitem>
   <listitem>
    <para>
     打印机和计算机之间无法建立通讯。检查电缆和插头，确保打印机连接正确。如果属于这种情况，问题可能不在于打印机，而是与 USB 有关。
    </para>
   </listitem>
  </itemizedlist>
  <para>
   配置打印机基本上分为三个步骤：指定连接类型、选择驱动程序以及为此设置命名打印队列。
  </para>
  <para>
   许多打印机型号都有多个可用驱动程序。配置打印机时，YaST 默认使用标有<literal>推荐</literal>的那个驱动程序，这是一般规则。通常不需要更改驱动程序，<literal>推荐</literal>的驱动程序的效果应该是最好的。但是，举例来说，如果希望彩色打印机只打印黑白两种颜色，使用不支持彩色打印的驱动程序最为方便。如果用 PostScript 打印机打印图形时遇到性能问题，从 PostScript 驱动程序切换到 PCL 驱动程序（假定您的打印机可以识别 PCL）可能有帮助。
  </para>
  <para>
   如果没有列出您的打印机所适用的驱动程序，可以尝试从列表中选择带有相应标准语言的通用驱动程序。请参见您的打印机文档，以找出您的打印机可以识别的语言（控制打印机的命令集）。如果不起作用，请参见<xref linkend="sec-y2-hw-print-local-get-ppd"/>了解其他可能的解决方案。
  </para>
  <para>
   打印机从不直接使用，通常都是通过打印队列来使用的。这可确保将并发任务逐个排队和处理。每个打印队列都会被指派给一个特定驱动程序，而一台打印机可有多个队列。这样就能在一台彩色打印机上设置第二个队列，例如，该队列只打印黑色和白色。请参见<xref linkend="sec-p-workflow"/>以获取有关打印队列的更多信息。
  </para>
  <procedure xml:id="pro-y2-hw-print-local-config">
   <title>添加新的本地打印机</title>
   <step>
    <para>
     通过<menuchoice><guimenu>硬件</guimenu> <guimenu>打印机</guimenu></menuchoice>启动 YaST 打印机模块。
    </para>
   </step>
   <step>
    <para>
     在<guimenu>打印机配置</guimenu>屏幕中，单击<guimenu>添加</guimenu>。
    </para>
   </step>
   <step>
    <para>
     如果<literal>指定连接</literal>下已列出您的打印机，则继续下一步。否则，尝试<guimenu>检测更多</guimenu>或启动<guimenu>连接向导</guimenu>。
    </para>
   </step>
   <step>
    <para>
     在<literal>查找和指派驱动程序</literal>下方的输入框中，输入供应商名称和型号名称，然后单击<guimenu>搜索</guimenu>。
    </para>
   </step>
   <step>
    <para>
     选择标记为推荐并与您的打印机最匹配的驱动程序。如果未显示适合的驱动程序：
    </para>
    <substeps performance="required">
     <step>
      <para>
       检查搜索条件
      </para>
     </step>
     <step>
      <para>
       单击<guimenu>查找更多</guimenu>，借此扩大搜索范围
      </para>
     </step>
     <step>
      <para>
       按<xref linkend="sec-y2-hw-print-local-get-ppd"/>中所述添加驱动程序
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     指定<literal>默认纸张大小</literal>.
    </para>
   </step>
   <step>
    <para>
     在<guimenu>设置任意名称</guimenu>字段中，为打印队列输入一个唯一的名称。
    </para>
   </step>
   <step>
    <para>
     此时，打印机配置了默认设置并准备好可供使用。单击<guimenu>确定</guimenu>以返回到<guimenu>打印机配置</guimenu>视图。现在可以在打印机列表中看到新配置的打印机。
    </para>
   </step>
  </procedure>
  <section xml:id="sec-y2-hw-print-local-get-ppd">
   <title>使用 YaST 添加驱动程序</title>
   <para>
    添加新打印机时，如果<guimenu>查找和指派驱动程序</guimenu>对话框中没有适合的驱动程序可用，则您的型号没有可用的 PPD（PostScript 打印机描述）文件。有关 PPD 文件的更多信息，请参见<xref linkend="sec-p-software"/>。
   </para>
   <para>
    请直接从您的打印机供应商或 PostScript 打印机的驱动程序 CD 中获取 PPD 文件。有关详细信息，请参见<xref linkend="sec-drucken-prob-ppd"/>。或者，也可在 <link xlink:href="http://www.linuxfoundation.org/collaborate/workgroups/openprinting/database/databaseintro"/>（<quote>OpenPrinting.org 打印机数据库</quote>）中查找 PPD 文件。从 OpenPrinting 中下载 PPD 文件时，请记住它始终显示最新的 Linux 支持状态，未必适合 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>。
   </para>
   <procedure>
    <title>添加 PPD 文件</title>
    <step>
     <para>
      通过<menuchoice><guimenu>硬件</guimenu> <guimenu>打印机</guimenu></menuchoice>启动 YaST 打印机模块。
     </para>
    </step>
    <step>
     <para>
      在<guimenu>打印机配置</guimenu>屏幕中，单击<guimenu>添加</guimenu>。
     </para>
    </step>
    <step>
     <para>
      在<literal>查找和指派驱动程序</literal>部分中，单击<guimenu>驱动程序包</guimenu>。
     </para>
    </step>
    <step>
     <para>
      在<literal>使打印机描述文件可用</literal>下的输入框中输入 PPD 文件的完整路径。或者，单击<guimenu>浏览</guimenu>从对话框中选择该文件。
     </para>
    </step>
    <step>
     <para>
      单击<guimenu>确定</guimenu>返回<literal>添加新的打印机配置</literal>屏幕。
     </para>
    </step>
    <step>
     <para>
      为了直接使用该 PPD 文件，请按照<xref linkend="pro-y2-hw-print-local-config"/>中所述执行操作。否则，单击<guimenu>取消</guimenu>。
     </para>
    </step>
   </procedure>
  </section>
  <section xml:id="sec-y2-hw-print-local-tune">
   <title>编辑本地打印机配置</title>
   <para>
    通过编辑本地打印机的现有配置，不仅可以更改诸如连接类型和驱动程序之类的基本设置，而且可以调整纸张大小、分辨率和媒体源等的默认配置。可以通过更改打印机描述来更改打印机的标识符。
   </para>
   <procedure>
    <title>编辑本地打印机</title>
    <step>
     <para>
      通过<menuchoice><guimenu>硬件</guimenu> <guimenu>打印机</guimenu></menuchoice>启动 YaST 打印机模块。
     </para>
    </step>
    <step>
     <para>
      在<guimenu>打印机配置</guimenu>屏幕中，从列表中选择本地打印机并单击<guimenu>编辑</guimenu>。
     </para>
    </step>
    <step>
     <para>
      按<xref linkend="pro-y2-hw-print-local-config"/>中所述更改连接类型或驱动程序。只有当前配置存在问题时，才需要执行该操作。
     </para>
    </step>
    <step>
     <para>
      通过选中<guimenu>默认打印机</guimenu>将该打印机设为默认打印机。
     </para>
    </step>
    <step>
     <para>
      通过单击<guimenu>当前驱动程序的所有选项</guimenu>调整默认设置。要更改设置，可以通过单击相对的 <literal>+</literal> 符号展开选项列表。通过单击选项更改默认值。单击<guimenu>确定</guimenu>应用您的更改。
     </para>
    </step>
   </procedure>
  </section>
 </section>

 <section xml:id="sec-y2-hw-print-network">
  <title>使用 YaST 配置网络打印</title><indexterm><primary>YaST</primary><secondary>打印机配置</secondary><tertiary>网络打印</tertiary> </indexterm><indexterm><primary>打印</primary><secondary>用 YaST 配置</secondary><tertiary>网络打印</tertiary> </indexterm><indexterm><primary>配置</primary><secondary>打印</secondary><tertiary>网络打印</tertiary></indexterm>
  <para>
   无法自动检测到网络打印机。必须使用 YaST 打印机模块手动进行配置。视您的网络设置而定，可以打印到打印服务器（CUPS、LPD、SMB 或 IPX）或直接打印到网络计算机（首选通过 TCP）。通过从 YaST 打印机模块的左窗格中选择<guimenu>通过网络打印</guimenu>来访问网络打印配置视图。
  </para>
  <section xml:id="sec-y2-hw-print-network-cups">
   <title>使用 CUPS</title>
   <para>
    在 Linux 环境中，CUPS 通常用于通过网络打印。最简单的设置是仅通过所有客户端都可直接访问的一台 CUPS 服务器来打印。通过多个 CUPS 服务器进行打印时，需要运行与远程 CUPS 服务器通讯的本地 CUPS 守护程序。
   </para>
   <procedure>
    <title>通过单个 CUPS 服务器进行打印</title>
    <step>
     <para>
      通过<menuchoice><guimenu>硬件</guimenu> <guimenu>打印机</guimenu></menuchoice>启动 YaST 打印机模块。
     </para>
    </step>
    <step>
     <para>
      在左窗格中，启动<guimenu>通过网络打印</guimenu>屏幕。
     </para>
    </step>
    <step>
     <para>
      选中<guimenu>直接通过一台远程 CUPS 服务器来执行您的所有打印</guimenu>并指定该服务器的名称或 IP 地址。
     </para>
    </step>
    <step>
     <para>
      单击<guimenu>测试服务器</guimenu>以确保您已选择正确的名称或 IP 地址。
     </para>
    </step>
    <step>
     <para>
      单击“确定”返回到<guimenu>打印机配置</guimenu>屏幕。现在会列出通过 CUPS 服务器提供的所有打印机。
     </para>
    </step>
   </procedure>
   <procedure>
    <title>通过多个 CUPS 服务器进行打印</title>
    <step>
     <para>
      通过<menuchoice><guimenu>硬件</guimenu> <guimenu>打印机</guimenu></menuchoice>启动 YaST 打印机模块。
     </para>
    </step>
    <step>
     <para>
      在左窗格中，启动<guimenu>通过网络打印</guimenu>屏幕。
     </para>
    </step>
    <step>
     <para>
      选中<guimenu>接受来自以下服务器的打印机信息</guimenu>
     </para>
    </step>
    <step>
     <para>
      在<literal>常规设置</literal>下，指定要使用的服务器。您可以选择接受来自所有可用网络、本地网络或特定主机的连接。如果选择后一个选项，则需要指定主机名或 IP 地址。
     </para>
    </step>
    <step>
     <para>
      在询问是否启动本地 CUPS 服务器时，通过单击<guimenu>确定</guimenu>和<guimenu>是</guimenu>进行确认。服务器启动之后，YaST 会返回<guimenu>打印机配置</guimenu>屏幕。单击<guimenu>刷新列表</guimenu>查看目前为止检测到的打印机。如果以后有更多的打印机可用，请再次单击此按钮。
     </para>
    </step>
   </procedure>
  </section>
  <section xml:id="sec-y2-hw-print-network-other">
   <title>使用打印服务器而非 CUPS</title>
   <para>
    如果网络通过 CUPS 之外的其他打印服务器提供打印服务，可以通过<menuchoice><guimenu>硬件</guimenu> <guimenu>打印机</guimenu></menuchoice>启动 YaST 打印机模块，并从左窗格中启动<guimenu>通过网络打印</guimenu>屏幕。启动<guimenu>连接向导</guimenu>并选择相应的<guimenu>连接类型</guimenu>。关于在您的环境中配置网络打印机的细节，请咨询您的网络管理员。
   </para>
  </section>
 </section>

 <section xml:id="sec-y2-hw-print-share">
  <title>通过网络共享打印机</title><indexterm><primary>YaST</primary><secondary>打印机配置</secondary><tertiary>共享打印机</tertiary></indexterm><indexterm><primary>打印</primary><secondary>用 YaST 配置</secondary><tertiary>共享打印机</tertiary></indexterm><indexterm><primary>配置</primary><secondary>打印</secondary><tertiary>共享打印机</tertiary></indexterm>
  <para>
   本地 CUPS 守护程序所管理的打印机可通过网络共享，这样就能将您的计算机转变为 CUPS 服务器。通常，可通过启用 CUPS 所谓的<quote>浏览模式</quote>来共享一台打印机。如果浏览已启用，就可将本地打印队列用于在网络上侦听远程 CUPS 守护程序。也可设置专用 CUPS 服务器，用于管理所有打印队列且通过远程客户端直接访问。这种情况下，无需启用浏览。
  </para>
  <procedure>
   <title>共享打印机 </title>
   <step>
    <para>
     通过<menuchoice><guimenu>硬件</guimenu> <guimenu>打印机</guimenu></menuchoice>启动 YaST 打印机模块。
    </para>
   </step>
   <step>
    <para>
     从左窗格中启动<guimenu>共享打印机</guimenu>屏幕。
    </para>
   </step>
   <step>
    <para>
     选择<guimenu>允许远程访问</guimenu>。如需更详细的配置，还有其他选项可以使用：
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       选中<guimenu>对于本地网络中的计算机</guimenu>，并通过选中<guimenu>默认情况下，在本地网络中发布打印机</guimenu>启用浏览模式。
      </para>
     </listitem>
     <listitem>
      <para>
       <guimenu>添加</guimenu>由 CUPS 服务器使用的网络接口。如果要通过指定网络接口共享您的打印机，请将这些打印机添加到下面的输入框中。
      </para>
     </listitem>
     <listitem>
      <para>
       若要将针对 CUPS 服务器的访问权限制为特定网络或 IP 地址，可以在两个输入框中予以指定。
      </para>
     </listitem>
    </itemizedlist>
   </step>
   <step>
    <para>
     单击<guimenu>确定</guimenu>重启动 CUPS 服务器，并返回到<guimenu>打印机配置</guimenu>屏幕。
    </para>
   </step>
   <step>
    <para>
     有关 CUPS 和防火墙设置，请参见 <link xlink:href="http://en.opensuse.org/SDB:CUPS_and_SANE_Firewall_settings"/>。
    </para>
   </step>
  </procedure><indexterm class="endofrange" startref="idx-yast-printing-config"/><indexterm class="endofrange" startref="idx-printing-config"/><indexterm class="endofrange" startref="idx-config-printing"/>
 </section>
</section>
