<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN"
"novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="image_product_creator.xml" id="cha-productcreator">
 <title>使用 YaST 产品创建程序创建映像</title>
 <abstract>
  <para>
   YaST 产品创建程序是 KIWI 和附加产品创建程序的统一图形前端。其目的是在一个位置提供映像创建功能。YaST 产品创建程序中集成的所有工具也可用作单独的 YaST 模块或应用程序。
  </para>
 </abstract>
 <sect1 id="sec-pc-prereq">
  <title>产品创建程序的先决条件</title>

  <para>
   可以使用 YaST 产品创建程序创建映像之前，请确保您已满足以下先决条件：
  </para>

  <orderedlist spacing="normal">
   <listitem>
    <para>
     安装来自 <ulink url="http://download.suse.com/"/> 上 SUSE Linux Enterprise Software Development Kit (SDK) 中的 <systemitem class="resource">yast2-product-creator</systemitem>。此包需要其他包。确保满足所有依赖性。
    </para>
   </listitem>
   <listitem>
    <para>
     用于进行操作的足够可用磁盘空间。
    </para>
   </listitem>
  </orderedlist>
 </sect1>
 <sect1 id="sec-pc-create">
  <title>创建映像</title>

  <para>
   产品创建程序使用 KIWI 来创建产品的映像。如果对手动开发此类映像感兴趣，请参见<xref linkend="cha-kiwi"/>。
  </para>

  <para>
   要创建映像，请如下操作：
  </para>

  <procedure>
   <step performance="required">
    <para>
     如果您是第一次启动产品创建程序，请输入配置名称并选择将包添加到 ISO 映像的方法。
    </para>
    <para>
     如果已经用过产品创建程序，请选择<guimenu>添加</guimenu>创建新的产品定义，输入配置名称，然后选择方法。
    </para>
   </step>
   <step performance="required">
    <para>
     选择或取消选择包源。要选择源，从表中选择并单击<guimenu>选择</guimenu>。使用<guimenu>新建...</guimenu> 执行附加产品创建程序，请参见<xref linkend="cha-addon-creator"/>以了解详细信息。要添加另一个源，请先在 YaST 的<guimenu>安装源</guimenu>模块中添加该源，然后再次运行产品创建程序。选择源后，单击<guimenu>下一步</guimenu>。
    </para>
    <note>
     <title>不支持的目标体系结构</title>
     <para>
      不要更改目标体系结构。KIWI 当前不支持构建不同的体系结构。
     </para>
    </note>
   </step>
   <step performance="required">
    <para>
     输入用于创建框架目录的路径。选择<guimenu>生成 ISO 映像文件</guimenu>还是<guimenu>仅创建目录树</guimenu>。使用其他选项插入元数据。单击<guimenu>下一步</guimenu>。
    </para>
   </step>
   <step performance="required">
    <para>
     编辑 <filename>isolinux.cfg</filename> 文件的内容（如果配置中需要）。在多数情况下，均可以保持不变。如果配置中不需要该文件，现在请使用<guimenu>装载文件</guimenu>添加它。单击<guimenu>下一步</guimenu>。
    </para>
   </step>
   <step performance="required">
    <para>
     选择软件。单击<guimenu>应用</guimenu>后，所有包依赖性都会自动解决。
    </para>
   </step>
   <step performance="required">
    <para>
     使用<guimenu>在媒体上对产品进行数字签名</guimenu>对产品签名。为产品配置提供密钥。使用 GPG 密钥签署产品可提供产品源的证据。配置密钥后，单击<guimenu>下一步</guimenu>。
    </para>
   </step>
   <step performance="required">
    <para>
     检查摘要。要更改任何选项，请使用<guimenu>上一步</guimenu>。要确认新产品配置，请单击<guimenu>完成</guimenu>。
    </para>
   </step>
  </procedure>

  <para>
   产品定义现在已完成。产品创建程序可让您选择执行以下操作：
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <formalpara>
     <title><guimenu>创建产品</guimenu></title>
     <para>
      创建选定产品的 ISO 映像。如果缺少任何内容，该进程将中止。更正错误并重新配置。
     </para>
    </formalpara>
   </listitem>
   <listitem>
    <formalpara>
     <title><guimenu>用 KIWI 创建映像...</guimenu></title>
     <para>
      使用下拉菜单从不同目标格式中选择，如 Live 媒体或 Xen 映像。
     </para>
    </formalpara>
   </listitem>
  </itemizedlist>
 </sect1>
 <sect1 id="sec-pc-moreinfo">
  <title>更多信息</title>

  <para>
   有关创建系统映像和相关主题的更多信息，请参见以下文档：
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     <xref linkend="cha-kiwi"/>
    </para>
   </listitem>
   <listitem>
    <para>
     <ulink url="http://en.opensuse.org/Portal:KIWI"/> — KIWI 项目
    </para>
   </listitem>
   <listitem>
    <para>
     KIWI 文档：<filename>/usr/share/doc/packages/kiwi/kiwi.pdf</filename>
    </para>
   </listitem>
  </itemizedlist>
 </sect1>
</chapter>
