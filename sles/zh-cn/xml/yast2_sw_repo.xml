<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
    type="text/xml"
    title="Profiling step"
?>
<!DOCTYPE sect1
[
   <!ENTITY % entities SYSTEM "entity-decl.ent">
   %entities;
]>


<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<section xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1" xml:base="yast2_sw_repo.xml" xml:id="sec-y2-sw-instsource">
 <title>管理软件储存库和服务</title>

 <para>
  如果要安装第三方软件，请向系统添加其他软件储存库。默认情况下，系统注册后会自动配置<phrase os="sles;sled;">产品储存库（例如 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>-DVD <phrase role="productname"><phrase os="sles;sled;slerte">11 SP4</phrase></phrase>）和匹配的更新储存库。关于注册的详细信息，请参见<xref linkend="sec-i-yast2-conf-manual-cc"/></phrase>。根据最初所选的产品，可能还会配置带有翻译、字典等的独立语言外接式附件储存库。
 </para>

 <para>
  要管理储存库，请启动 YaST，并选择<menuchoice><guimenu>软件</guimenu> <guimenu>软件储存库</guimenu></menuchoice>。将打开<guimenu>已配置软件储存库</guimenu>对话框。在此，还可以通过将对话框右角的<guimenu>视图</guimenu>更改为<guimenu>所有服务</guimenu>来管理所谓的<guimenu>服务</guimenu>订阅。此环境中的服务是一种<guimenu>储存库索引服务</guimenu> (RIS)，它能提供一个或多个软件储存库。此类服务可通过其管理员或供应商手动更改。
 </para>

 <para>
  每个储存库都提供描述储存库内容（包名称和版本等）的文件。这些储存库描述文件将下载到 YaST 使用的本地超速缓存中。为了确保完整性，可使用储存库维护人员的 GPG 密钥来为软件储存库签名。每当您添加新的储存库时，YaST 都可让您导入其密钥。
 </para>

 <warning>
  <title>信任外部软件源</title>
  <para>
   将外部软件储存库添加到您的储存库列表前，请先确保此储存库可信。对因安装第三方软件储存库中的软件而引起的任何潜在问题，<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 不承担任何责任。
  </para>
 </warning>

 <section xml:id="sec-y2-sw-instsource-add">
  <title>添加软件储存库</title>
  <para>
   您可以从本地硬盘、可卸媒体（如 CD、DVD 或 USB 大容量储存设备）或网络中添加储存库。
  </para>
  <para>
   要通过 YaST 的<guimenu>已配置的软件储存库</guimenu>对话框添加储存库，请执行以下步骤：
  </para>
  <procedure>
   <step>
    <para>
     单击<guimenu>添加</guimenu>。
    </para>
   </step>
   <step>
    <para>
     从可用<guimenu>媒体类型</guimenu>列表中，指定与您的储存库匹配的类型：
    </para>
    <para>
     对于网络源，通常使用默认选项<guimenu>指定 URL</guimenu> 就足够了。
    </para>
    <para>
     要从可卸媒体或本地硬盘添加储存库，请选择相关选项，并在计算机中相应地插入媒体或连接 USB 设备。
    </para>
   </step>
   <step>
    <para>
     现在您可以选择<guimenu>下载储存库描述文件</guimenu>。如果取消选中此选项，稍后需要时 YaST 会自动下载它们。单击<guimenu>下一步</guimenu>继续。
    </para>
   </step>
   <step>
    <para>
     从网络添加储存库时，输入提示输入的数据。按<guimenu>下一步</guimenu>继续。
    </para>
   </step>
   <step>
    <para>
     根据您添加的储存库，可能会询问您是否导入为储存库签名的 GPG 密钥，或者要求同意接受某个许可证。
    </para>
    <para>
     确认这些讯息后，YaST 将下载并分析元数据，并将储存库添加到<guimenu>已配置储存库</guimenu>列表中。
    </para>
   </step>
   <step>
    <para>
     如果需要，可以按照<xref linkend="sec-y2-sw-instsource-manage"/>中所述调整储存库<guimenu>属性</guimenu>，或单击<guimenu>确定</guimenu>确认您的更改以关闭配置对话框。
    </para>
   </step>
  </procedure>
  <para>
   现在可以按<xref linkend="sec-y2-sw-qt"/>中所述从此储存库安装软件。
  </para>
  
  
 </section>

 <section xml:id="sec-y2-sw-instsource-manage">
  <title>管理储存库属性</title>
  <para>
   通过<guimenu>软件储存库</guimenu>的<guimenu>已配置的软件储存库</guimenu>概述，可以更改以下储存库属性：
  </para>
  <variablelist>
   <varlistentry>
    <term>状态</term>
    <listitem>
     <para>
      储存库状态可以为<guimenu>已启用</guimenu>或<guimenu>已禁用</guimenu>。您只能从已启用的储存库安装包。要临时关闭储存库，可以单击<guimenu>禁用</guimenu>。您还可以双击某个储存库名称来切换其状态。如果希望完全删除储存库，可以单击<guimenu>删除</guimenu>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>刷新</term>
    <listitem>
     <para>
      刷新储存库时，它的内容描述（包名称、版本等）将由 YaST 下载到本地超速缓存中。对于诸如 CD 或 DVD 之类的静态储存库，该操作执行一次就已足够，而对于内容经常改变的储存库，应经常进行刷新。让储存库的缓存保持最新的最简单方式是选择<guimenu>自动刷新</guimenu>。要执行手动刷新，请单击<guimenu>刷新</guimenu>并选择一个选项。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>保留已下载的包</guimenu>
    </term>
    <listitem>
     <para>
      安装前从远程储存库下载包。默认情况下，安装成功后即删除这些包。激活<guimenu>保留已下载的包</guimenu>可防止删除已下载的包。下载位置在 <filename>/etc/zypp/zypp.conf</filename> 中配置，默认为 <filename>/var/cache/zypp/packages</filename>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>优先级</guimenu>
    </term>
    <listitem>
     <para>
      储存库<guimenu>优先级</guimenu>是一个介于 <literal>1</literal> 和 <literal>200</literal> 之间的值，<literal>1</literal> 是最高优先级，<literal>200</literal> 是最低优先级。默认情况下，通过 YaST 添加的任何新储存库的优先级都是 <literal>99</literal>。如果您不在意某个储存库的优先级值，还可以将值设置为 <literal>0</literal>，表示对该储存库应用默认优先级 (<literal>99</literal>)。如果有多个储存库都提供了某个包，那么将优先使用优先级最高的储存库。如果要通过为本地储存库（如 DVD）指定较高优先级来避免不必要地从因特网下载包，则该设置很有用。
     </para>
     <important>
      <title>优先级与版本 </title>
      <para>
       在任何情况下，优先级最高的储存库都是优先的。因此，请确保更新储存库总是具有最高优先级（默认为 20），否则您可能会安装过时的版本，直到下一次联机更新时才会更新该版本。
      </para>
      
     </important>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>名称和 URL</term>
    <listitem>
     <para>
      要更改储存库名称或其 URL，可以从列表中单击选择它，然后单击<guimenu>编辑</guimenu>。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </section>

 <section xml:id="sec-y2-sw-repo-gpg-keys">
  <title>管理储存库密钥</title>
  <para>
   为了确保完整性，可使用储存库维护人员的 GPG 密钥来为软件储存库签名。每当您要添加新的储存库时，YaST 都可让您导入其密钥。像校验任何其他 GPG 密钥一样对它进行校验，并确保它未更改。如果检测到密钥更改，则说明储存库可能存在错误。禁用它作为储存库，直到知道密钥更改原因为止。
  </para>
  <para>
   要管理所有导入的密钥，可以在<guimenu>已配置软件储存库</guimenu>对话框中单击 <guimenu>GPG 密钥...</guimenu>。用鼠标选择一个项以在窗口底部显示密钥属性。单击相应按钮可<guimenu>添加</guimenu>、<guimenu>编辑</guimenu>或<guimenu>删除</guimenu>密钥。
  </para>
 </section>
</section>
