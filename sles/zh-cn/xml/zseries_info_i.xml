<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sect1 PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN"
"novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<sect1 xml:base="zseries_info_i.xml" id="cha.info_sysreq">
 <title>一般信息和要求</title>

 <para>
  本节介绍有关系统要求（例如支持的硬件）、微码级别及软件的基本信息。还将介绍不同的安装类型、如何为首次安装做 IPL 以及 IOCDS 信息。
 </para>

 <sect2 id="sec.info_sysreq.sysreq">
  <title>系统要求</title><indexterm> <primary>准备</primary><secondary>系统要求</secondary></indexterm><indexterm><primary>系统要求 </primary></indexterm>
  <para>
   本节提供 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 所支持且适用于 IBM System z 的硬件列表。然后，将会介绍 IBM System z 系统中使用的 MicroCode (MCL)，这对安装而言非常重要。其他要安装和用于安装的软件，将在本部分的末尾提到。
  </para>
  <sect3 id="sec.info_sysreq.sysreq.hw">
   <title>硬件</title><indexterm> <primary>系统要求</primary><secondary>硬件</secondary> </indexterm>
   <para>
    <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 在以下平台上可顺利运行：
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      IBM Series z9 (z9-EC) 2094
     </para>
    </listitem>
    <listitem>
     <para>
      IBM Series z9 (z9-BC) 2096
     </para>
    </listitem>
    <listitem>
     <para>
      IBM Series z10 (z10-EC) 2097
     </para>
    </listitem>
    <listitem>
     <para>
      IBM Series z10 (z10-BC) 2098
     </para>
    </listitem>
    <listitem>
     <para>
      
      IBM zEnterprise System z196 2817
     </para>
    </listitem>
    <listitem>
     <para>
      
      IBM zEnterprise System z114 2818
     </para>
    </listitem>
    <listitem>
     <para>
      IBM zEnterprise EC12 (zEC12) 2827
     </para>
    </listitem>
      
   </itemizedlist>
   <sect4 id="sec.info_sysreq.sysreq.hw.mem">
    <title>内存要求</title>
    <para>
     在安装期间，不同的安装方法对内存有不同的要求。安装完成后，系统管理员可以减少内存到需要的大小。SUSE 建议使用:
    </para>
    <informaltable>
     <tgroup cols="2">
      <tbody>
       <row>
        <entry>
         <para>
          768 MB
         </para>
        </entry>
        <entry>
         <para>
          用于 z/VM 下的安装。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          1 GB
         </para>
        </entry>
        <entry>
         <para>
          用于 LPAR 下的安装。
         </para>
        </entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
    <note>
     <title>远程安装源的内存要求</title>
     <para>
      对于从 NFS、FTP 或 SMB 安装源的安装或使用 VNC 的情况，最低要求 512MB 内存，否则安装尝试很可能会失败。还要注意对 z/VM guest 或 LPAR 映像可见的设备数会影响内存要求。带有差不多成百上千个可访问设备安装（即使安装中未使用）可能要求有更多内存。
     </para>
    </note>
   </sect4>
   <sect4 id="sec.info_sysreq.sysreq.hw.diskspace">
    <title>磁盘空间要求</title>
    <para>
     磁盘要求很大程度上取决于安装。通常，需要比安装软件本身所需要的更多空间，才能使系统正常运行。不同选项的最低要求为：
    </para>
    <informaltable>
     <tgroup cols="2">
      <tbody>
       <row>
        <entry>
         <para>
          2.6 GB
         </para>
        </entry>
        <entry>
         <para>
          默认安装
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          3.6 GB+
         </para>
        </entry>
        <entry>
         <para>
          推荐（用于图形桌面、开发包和 Java）。
         </para>
        </entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </sect4>
   <sect4 id="sec.info_sysreq.sysreq.hw.network">
    <title>网络连接</title>
    <para>
     与 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 系统通讯需要建立网络连接。可能是以下一个或多个连接或网卡：
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       OSA Express Ethernet (including Fast 和 Gigabit Ethernet)
      </para>
     </listitem>
     <listitem>
      <para>
       HiperSockets 或副 LAN
      </para>
     </listitem>
     <listitem>
      <para>
       10 GBE 和 VSWITCH
      </para>
     </listitem>
    </itemizedlist>
    <para>
     仍包含但不再支持以下接口：
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       CTC (或虚拟 CTC)
      </para>
     </listitem>
     <listitem>
      <para>
       ESCON
      </para>
     </listitem>
     <listitem>
      <para>
       用于 IUCV 的 IP 网络接口
      </para>
     </listitem>
    </itemizedlist>
   </sect4>
   <sect4 id="sec.info_sysreq.sysreq.hw.ipl">
    <title>IPL 选项</title>
    <para>
     对于 LPAR 安装，要 IPL 安装内核和 initrd（初始 RAM 磁盘），最好使用<guimenu>从 CD-ROM 或服务器装载</guimenu>选项。如果此选项不可用，并且不能使用 z/VM 安装系统，您需要用 tapeipl 内核、parmfile 、和 initrd 从一个通道外挂式磁带 IPL。这样您就需要访问一个磁带单位（例如 3480、 3490 或 3590)
    </para>
   </sect4>
  </sect3>
  <sect3 id="sec.info_sysreq.sysreq.microcode">
   <title>MicroCode 水平、APARs 和修复程序</title><indexterm> <primary>系统要求</primary><secondary>MicroCode 水平</secondary> </indexterm>
   <para>
    IBM developerWorks 上提供了有关此 SUSE Linux Enterprise Server 版本的限制和要求的文档，网址为 <ulink url="http://www.ibm.com/developerworks/linux/linux390/documentation_suse.html"/>。建议总是使用可用的最高服务水平。关于最低需求，请联系您的 IBM 支持。
   </para>
   <sect4 id="sec.info_sysreq.sysreq.microcode.vm">
    <title>z/VM</title>
    <variablelist>
     <varlistentry>
      <term>z/VM 5.4</term>
      <listitem>
       <para/>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>z/VM 6.2</term>
      <listitem>
       <para/>
      </listitem>
     </varlistentry>
    </variablelist>
    <para>
     由于在安装新 MicroCode 水平之前，可能需要激活 VM APAR，请使用您的 IBM 支持程序协商安装顺序。
    </para>
   </sect4>
  </sect3>
  <sect3 id="sec.info_sysreq.sysreq.software">
   <title>软件</title><indexterm> <primary>系统要求</primary><secondary>软件</secondary> </indexterm>
   <para>
    要通过基于非 Linux 的 NFS 或 FTP 安装 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>，您可能会遇到有关 NFS 或 FTP 服务器软件的问题。Windows 标准 FTP 服务器会导致错误，所以建议通过 SMB 在此类计算机上进行安装。
   </para>
   <para>
    要连接到 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 安装系统，需要使用以下其中一种方法：
   </para>
   <variablelist>
    <varlistentry>
     <term>有“终端仿真”的 SSH （兼容 xterm）</term>
     <listitem>
      <para>
       SSH 是标准的 Unix 工具，应该可在任何 Unix 或 Linux 系统上获得。Windows 里有一个名为 Putty 的 SSL 客户端。它是免费使用的，可从 <ulink url="http://www.chiark.greenend.org.uk/~sgtatham/putty/"/> 获得。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>VNC 客户端</term>
     <listitem>
      <para>
       对于 Linux，<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 会在 <systemitem class="resource">tightvnc</systemitem> 包中随附一个名为 vncviewer 的 VNC 客户端。对于 Windows，tightvnc 也可用。从 <ulink url="http://www.tightvnc.com/"/> 下载。另外，还可以使用 VNC Java 客户端和一个支持 Java 的 Web 浏览器。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>X 服务器</term>
     <listitem>
      <para>
       请在任意 Linux 或 Unix 工作站上找出合适的 X 服务器实施。有许多用于 Windows 和 Macintosh 的商业 X Window 系统环境。其中某些可以免费下载到试用版。MochaSoft 生产的 Mocha X Server 的试用版可以从 <ulink url="http://www.mochasoft.dk/freeware/x11.htm"/> 获得。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <tip>
    <title>其他信息</title>
    <para>
     在 IBM System z 上安装 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 之前，请查阅 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> DVD 1 根目录中的 <filename>README</filename> 文件。此文件对本书中提供的文档做了补充。
    </para>
   </tip>
  </sect3>
 </sect2>

 <sect2 id="sec.info.installation">
  <title>安装类型</title><indexterm> <primary>准备</primary><secondary>安装类型</secondary></indexterm> <indexterm><primary>安装类型</primary></indexterm>
  <para>
   本节概述了 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> for IBM System z 的不同安装类型。主要介绍了以下两种安装类型：
  </para>
  <variablelist>
   <varlistentry>
    <term>LPAR</term>
    <listitem>
     <para>
      使用逻辑分区 (LPAR) 安装 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>VM (z/VM)</term>
    <listitem>
     <para>
      将 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 安装为 z/VM 中的虚拟机操作系统。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   根据安装模式（LPAR 或 VM）的不同，启动安装过程和 IPL 所安装的系统有不同的选项。
  </para>
  <sect3 id="sec.info.installation.lpar">
   <title>LPAR</title><indexterm> <primary>安装类型</primary><secondary>LPAR</secondary> </indexterm>
   <para>
    如果将 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> for IBM System z 安装到一个单独的逻辑分区 (LPAR) 中，请允许 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 使用系统中物理内存的特殊部分。并决定 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 可使用的处理器的数量。在此模式下，您可以在 IBM System z 系统上同时运行几个不同的操作系统。
   </para>
  </sect3>
  <sect3 id="sec.info.installation.vm">
   <title>z/VM</title><indexterm> <primary>安装类型</primary><secondary>z/VM</secondary> </indexterm>
   <para>
    如果在 z/VM 中运行 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> for IBM System z，<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 就相当于 z/VM 中的虚拟机。此模式的优势在于，您可以从 z/VM 完全控制 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>。这对于内核的开发或基于内核的调试非常有帮助。在 Linux guest 系统中添加或删除硬件也非常简单。创建其他 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> guest 也很简单，并且您可以同时运行数百个 Linux 实例。
   </para>
  </sect3>
 </sect2>

 <sect2 id="sec.info.iplopt">
  <title>IPL 选项</title><indexterm> <primary>准备</primary><secondary>IPL 选项</secondary></indexterm><indexterm><primary>IPL 选项 </primary></indexterm>
  <para>
   本节提供对首个安装进行 IPL 操作所需的信息。根据不同的安装类型，需要使用不同的选项。将讨论通道挂接式磁带、VM 阅读器以及从 CD-ROM 或服务器选项装载。通过网络安装软件包不需要 IPL 媒体。
  </para>
  <sect3 id="sec.info.iplopt.tape">
   <title>ESCON 或 FICON 挂接式磁带</title><indexterm><primary>IPL 选项</primary><secondary>ESCON 挂接式磁带</secondary></indexterm><indexterm><primary>IPL 选项</primary><secondary>FICON 挂接式磁带</secondary></indexterm>
   <para>
    在所有连接到磁带库的系统上，可以从通道挂接式磁带进行 IPL 操作。唯一的前提是，要允许安装目标（或允许 z/VM 运行的）LPAR 连接到磁带机。为此, IOCDS 里的 <literal>IO设备</literal> 语句必须具有 <literal>SHARED</literal> 或 <literal>PART=&lt;LPARName&gt;</literal>属性。
   </para>
  </sect3>
  <sect3 id="sec.info.iplopt.vm_reader">
   <title>VM 阅读器</title><indexterm> <primary>IPL 选项</primary><secondary>VM 阅读器</secondary> </indexterm>
   <para>
    要从 VM 阅读器进行 IPL 操作，先把所需程序传输到阅读器。多个 IPL 操作就轻松完成了。在 z/VM 上建议使用此方法。为了方便管理，建议创建一个带有 IPL 所需文件和脚本的迷你磁盘的用户 <literal>linuxmnt</literal>。Linux guest 将以只读形式访问此迷你磁盘。
   </para>
  </sect3>
  <sect3 id="sec.info.iplopt.cdrom">
   <title>从 CD/DVD-ROM 或服务器装载</title><indexterm> <primary>IPL 选项</primary><secondary>从 CD/DVD-ROM 或服务器装载</secondary> </indexterm>
   <para>
    通过 IPL 装载到 LPAR 中时，可以从 SE 或 HMC 的 CD/DVD-ROM 设备直接装载内核映像，也可以从可通过 FTP 访问的任意远程系统装载。这个功能可以从 HMC 执行。安装过程需要一个文件，该文件将安装数据在文件系统中的位置映射到要将数据复制到的内存位置。对于 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>，此文件名为 <filename>suse.ins</filename>，位于 DVD 1 上的文件系统的根目录中。
   </para>
   <para>
    在 HMC 的左侧导航窗格中，展开<guimenu>系统管理和服务器</guimenu>，并选择要使用的大型机系统。在右侧上方内容区域中显示的 LPAR 表中选择要用于引导 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 的 LPAR。在“任务”区域中，展开<guimenu>恢复</guimenu>并单击<guimenu>从 CD-ROM、DVD 或服务器装载</guimenu>。
   </para>
   <para>
    现在，选择<guimenu>硬件管理控制台 CD-ROM/DVD</guimenu> 或 <guimenu>FTP 源</guimenu>。如果选择了后一个选项，则需要提供服务器地址或名称，以及您的身份凭证。如果 <filename>suse.ins</filename> 文件不位于服务器 root 目录，则需要提供到该文件的路径。转到<guimenu>选择要装载的软件</guimenu>菜单，并选择 <filename>suse.ins</filename> 条目。通过选择<guimenu>确定</guimenu>开始安装。
   </para>
  </sect3>
  <sect3 id="sec.info.iplopt.dvd">
   <title>从 SCSI 挂接式 DVD 装载</title>
   <para>
    要从 SCSI DVD 进行 IPL 操作，需要访问连接到 DVD 驱动器的 FCP 适配器。您需要 SCSI 中诸如 WWPN 和 LUN 的值。有关细节，请参见<xref linkend="sec.prep.ipling.lpar.dvd"/>。
   </para>
  </sect3>
   <sect3 id="sec.info.iplopt.zpxe">
   <title>使用 zPXE 从网络加载</title>
   <para>
    若要使用 zPXE 从网络实现 IPL 操作，则要求 Cobbler 服务器提供内核、RAM 磁盘和 parmfile。zPXE 只在 z/VM 中提供，并通过运行 ZPXE EXEC 脚本而启动。有关详细信息，请参见<xref linkend="sec.prep.makeavail.zpxe_cobbler"/>。
   </para>
  </sect3> 
 </sect2>

 <sect2 id="sec.info.iocds">
  <title>IOCDS</title><indexterm> <primary>准备</primary><secondary>IOCDS</secondary></indexterm><indexterm><primary>IOCDS</primary></indexterm>
  <para>
   本节提供关于 IOCDS 的一些必要信息和如何自定义某些在几个 LPAR 中共享网卡或 DASD 的一些设置。IOCDS 中定义了 <literal>chpid</literal> 和连接到 IBM System z 的设备类型。可以在 LPAR 中获得和分享资源。
  </para>
  <warning>
   <title>共享设备 (DASD)</title>
   <para>
    不要在 LPAR 之间共享可写 DASD，因为这可能导致数据丢失。当您规划 IBM System z 上的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 设置时，要预先考虑必要资源的定义。
   </para>
  </warning>
  <para>
   本示例显示了为特定 LPAR 提供专用 DASD 的方法。此 LPAR 的相关信息，参见 <literal>LPAR1</literal>。
  </para>
  <example id="ex.info.iocds.dasdtolpar">
   <title>为“某个 LPAR”提供 DASD</title>
   <screen>CHPID PATH=FD,TYPE=DSD,SHARED 
CNTLUNIT CUNUMBR=FD00,PATH=FD,UNITADD=((00,256)),UNIT=3990-2 
IODEVICE ADDRESS=(FD03,1),CUNUMBR=FD00,UNIT=3390,PART=LPAR1</screen>
  </example>
  <para>
   要在若干 LPAR 中共享一个 DASD，删除 IOCDS 定义中的 <literal>PART=LPAR1</literal> 部分。此操作可能会用于高可用性或从若干只读 LPAR 中共享数据。
  </para>
  <para>
   如果您在若干 LPAR 或 z/VM guest 系统中共享网络设备，数个 Linux 系统可以使用同一个网络设备。这样可以减少向 Linux 系统提供的网络设备数量。另外一方面,您可以为 Linux 系统提供备用的网络设备，以备第一个连接失败。
  </para>
  <para>
   网卡（如 OSA-Express）可以通过两种不同模式使用。这两种模式称为 QDIO 模式及非 QDIO 模式。使用 <literal>TYPE</literal> 语句定义 IOCDS 中的模式。QDIO 模式比非 QDIO 模式快得多，但是比较于非 QDIO 使用两个设备地址，它需要三个设备地址。当规划您的 IBM System z Linux 环境的设置时，请考虑设备地址的数量限制。
  </para>
  <example id="ex.info.iocds.non_qdio">
   <title>在 z9上在若干 LPAR(非 QDIO) 中共享 OSA Express 网卡</title>
   <screen>CHPID PATH=(FE),SHARED,PARTITION=((LPAR1,LPAR2)),TYPE=OSE 
CNTLUNIT CUNUMBR=FE00,PATH=(FE),UNIT=OSA 
IODEVICE ADDRESS=(FE00,016),CUNUMBR=(FE00),UNIT=OSA 
IODEVICE ADDRESS=(FEFE,001),CUNUMBR=(FE00),UNIT=OSAD</screen>
  </example>
  <example id="ex.info.iocds.qdio">
   <title>在 z9上在若干 LPAR(qdio) 中共享 OSA Express 网卡</title>
   <screen>CHPID PATH=(FE),SHARED,PARTITION=((LPAR1,LPAR2)),TYPE=OSD 
CNTLUNIT CUNUMBER=FE00,PATH=(FE),UNIT=OSA 
IODEVICE ADDRESS=(FE00,016),CUNUMBR=(FE00),UNIT=OSA 
IODEVICE ADDRESS=(FEFE,001),CUNUMBR=(FE00),UNIT=OSAD</screen>
  </example>
 </sect2>
</sect1>
